// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as a}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.0.3-esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-cast-return@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as w}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";function T(r,n){return r[n]}function V(r,n){return r.get(n)}function S(r,n,e){r[n]=e}function k(r,n,e){r.set(e,n)}function F(r,n,e,t){var i,a,o,u,s,f;return(u=r[0]).get&&u.set&&(i=V),(s=r[1]).get&&s.set&&(a=V),(f=r[2]).get&&f.set&&(o=k),i||a||o?function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g,v,h,y;if(!((h=n[0])<=0))for(d=(s=e[0])<0?(1-h)*s:0,m=(f=e[1])<0?(1-h)*f:0,p=(l=e[2])<0?(1-h)*l:0,c=r[0],g=r[1],v=r[2],a=t[0],o=t[1],u=t[2],y=0;y<h;y++)u(v,p,i(a(c,d),o(g,m))),d+=s,m+=f,p+=l}(r,n,e,[i=i||T,a=a||T,o=o||S],t):function(r,n,e,t){var i,a,o,u,s,f,l,d,m,p,c;if(!((p=n[0])<=0))for(u=(i=e[0])<0?(1-p)*i:0,s=(a=e[1])<0?(1-p)*a:0,f=(o=e[2])<0?(1-p)*o:0,l=r[0],d=r[1],m=r[2],c=0;c<p;c++)m[f]=t(l[u],d[s]),u+=i,s+=a,f+=o}(r,n,e,t)}n(F,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f,l;return(s=r[0]).get&&s.set&&(a=V),(f=r[1]).get&&f.set&&(o=V),(l=r[2]).get&&l.set&&(u=k),a||o||u?function(r,n,e,t,i,a){var o,u,s,f,l,d,m,p,c,g,v,h,y,b;if(!((y=n[0])<=0))for(m=t[0],p=t[1],c=t[2],f=e[0],l=e[1],d=e[2],g=r[0],v=r[1],h=r[2],o=i[0],u=i[1],s=i[2],b=0;b<y;b++)s(h,c,a(o(g,m),u(v,p))),m+=f,p+=l,c+=d}(r,n,e,t,[a=a||T,o=o||T,u=u||S],i):function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g;if(!((c=n[0])<=0))for(s=t[0],f=t[1],l=t[2],a=e[0],o=e[1],u=e[2],d=r[0],m=r[1],p=r[2],g=0;g<c;g++)p[l]=i(d[s],m[f]),s+=a,f+=o,l+=u}(r,n,e,t,i)}));var O=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function U(){return O.slice()}var I=a();function R(){return{bool:I.bool,int8:I.int8,uint8:I.uint8,uint8c:I.uint8c,int16:I.int16,uint16:I.uint16,int32:I.int32,uint32:I.uint32,int64:I.int64,uint64:I.uint64,float32:I.float32,float64:I.float64,complex64:I.complex64,complex128:I.complex128,binary:I.binary,generic:I.generic,notype:I.notype,userdefined_type:I.userdefined_type}}n(U,"enum",R),function(n,e){var t,i,a;for(t=o(e),a=0;a<t.length;a++)i=t[a],r(n,i,e[i])}(U,R());var B=i(R(),{duplicates:!1});function _(r){var n=B[r];return"string"==typeof n?n:null}var D=R();function A(r){var n=D[r];return"number"==typeof n?n:null}function M(r){var n=typeof r;return"number"===n?_(r)?r:null:"string"===n?A(r):null}function P(r,n){return new u(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function C(r,n){return new s(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}var q=M("complex64"),z=M("complex128");function L(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o,u,s,f,l,d,m){var p,c,g;if(!t(a)||!t(s)||!t(d))return n(e,i,a,o,u,s,f,l,d,m),d;if(i=M(i),u=M(u),l=M(l),null===i||null===u||null===l)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");p=i===q?P(a,0):i===z?C(a,0):a;c=u===q?P(s,0):u===z?C(s,0):s;g=l===q?P(d,0):l===z?C(d,0):d;return r(e,i,p,o,u,c,f,l,g,m),d}}function N(r,n){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)}function Y(r,n,e){return r>0&&n<0&&(e+=(r-1)*n),e}var G=M("complex64"),H=M("complex128");function J(r){var n=typeof r;return"string"===n?A(r)?r:null:"number"===n?_(r):null}function K(r,n){var e,t,i,a,o,u,s;for(t=r.length,i=n.length,e=[],s=0,o=0;o<t&&!(s>=i);o++)for(a=r[o],u=s;u<i;u++)if(a===n[u]){s=u+1,e.push(a);break}return e}function Q(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=J(r[t])))return new TypeError(f("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}function W(r,n){var e;for(e=0;e<r.length;e++)if(r[e]===n)return!0;return!1}n(L,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o,u,s,d,m,p,c,g,v,h){var y,b,w;if(!t(a)||!t(d)||!t(g))return n(e,i,a,o,u,s,d,m,p,c,g,v,h),g;if(i=M(i),s=M(s),c=M(c),null===i||null===s||null===c)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(u))throw new TypeError(f("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",u));if(!l(p))throw new TypeError(f("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",p));if(!l(h))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",h));u=Y(e,o,u),p=Y(e,m,p),h=Y(e,v,h),y=i===G?P(a,u):i===H?C(a,u):N(a,u);b=s===G?P(d,p):s===H?C(d,p):N(d,p);w=c===G?P(g,h):c===H?C(g,h):N(g,h);return r(e,i,y,o,s,b,m,c,w,v),g}}));var X="complex64",Z="complex128",$={complex64:p,complex128:c};function rr(r,n,e,t){return t===Z?n===X?e===Z||e===X?r[Z]:g(r[Z],2,$[Z]):n===Z&&(e===Z||e===X)?r[Z]:g(r[Z],2,$[Z]):t===X?n===Z?e===X||e===Z?r[Z]:g(r[Z],2,$[Z]):n===X?e===Z?r[Z]:e===X?r[X]:g(r[X],2,$[X]):e===Z?g(r[Z],2,$[Z]):g(r[X],2,$[X]):"generic"===t?n===Z?e===Z||e===X?r[Z]:g(r[Z],2,$[Z]):n===X?e===X?r[X]:e===Z?r[Z]:g(r[X],2,$[X]):e===Z?g(r[Z],2,$[Z]):e===X?g(r[X],2,$[X]):r.default:r.default}function nr(r,n,e,t,i,a){var o,u,s;if(r<=0)return t;for(o=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(o)),u),o+=e,u+=i;return t}function er(r,n,e,t,i,a){var o,u,s;if(r<=0)return t;for(o=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,s=0;s<r;s++)t[u]=a(n[o]),o+=e,u+=i;return t}function tr(r,n,e,t,i,a,o,u){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=o<0?(1-r)*o:0,d=0;d<r;d++)a[l]=u(n[s],t[f]),s+=e,f+=i,l+=o;return a}function ir(r,n,e,t,i,a,o,u){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=o<0?(1-r)*o:0,d=0;d<r;d++)0===t[f]&&(a[l]=u(n[s])),s+=e,f+=i,l+=o;return a}function ar(r,n,e,t,i,a,o,u,s,f){var l,d,m,p,c;if(r<=0)return u;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,p=o<0?(1-r)*o:0,c=0;c<r;c++)0===a[p]&&(u[m]=f(n[l],t[d])),l+=e,d+=i,m+=s,p+=o;return u}function or(r,n,e,t,i,a,o,u){var s,f,l,d;if(r<=0)return t;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=0;d<r;d++)void 0!==(l=o.call(u,n[s],d,s,f,n,t))&&(t[f]=a(l)),s+=e,f+=i;return t}function ur(r,n,e,t,i,a,o,u,s,f){var l,d,m,p,c;if(r<=0)return a;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=o<0?(1-r)*o:0,c=0;c<r;c++)void 0!==(p=s.call(f,n[l],t[d],c,l,d,m,n,t,a))&&(a[m]=u(p[0],p[1])),l+=e,d+=i,m+=o;return a}function sr(r,n,e,t){var i,a,o,u,s,f,l,d,m,p,c;if(!((p=n[0])<=0))for(u=(i=e[0])<0?(1-p)*i:0,s=(a=e[1])<0?(1-p)*a:0,f=(o=e[2])<0?(1-p)*o:0,l=r[0],d=r[1],m=r[2],c=0;c<p;c++)0===d[s]&&(m[f]=t(l[u])),u+=i,s+=a,f+=o}function fr(r,n,e,t){var i,a,o,u,s;if(!((u=n[0])<=0))for(a=(i=e[0])<0?(1-u)*i:0,o=r[0],s=0;s<u;s++)o[a]=t(),a+=i}n(nr,"ndarray",(function(r,n,e,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i.set(u(n.get(s)),f),s+=e,f+=a;return i})),n(er,"ndarray",(function(r,n,e,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i[f]=u(n[s]),s+=e,f+=a;return i})),n(tr,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)u[p]=l(n[d],i[m]),d+=e,m+=a,p+=s;return u})),n(ir,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(u[p]=l(n[d])),d+=e,m+=a,p+=s;return u})),n(ar,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l,d,m,p){var c,g,v,h,y;if(r<=0)return l;for(c=t,g=o,v=m,h=f,y=0;y<r;y++)0===u[h]&&(l[v]=p(n[c],i[g])),c+=e,g+=a,v+=d,h+=s;return l})),n(or,"ndarray",(function(r,n,e,t,i,a,o,u,s,f){var l,d,m,p;if(r<=0)return i;for(l=t,d=o,p=0;p<r;p++)void 0!==(m=s.call(f,n[l],p,l,d,n,i))&&(i[d]=u(m)),l+=e,d+=a;return i})),n(ur,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l,d,m){var p,c,g,v,h;if(r<=0)return u;for(p=t,c=o,g=f,h=0;h<r;h++)void 0!==(v=d.call(m,n[p],i[c],h,p,c,g,n,i,u))&&(u[g]=l(v[0],v[1])),p+=e,c+=a,g+=s;return u})),n(sr,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g;if(!((c=n[0])<=0))for(s=t[0],f=t[1],l=t[2],a=e[0],o=e[1],u=e[2],d=r[0],m=r[1],p=r[2],g=0;g<c;g++)0===m[f]&&(p[l]=i(d[s])),s+=a,f+=o,l+=u})),n(fr,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f;if(!((s=n[0])<=0))for(o=t[0],a=e[0],u=r[0],f=0;f<s;f++)u[o]=i(),o+=a}));var lr=M("complex64"),dr=M("complex128");function mr(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o){var u;if(!t(a))return n(e,i,a,o),a;if(null===(i=M(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");u=i===lr?P(a,0):i===dr?C(a,0):a;return r(e,i,u,o),a}}var pr=M("complex64"),cr=M("complex128");function gr(r,n,e,t){var i,a,o,u,s,f,l,d,m,p,c,g,v,h,y,b,w;if(!((b=n[0])<=0))for(f=(i=e[0])<0?(1-b)*i:0,l=(a=e[1])<0?(1-b)*a:0,d=(o=e[2])<0?(1-b)*o:0,m=(u=e[3])<0?(1-b)*u:0,p=(s=e[4])<0?(1-b)*s:0,c=r[0],g=r[1],v=r[2],h=r[3],y=r[4],w=0;w<b;w++)y[p]=t(c[f],g[l],v[d],h[m]),f+=i,l+=a,d+=o,m+=u,p+=s}function vr(r,n,e,t){var i,a,o,u,s,f,l,d,m,p,c,g,v,h,y,b,w,j,E,x;if(!((E=n[0])<=0))for(l=(i=e[0])<0?(1-E)*i:0,d=(a=e[1])<0?(1-E)*a:0,m=(o=e[2])<0?(1-E)*o:0,p=(u=e[3])<0?(1-E)*u:0,c=(s=e[4])<0?(1-E)*s:0,g=(f=e[5])<0?(1-E)*f:0,v=r[0],h=r[1],y=r[2],b=r[3],w=r[4],j=r[5],x=0;x<E;x++)j[g]=t(v[l],h[d],y[m],b[p],w[c]),l+=i,d+=a,m+=o,p+=u,c+=s,g+=f}function hr(r,n,e,t,i,a){var o,u,s;if(r<=0)return t;for(o=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,s=0;s<r;s++)t[u]=a(n[o]),o+=e,u+=i;return t}function yr(r,n,e,t,i,a,o,u){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=o<0?(1-r)*o:0,d=0;d<r;d++)a[l]=u(n[s],t[f]),s+=e,f+=i,l+=o;return a}function br(r,n,e,t,i,a,o,u){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=o<0?(1-r)*o:0,d=0;d<r;d++)0===t[f]&&(a[l]=u(n[s])),s+=e,f+=i,l+=o;return a}function wr(r,n,e,t,i,a,o,u,s,f){var l,d,m,p,c;if(r<=0)return u;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,p=o<0?(1-r)*o:0,c=0;c<r;c++)0===a[p]&&(u[m]=f(n[l],t[d])),l+=e,d+=i,m+=s,p+=o;return u}function jr(r,n,e,t){var i,a,o,u,s,f,l,d,m,p,c,g,v,h;if(!((v=n[0])<=0))for(s=(i=e[0])<0?(1-v)*i:0,f=(a=e[1])<0?(1-v)*a:0,l=(o=e[2])<0?(1-v)*o:0,d=(u=e[3])<0?(1-v)*u:0,m=r[0],p=r[1],c=r[2],g=r[3],h=0;h<v;h++)g[d]=t(m[s],p[f],c[l]),s+=i,f+=a,l+=o,d+=u}function Er(r,n){return r[n]}function xr(r,n){return r.get(n)}function Tr(r,n,e){r[n]=e}function Vr(r,n,e){r.set(e,n)}function Sr(r,n,e,t){var i,a,o,u;return(o=r[0]).get&&o.set&&(i=xr),(u=r[1]).get&&u.set&&(a=Vr),i||a?function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c;if(!((p=n[0])<=0))for(f=(u=e[0])<0?(1-p)*u:0,l=(s=e[1])<0?(1-p)*s:0,d=r[0],m=r[1],a=t[0],o=t[1],c=0;c<p;c++)o(m,l,i(a(d,f))),f+=u,l+=s}(r,n,e,[i=i||Er,a=a||Tr],t):function(r,n,e,t){var i,a,o,u,s,f,l,d;if(!((l=n[0])<=0))for(o=(i=e[0])<0?(1-l)*i:0,u=(a=e[1])<0?(1-l)*a:0,s=r[0],f=r[1],d=0;d<l;d++)f[u]=t(s[o]),o+=i,u+=a}(r,n,e,t)}n(mr,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o,u){var s;if(!t(a))return n(e,i,a,o,u),a;if(null===(i=M(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(u))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",u));u=Y(e,o,u),s=i===pr?P(a,u):i===cr?C(a,u):N(a,u);return r(e,i,s,o),a}})),n(gr,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g,v,h,y,b,w,j;if(!((w=n[0])<=0))for(l=t[0],d=t[1],m=t[2],p=t[3],c=t[4],a=e[0],o=e[1],u=e[2],s=e[3],f=e[4],g=r[0],v=r[1],h=r[2],y=r[3],b=r[4],j=0;j<w;j++)b[c]=i(g[l],v[d],h[m],y[p]),l+=a,d+=o,m+=u,p+=s,c+=f})),n(vr,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g,v,h,y,b,w,j,E,x,T;if(!((x=n[0])<=0))for(d=t[0],m=t[1],p=t[2],c=t[3],g=t[4],v=t[5],a=e[0],o=e[1],u=e[2],s=e[3],f=e[4],l=e[5],h=r[0],y=r[1],b=r[2],w=r[3],j=r[4],E=r[5],T=0;T<x;T++)E[v]=i(h[d],y[m],b[p],w[c],j[g]),d+=a,m+=o,p+=u,c+=s,g+=f,v+=l})),n(hr,"ndarray",(function(r,n,e,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i[f]=u(n[s]),s+=e,f+=a;return i})),n(yr,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)u[p]=l(n[d],i[m]),d+=e,m+=a,p+=s;return u})),n(br,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(u[p]=l(n[d])),d+=e,m+=a,p+=s;return u})),n(wr,"ndarray",(function(r,n,e,t,i,a,o,u,s,f,l,d,m,p){var c,g,v,h,y;if(r<=0)return l;for(c=t,g=o,v=m,h=f,y=0;y<r;y++)0===u[h]&&(l[v]=p(n[c],i[g])),c+=e,g+=a,v+=d,h+=s;return l})),n(jr,"ndarray",(function(r,n,e,t,i){var a,o,u,s,f,l,d,m,p,c,g,v,h,y;if(!((h=n[0])<=0))for(f=t[0],l=t[1],d=t[2],m=t[3],a=e[0],o=e[1],u=e[2],s=e[3],p=r[0],c=r[1],g=r[2],v=r[3],y=0;y<h;y++)v[m]=i(p[f],c[l],g[d]),f+=a,l+=o,d+=u,m+=s})),n(Sr,"ndarray",(function(r,n,e,t,i){var a,o,u,s;return(u=r[0]).get&&u.set&&(a=xr),(s=r[1]).get&&s.set&&(o=Vr),a||o?function(r,n,e,t,i,a){var o,u,s,f,l,d,m,p,c,g;if(!((c=n[0])<=0))for(l=t[0],d=t[1],s=e[0],f=e[1],m=r[0],p=r[1],o=i[0],u=i[1],g=0;g<c;g++)u(p,d,a(o(m,l))),l+=s,d+=f}(r,n,e,t,[a=a||Er,o=o||Tr],i):function(r,n,e,t,i){var a,o,u,s,f,l,d,m;if(!((d=n[0])<=0))for(u=t[0],s=t[1],a=e[0],o=e[1],f=r[0],l=r[1],m=0;m<d;m++)l[s]=i(f[u]),u+=a,s+=o}(r,n,e,t,i)}));var kr=M("complex64"),Fr=M("complex128");function Or(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o,u,s,f){var l,d;if(!t(a)||!t(s))return n(e,i,a,o,u,s,f),s;if(i=M(i),u=M(u),null===i||null===u)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");l=i===kr?P(a,0):i===Fr?C(a,0):a;d=u===kr?P(s,0):u===Fr?C(s,0):s;return r(e,i,l,o,u,d,f),s}}var Ur=M("complex64"),Ir=M("complex128");function Rr(r,n){var e,t,i,a,o,u,s;for(t=r.length,i=n.length,e=[],s=0,o=0;o<t&&!(s>=i);o++)for(a=r[o],u=s;u<i;u++)if(a===n[u]){s=u+1,e.push(a);break}return e}function Br(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=J(r[t])))return new TypeError(f("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}n(Or,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,o,u,s,d,m,p){var c,g;if(!t(a)||!t(d))return n(e,i,a,o,u,s,d,m,p),d;if(i=M(i),s=M(s),null===i||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(u))throw new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",u));if(!l(p))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`."));u=Y(e,o,u),p=Y(e,m,p),c=i===Ur?P(a,u):i===Ir?C(a,u):N(a,u);g=s===Ur?P(d,p):s===Ir?C(d,p):N(d,p);return r(e,i,c,o,s,g,m),d}}));var _r="complex64",Dr="complex128",Ar={complex64:p,complex128:c};function Mr(r,n,e){return e===Dr?n===_r||n===Dr?r[Dr]:y(r.default,1,Ar[e]):e===_r?n===_r?r[_r]:n===Dr?r[Dr]:y(r.default,1,Ar[e]):"generic"===e?n===Dr?r[Dr]:n===_r?r[_r]:r.default:r.default}function Pr(r,n,e,t,i,a){var o,u,s;if(r<=0)return t;for(o=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(o)),u),o+=e,u+=i;return t}n(Pr,"ndarray",(function(r,n,e,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i.set(u(n.get(s)),f),s+=e,f+=a;return i}));var Cr={};function qr(r,n,e,t,i,a,o,u,s){var f,l,d,m;for(f=a,d=0;d<r;d++){for(l=s,m=0;m<n&&e[f+m*i]===o[l];m++)l+=u;if(m===n)return d;f+=t}return-1}function zr(r,n,t,i,a,o){var u,s,d,m,p,c;if(e(r))c=r;else if(!j(r))throw new TypeError(f("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!E(n))throw new TypeError(f("invalid argument. Second argument must be an array-like object. Value: `%s`.",n));if(!E(t)&&null!==t)throw new TypeError(f("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",t));if(!b(i))throw new TypeError(f("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",i));if(!l(a))throw new TypeError(f("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",a));if(!l(o))throw new TypeError(f("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",o));if(0===(d=a+o))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(c){if(m=n.length/d,!w(m))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(m=r.length,n.length!==m*d)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(t&&t.length!==m)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*d+1===i)s=!1;else{if(4*d+1!==i)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");s=!0}return p=a*(u=s?4:3)+1,function(){var e,g,v,h,y,b,j,T,V,S,k,F;if((b=arguments.length)!==i){if(b<i)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(!w(T=arguments[0]))throw new TypeError(f("invalid argument. First argument must be an integer. Value: `%s`.",T));for(y=[T],h=[],k=1;k<i;k+=u)h.push(arguments[k]);for(e=[],k=3;k<i;k+=u){if(!w(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array stride must be an integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array stride must be an integer. Value: `%s`.",V));e.push(V)}if(s)for(g=[],k=4;k<i;k+=u){if(!l(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",V));g.push(V)}for(v=[],k=2;k<i;k+=u){if(!E(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array must be an array-like object. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array must be an array-like object. Value: `%s`.",V));if(F=(k-2)/u,s){if(j=g[F]+(T-1)*e[F],T>0&&(j<0||j>=V.length))throw k<p?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((T-1)*x(e[F])>=V.length)throw k<p?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");v.push(V)}if((j=qr(m,d,n,d,1,0,h,1,0))<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");S=c||r[j];t?s?S(v,y,e,g,t[j]):S(v,y,e,t[j]):s?S(v,y,e,g):S(v,y,e);if(1===o)return v[d-1];if(0===o)return;return v.slice(a)}}r(Cr,"binary",F),r(Cr,"binaryAddonDispatch",L),r(Cr,"binaryDtypeSignatures",(function(r,n,e,t){var i,a,o,u,s,f,l,p,c,g,v,h,y,b,w,j,E;if(o=arguments.length>3?t:{},(f=Q(r))instanceof Error)throw f;if(n===r)l=f;else if((l=Q(n))instanceof Error)throw l;if(e===r)p=f;else if(e===n)p=l;else if((p=Q(e))instanceof Error)throw p;for(p.sort(),i={},y=f.length,b=l.length,s=[],w=0;w<y;w++)for(c=f[w],j=0;j<b;j++)if(g=l[j],-1!==(v=d(c,g))&&null!==v)for(W(p,v)&&s.push(c,g,v),void 0===(a=i[v])&&(a=K(p,(a=m(v)).sort()),i[v]=a),E=0;E<a.length;E++)(h=a[E])!==v&&s.push(c,g,h);if(o.enums){for(u=[],w=0;w<s.length;w++)u.push(M(s[w]));s=u}return s})),r(Cr,"binarySignatureCallbacks",(function(r,n){var e,t,i,a,o;for(e=[],o=0;o<n.length;o+=3)t=J(n[o]),i=J(n[o+1]),a=J(n[o+2]),e.push(rr(r,t,i,a));return e})),r(Cr,"cmap",nr),r(Cr,"dmap",er),r(Cr,"dmap2",tr),r(Cr,"dmskmap",ir),r(Cr,"dmskmap2",ar),r(Cr,"dtypeEnum2Str",_),r(Cr,"dtypeResolveEnum",M),r(Cr,"dtypeResolveStr",J),r(Cr,"dtypeStr2Enum",A),r(Cr,"mapBy",or),r(Cr,"mapBy2",ur),r(Cr,"maxViewBufferIndex",(function(r,n,e){return r>0&&n>0&&(e+=(r-1)*n),e})),r(Cr,"metaDataProps",(function(r,e,t,i){return n(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),n(t,"nin",r.nin),n(t,"nout",r.nout),v(t,"types",(function(){return h(e,r.nin,r.nout)})),t})),r(Cr,"minViewBufferIndex",Y),r(Cr,"mskunary",sr),r(Cr,"nullary",fr),r(Cr,"nullaryAddonDispatch",mr),r(Cr,"offsetView",N),r(Cr,"quaternary",gr),r(Cr,"quinary",vr),r(Cr,"reinterpretComplex64",P),r(Cr,"reinterpretComplex128",C),r(Cr,"smap",hr),r(Cr,"smap2",yr),r(Cr,"smskmap",br),r(Cr,"smskmap2",wr),r(Cr,"ternary",jr),r(Cr,"unary",Sr),r(Cr,"unaryAddonDispatch",Or),r(Cr,"unaryDtypeSignatures",(function(r,n,e){var t,i,a,o,u,s,f,l,d,p;if(i=arguments.length>2?e:{},(u=Br(r))instanceof Error)throw u;if(n===r)s=u;else if((s=Br(n))instanceof Error)throw s;for(s.sort(),l=u.length,o=[],d=0;d<l;d++)if(f=u[d],null!==(t=m(f)))for(t=Rr(s,t.sort()),p=0;p<t.length;p++)o.push(f,t[p]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(M(o[d]));o=a}return o})),r(Cr,"unarySignatureCallbacks",(function(r,n){var e,t,i,a;for(e=[],a=0;a<n.length;a+=2)t=J(n[a]),i=J(n[a+1]),e.push(Mr(r,t,i));return e})),r(Cr,"zmap",Pr);var Lr={};r(Lr,"base",Cr),r(Lr,"dispatch",zr),r(Lr,"dtypes",U);export{Cr as base,Lr as default,zr as dispatch,U as dtypes};
//# sourceMappingURL=index.mjs.map
