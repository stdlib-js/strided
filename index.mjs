// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.3.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@v0.3.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint8@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import{isPrimitive as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@v0.3.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@v0.3.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32-ctor@v0.0.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64-ctor@v0.0.3-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@esm/index.mjs";import U from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32-ctor@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64-ctor@esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-cast-return@esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex128array@esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex64array@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.2-esm/index.mjs";import{isPrimitive as P}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@v0.2.2-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.2.2-esm/index.mjs";function Y(r,e){return e>0?0:(1-r)*e}function q(r,e,n,t,i){var a,o,s,u,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(u=t[0],f=t[1],l=t[2],a=n[0],o=n[1],s=n[2],d=r[0],m=r[1],p=r[2],v=0;v<c;v++)p[l]=i(d[u],m[f]),u+=a,f+=o,l+=s}function G(r,e,n,t,i,a){var o,s,u,f,l,d,m,p,c,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],p=t[1],c=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],s=i[1],u=i[2],b=0;b<y;b++)u(h,c,a(o(v,m),s(g,p))),m+=f,p+=l,c+=d}function H(r,e,u,f){var l,d,m,p,c,v;return p=r[0],n(p)&&(l=t(s(p))),c=r[1],n(c)&&(d=t(s(c))),v=r[2],n(v)&&(m=i(s(v))),l||d||m?function(r,e,n,t,i){var a;return G(r,e,n,[Y(a=e[0],n[0]),Y(a,n[1]),Y(a,n[2])],t,i)}(r,e,u,[l=l||a(s(p)),d=d||a(s(c)),m=m||o(s(v))],f):function(r,e,n,t){var i;return q(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1]),Y(i,n[2])],t)}(r,e,u,f)}e(H,"ndarray",(function(r,e,u,f,l){var d,m,p,c,v,g;return c=r[0],n(c)&&(d=t(s(c))),v=r[1],n(v)&&(m=t(s(v))),g=r[2],n(g)&&(p=i(s(g))),d||m||p?G(r,e,u,f,[d=d||a(s(c)),m=m||a(s(v)),p=p||o(s(g))],l):q(r,e,u,f,l)}));var J=["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function K(){return J.slice()}var Q=d();function W(){return{bool:Q.bool,int8:Q.int8,uint8:Q.uint8,uint8c:Q.uint8c,int16:Q.int16,uint16:Q.uint16,int32:Q.int32,uint32:Q.uint32,int64:Q.int64,uint64:Q.uint64,float32:Q.float32,float64:Q.float64,complex64:Q.complex64,complex128:Q.complex128,binary:Q.binary,generic:Q.generic,notype:Q.notype,userdefined_type:Q.userdefined_type}}e(K,"enum",W),function(e,n){var t,i,a;for(t=m(n),a=0;a<t.length;a++)i=t[a],r(e,i,n[i])}(K,W());var X=l(W(),{duplicates:!1});function Z(r){var e=X[r];return"string"==typeof e?e:null}var $=W();function rr(r){var e=$[r];return"number"==typeof e?e:null}function er(r){var e=typeof r;return"number"===e?Z(r)?r:null:"string"===e?rr(r):null}function nr(r,e){return new p(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function tr(r,e){return new c(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function ir(r,e){return new v(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}var ar=er("complex64"),or=er("complex128"),sr=er("bool");function ur(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m){var p,c,v;if(!f(i)||!f(s)||!f(d))return e(n,t,i,a,o,s,u,l,d,m),d;if(t=er(t),o=er(o),l=er(l),null===t||null===o||null===l)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");p=t===ar?nr(i,0):t===or?tr(i,0):t===sr?ir(i,0):i;c=o===ar?nr(s,0):o===or?tr(s,0):o===sr?ir(s,0):s;v=l===ar?nr(d,0):l===or?tr(d,0):l===sr?ir(d,0):d;return r(n,t,p,a,o,c,u,l,v,m),d}}function fr(r,e){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}function lr(r,e,n){return r>0&&e<0&&(n+=(r-1)*e),n}var dr=er("complex64"),mr=er("complex128"),pr=er("bool");function cr(r){var e=typeof r;return"string"===e?null===rr(r)?null:r:"number"===e?Z(r):null}function vr(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function gr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=cr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}function hr(r,e){var n;for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1}e(ur,"ndarray",(function(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m,p,c,v){var y,b,j;if(!f(i)||!f(u)||!f(p))return e(n,t,i,a,o,s,u,l,d,m,p,c,v),p;if(t=er(t),s=er(s),m=er(m),null===t||null===s||null===m)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!h(o))throw new TypeError(g("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",o));if(!h(d))throw new TypeError(g("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",d));if(!h(v))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",v));o=lr(n,a,o),d=lr(n,l,d),v=lr(n,c,v),y=t===dr?nr(i,o):t===mr?tr(i,o):t===pr?ir(i,o):fr(i,o);b=s===dr?nr(u,d):s===mr?tr(u,d):s===pr?ir(u,d):fr(u,d);j=m===dr?nr(p,v):m===mr?tr(p,v):m===pr?ir(p,v):fr(p,v);return r(n,t,y,a,s,b,l,m,j,c),p}}));var yr="complex64",br="complex128",jr={complex64:j,complex128:w};function wr(r,e,n,t){return t===br?e===yr?n===br||n===yr?r[br]:x(r[br],2,jr[br]):e===br&&(n===br||n===yr)?r[br]:x(r[br],2,jr[br]):t===yr?e===br?n===yr||n===br?r[br]:x(r[br],2,jr[br]):e===yr?n===br?r[br]:n===yr?r[yr]:x(r[yr],2,jr[yr]):n===br?x(r[br],2,jr[br]):x(r[yr],2,jr[yr]):"generic"===t?e===br?n===br||n===yr?r[br]:x(r[br],2,jr[br]):e===yr?n===yr?r[yr]:n===br?r[br]:x(r[yr],2,jr[yr]):n===br?x(r[br],2,jr[br]):n===yr?x(r[yr],2,jr[yr]):r.default:r.default}function xr(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i.set(s(e.get(u)),f),u+=n,f+=a;return i}function Er(r,e,n,t,i,a){return xr(r,e,n,Y(r,n),t,i,Y(r,i),a)}function Tr(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i[f]=s(e[u]),u+=n,f+=a;return i}function Vr(r,e,n,t,i,a){return Tr(r,e,n,Y(r,n),t,i,Y(r,i),a)}function Sr(r,e,n,t,i,a,o,s,u,f,l){var d,m,p,c;if(r<=0)return s;for(d=t,m=o,p=f,c=0;c<r;c++)s[p]=l(e[d],i[m]),d+=n,m+=a,p+=u;return s}function kr(r,e,n,t,i,a,o,s){return Sr(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s)}function Fr(r,e,n,t,i,a,o,s,u,f,l){var d,m,p,c;if(r<=0)return s;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(s[p]=l(e[d])),d+=n,m+=a,p+=u;return s}function Ur(r,e,n,t,i,a,o,s){return Fr(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s)}function Or(r,e,n,t,i,a,o,s,u,f,l,d,m,p){var c,v,g,h,y;if(r<=0)return l;for(c=t,v=o,g=m,h=f,y=0;y<r;y++)0===s[h]&&(l[g]=p(e[c],i[v])),c+=n,v+=a,g+=d,h+=u;return l}function Br(r,e,n,t,i,a,o,s,u,f){return Or(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s,u,Y(r,u),f)}function Ir(r,e,n,t,i,a,o,s,u,f){var l,d,m,p;if(r<=0)return i;for(l=t,d=o,p=0;p<r;p++)void 0!==(m=u.call(f,e[l],p,[l,d],[e,i]))&&(i[d]=s(m)),l+=n,d+=a;return i}function Rr(r,e,n,t,i,a,o,s,u,f,l,d){var m,p,c,v;if(r<=0)return a;for(m=t,p=s,v=0;v<r;v++)void 0!==(c=l.call(d,i(e,m),v,[m,p],[e,a]))&&u(a,p,f(c)),m+=n,p+=o;return a}function _r(r,e,n,t,i,a,o,s){var u,f;return E(e)&&(u=T(F(e))),E(t)&&(f=V(F(t))),u||f?function(r,e,n,t,i,a,o,s,u,f){return Rr(r,e,n,Y(r,n),t,i,a,Y(r,a),o,s,u,f)}(r,e,n,u=u||S(F(e)),t,i,f=f||k(F(t)),a,o,s):function(r,e,n,t,i,a,o,s){return Ir(r,e,n,Y(r,n),t,i,Y(r,i),a,o,s)}(r,e,n,t,i,a,o,s)}function Dr(r,e,n,t,i,a,o,s,u,f,l,d,m){var p,c,v,g,h;if(r<=0)return s;for(c=[t,o,f],v=[e,i,s],p=[0,0],h=0;h<r;h++)p[0]=e[c[0]],p[1]=i[c[1]],void 0!==(g=d.call(m,p,h,c,v))&&(s[c[2]]=l(g[0],g[1])),c[0]+=n,c[1]+=a,c[2]+=u;return s}function Mr(r,e,n,t,i,a,o,s,u,f,l,d,m,p,c,v){var g,h,y,b,j;if(r<=0)return f;for(h=[t,s,d],y=[e,a,f],g=[0,0],j=0;j<r;j++)g[0]=i(e,h[0]),g[1]=u(a,h[1]),void 0!==(b=c.call(v,g,j,h,y))&&m(f,h[2],p(b[0],b[1])),h[0]+=n,h[1]+=o,h[2]+=l;return f}function Ar(r,e,n,t,i,o,s,u,f,l){var d,m,p;return E(e)&&(d=T(F(e))),E(t)&&(m=T(F(t))),E(o)&&(p=V(F(o))),d||m||p?function(r,e,n,t,i,a,o,s,u,f,l,d,m){return Mr(r,e,n,Y(r,n),t,i,a,Y(r,a),o,s,u,Y(r,u),f,l,d,m)}(r,e,n,d=d||a(F(e)),t,i,m=m||a(F(t)),o,s,p=p||k(F(o)),u,f,l):function(r,e,n,t,i,a,o,s,u,f){return Dr(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s,u,f)}(r,e,n,t,i,o,s,u,f,l)}function Cr(r,e,n,t,i){var a,o,s,u,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(u=t[0],f=t[1],l=t[2],a=n[0],o=n[1],s=n[2],d=r[0],m=r[1],p=r[2],v=0;v<c;v++)0===m[f]&&(p[l]=i(d[u])),u+=a,f+=o,l+=s}function Pr(r,e,n,t,i,a){var o,s,u,f,l,d,m,p,c,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],p=t[1],c=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],s=i[1],u=i[2],b=0;b<y;b++)0===s(g,p)&&u(h,c,a(o(v,m))),m+=f,p+=l,c+=d}function zr(r,e,t,s){var u,f,l,d,m,p;return d=r[0],n(d)&&(u=T(F(d))),m=r[1],n(m)&&(f=T(F(m))),p=r[2],n(p)&&(l=i(F(p))),u||f||l?function(r,e,n,t,i){var a;return Pr(r,e,n,[Y(a=e[0],n[0]),Y(a,n[1]),Y(a,n[2])],t,i)}(r,e,t,[u=u||a(F(d)),f=f||a(F(m)),l=l||o(F(p))],s):function(r,e,n,t){var i;return Cr(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1]),Y(i,n[2])],t)}(r,e,t,s)}e(Er,"ndarray",xr),e(Vr,"ndarray",Tr),e(kr,"ndarray",Sr),e(Ur,"ndarray",Fr),e(Br,"ndarray",Or),e(_r,"ndarray",(function(r,e,n,t,i,a,o,s,u,f){var l,d;return E(e)&&(l=T(F(e))),E(i)&&(d=V(F(i))),l||d?Rr(r,e,n,t,l=l||S(F(e)),i,a,o,d=d||k(F(i)),s,u,f):Ir(r,e,n,t,i,a,o,s,u,f)})),e(Ar,"ndarray",(function(r,e,t,o,u,f,l,d,m,p,c,v,g){var h,y,b;return n(e)&&(h=T(s(e))),n(u)&&(y=T(s(u))),n(d)&&(b=i(s(d))),h||y||b?Mr(r,e,t,o,h=h||a(s(e)),u,f,l,y=y||a(s(u)),d,m,p,b=b||k(s(d)),c,v,g):Dr(r,e,t,o,u,f,l,d,m,p,c,v,g)})),e(zr,"ndarray",(function(r,e,t,s,u){var f,l,d,m,p,c;return m=r[0],n(m)&&(f=T(F(m))),p=r[1],n(p)&&(l=T(F(p))),c=r[2],n(c)&&(d=i(F(c))),f||l||d?Pr(r,e,t,s,[f=f||a(F(m)),l=l||a(F(p)),d=d||o(F(c))],u):Cr(r,e,t,s,u)}));var Lr=er("complex64"),Nr=er("complex128"),Yr=er("bool");function qr(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,f,l,d){var m,p;if(!B(i)||!B(l)||!B(s))return e(n,t,i,a,o,s,u,f,l,d),l;if(t=er(t),f=er(f),o=er(o),null===t||null===f||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");m=t===Lr?nr(i,0):t===Nr?tr(i,0):t===Yr?ir(i,0):i;p=f===Lr?nr(l,0):f===Nr?tr(l,0):f===Yr?ir(l,0):l;return r(n,t,m,a,o,s,u,f,p,d),l}}var Gr=er("complex64"),Hr=er("complex128"),Jr=er("bool");function Kr(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function Qr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=cr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(qr,"ndarray",(function(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m,p,c,v){var y,b,j;if(!f(i)||!f(p)||!f(u))return e(n,t,i,a,o,s,u,l,d,m,p,c,v),p;if(t=er(t),m=er(m),s=er(s),null===t||null===m||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!h(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!h(v))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",v));if(!h(d))throw new TypeError(g("invalid argument. Mask array offset must be a nonnegative integer. Value: `%s`.",d));o=lr(n,a,o),v=lr(n,c,v),d=lr(n,l,d),b=t===Gr?nr(i,o):t===Hr?tr(i,o):t===Jr?ir(i,o):fr(i,o);j=m===Gr?nr(p,v):m===Hr?tr(p,v):m===Jr?ir(p,v):fr(p,v);return y=fr(u,d),r(n,t,b,a,s,y,l,m,j,c),p}}));var Wr="complex64",Xr="complex128",Zr={complex64:R,complex128:_};function $r(r,e,n){return n===Xr?e===Wr||e===Xr?r[Xr]:D(r.default,1,Zr[n]):n===Wr?e===Wr?r[Wr]:e===Xr?r[Xr]:D(r.default,1,Zr[n]):"generic"===n?e===Xr?r[Xr]:e===Wr?r[Wr]:r.default:r.default}function re(r,e,n,t,i){var a,o,s,u,f;if(!((u=e[0])<=0))for(o=t[0],a=n[0],s=r[0],f=0;f<u;f++)s[o]=i(),o+=a}function ee(r,e,n,t,i,a){var o,s,u,f,l,d;if(!((l=e[0])<=0))for(u=t[0],s=n[0],f=r[0],o=i[0],d=0;d<l;d++)o(f,u,a()),u+=s}function ne(r,e,t,a){var s,u;return u=r[0],n(u)&&(s=i(F(u))),s?function(r,e,n,t,i){return ee(r,e,n,[Y(e[0],n[0])],t,i)}(r,e,t,[s=s||o(F(u))],a):function(r,e,n,t){return re(r,e,n,[Y(e[0],n[0])],t)}(r,e,t,a)}e(ne,"ndarray",(function(r,e,t,a,s){var u,f;return f=r[0],n(f)&&(u=i(F(f))),u?ee(r,e,t,a,[u=u||o(F(f))],s):re(r,e,t,a,s)}));var te=er("complex64"),ie=er("complex128"),ae=er("bool");function oe(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a){var o;if(!B(i))return e(n,t,i,a),i;if(null===(t=er(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");o=t===te?nr(i,0):t===ie?tr(i,0):t===ae?ir(i,0):i;return r(n,t,o,a),i}}var se=er("complex64"),ue=er("complex128"),fe=er("bool");function le(r,e,n,t,i){var a,o,s,u,f,l,d,m,p,c,v,g,h,y,b,j,w;if(!((j=e[0])<=0))for(l=t[0],d=t[1],m=t[2],p=t[3],c=t[4],a=n[0],o=n[1],s=n[2],u=n[3],f=n[4],v=r[0],g=r[1],h=r[2],y=r[3],b=r[4],w=0;w<j;w++)b[c]=i(v[l],g[d],h[m],y[p]),l+=a,d+=o,m+=s,p+=u,c+=f}function de(r,e,n,t){var i;return le(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1]),Y(i,n[2]),Y(i,n[3]),Y(i,n[4])],t)}function me(r,e,n,t,i){var a,o,s,u,f,l,d,m,p,c,v,g,h,y,b,j,w,x,E,T;if(!((E=e[0])<=0))for(d=t[0],m=t[1],p=t[2],c=t[3],v=t[4],g=t[5],a=n[0],o=n[1],s=n[2],u=n[3],f=n[4],l=n[5],h=r[0],y=r[1],b=r[2],j=r[3],w=r[4],x=r[5],T=0;T<E;T++)x[g]=i(h[d],y[m],b[p],j[c],w[v]),d+=a,m+=o,p+=s,c+=u,v+=f,g+=l}function pe(r,e,n,t){var i;return me(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1]),Y(i,n[2]),Y(i,n[3]),Y(i,n[4]),Y(i,n[5])],t)}function ce(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i[f]=s(e[u]),u+=n,f+=a;return i}function ve(r,e,n,t,i,a){return ce(r,e,n,Y(r,n),t,i,Y(r,i),a)}function ge(r,e,n,t,i,a,o,s,u,f,l){var d,m,p,c;if(r<=0)return s;for(d=t,m=o,p=f,c=0;c<r;c++)s[p]=l(e[d],i[m]),d+=n,m+=a,p+=u;return s}function he(r,e,n,t,i,a,o,s){return ge(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s)}function ye(r,e,n,t,i,a,o,s,u,f,l){var d,m,p,c;if(r<=0)return s;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(s[p]=l(e[d])),d+=n,m+=a,p+=u;return s}function be(r,e,n,t,i,a,o,s){return ye(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s)}function je(r,e,n,t,i,a,o,s,u,f,l,d,m,p){var c,v,g,h,y;if(r<=0)return l;for(c=t,v=o,g=m,h=f,y=0;y<r;y++)0===s[h]&&(l[g]=p(e[c],i[v])),c+=n,v+=a,g+=d,h+=u;return l}function we(r,e,n,t,i,a,o,s,u,f){return je(r,e,n,Y(r,n),t,i,Y(r,i),a,o,Y(r,o),s,u,Y(r,u),f)}function xe(r,e,n,t,i){var a,o,s,u,f,l,d,m,p,c,v,g,h,y;if(!((h=e[0])<=0))for(f=t[0],l=t[1],d=t[2],m=t[3],a=n[0],o=n[1],s=n[2],u=n[3],p=r[0],c=r[1],v=r[2],g=r[3],y=0;y<h;y++)g[m]=i(p[f],c[l],v[d]),f+=a,l+=o,d+=s,m+=u}function Ee(r,e,n,t){var i;return xe(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1]),Y(i,n[2]),Y(i,n[3])],t)}function Te(r,e,n,t,i){var a,o,s,u,f,l,d,m;if(!((d=e[0])<=0))for(s=t[0],u=t[1],a=n[0],o=n[1],f=r[0],l=r[1],m=0;m<d;m++)l[u]=i(f[s]),s+=a,u+=o}function Ve(r,e,n,t,i,a){var o,s,u,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(l=t[0],d=t[1],u=n[0],f=n[1],m=r[0],p=r[1],o=i[0],s=i[1],v=0;v<c;v++)s(p,d,a(o(m,l))),l+=u,d+=f}function Se(r,e,t,o){var s,u,f,l;return f=r[0],n(f)&&(s=T(F(f))),l=r[1],n(l)&&(u=i(F(l))),s||u?function(r,e,n,t,i){var a;return Ve(r,e,n,[Y(a=e[0],n[0]),Y(a,n[1])],t,i)}(r,e,t,[s=s||a(F(f)),u=u||k(F(l))],o):function(r,e,n,t){var i;return Te(r,e,n,[Y(i=e[0],n[0]),Y(i,n[1])],t)}(r,e,t,o)}e(oe,"ndarray",(function(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o){var s;if(!f(i))return e(n,t,i,a,o),i;if(null===(t=er(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!h(o))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",o));o=lr(n,a,o),s=t===se?nr(i,o):t===ue?tr(i,o):t===fe?ir(i,o):fr(i,o);return r(n,t,s,a),i}})),e(de,"ndarray",le),e(pe,"ndarray",me),e(ve,"ndarray",ce),e(he,"ndarray",ge),e(be,"ndarray",ye),e(we,"ndarray",je),e(Ee,"ndarray",xe),e(Se,"ndarray",(function(r,e,t,o,s){var u,f,l,d;return l=r[0],n(l)&&(u=T(F(l))),d=r[1],n(d)&&(f=i(F(d))),u||f?Ve(r,e,t,o,[u=u||a(F(l)),f=f||k(F(d))],s):Te(r,e,t,o,s)}));var ke=er("complex64"),Fe=er("complex128"),Ue=er("bool");function Oe(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u){var f,l;if(!B(i)||!B(s))return e(n,t,i,a,o,s,u),s;if(t=er(t),o=er(o),null===t||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");f=t===ke?nr(i,0):t===Fe?tr(i,0):t===Ue?ir(i,0):i;l=o===ke?nr(s,0):o===Fe?tr(s,0):o===Ue?ir(s,0):s;return r(n,t,f,a,o,l,u),s}}var Be=er("complex64"),Ie=er("complex128"),Re=er("bool");function _e(r,e,n,t,i,a,o){var s,u,f,l,d,m,p,c,v;if(!((p=e[0])<=0))for(f=t[0],l=t[1],s=n[0],u=n[1],d=r[0],m=r[1],v=0;v<p;v++)void 0!==(c=a.call(o,d[f],v,[f,l],[d,m]))&&(m[l]=i(c)),f+=s,l+=u}function De(r,e,n,t,i,a,o,s){var u,f,l,d,m,p,c,v,g,h,y;if(!((g=e[0])<=0))for(m=t[0],p=t[1],l=n[0],d=n[1],c=r[0],v=r[1],u=i[0],f=i[1],y=0;y<g;y++)void 0!==(h=o.call(s,u(c,m),y,[m,p],[c,v]))&&f(v,p,a(h)),m+=l,p+=d}function Me(r,e,t,s,u){var f,l,d,m,p;return arguments.length>5&&(f=arguments[5]),m=r[0],n(m)&&(l=T(F(m))),p=r[1],n(p)&&(d=i(F(p))),l||d?function(r,e,n,t,i,a,o){var s;return De(r,e,n,[Y(s=e[0],n[0]),Y(s,n[1])],t,i,a,o)}(r,e,t,[l=l||a(F(m)),d=d||o(F(p))],s,u,f):function(r,e,n,t,i,a){var o;return _e(r,e,n,[Y(o=e[0],n[0]),Y(o,n[1])],t,i,a)}(r,e,t,s,u,f)}function Ae(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function Ce(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=cr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(Oe,"ndarray",(function(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,f,l){var d,m;if(!B(i)||!B(u))return e(n,t,i,a,o,s,u,f,l),u;if(t=er(t),s=er(s),null===t||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!h(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!h(l))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",l));o=lr(n,a,o),l=lr(n,f,l),d=t===Be?nr(i,o):t===Ie?tr(i,o):t===Re?ir(i,o):fr(i,o);m=s===Be?nr(u,l):s===Ie?tr(u,l):s===Re?ir(u,l):fr(u,l);return r(n,t,d,a,s,m,f),u}})),e(Me,"ndarray",(function(r,e,t,u,f,l){var d,m,p,c,v;return arguments.length>6&&(d=arguments[6]),c=r[0],n(c)&&(m=T(s(c))),v=r[1],n(v)&&(p=i(s(v))),m||p?De(r,e,t,u,[m=m||a(s(c)),p=p||o(s(v))],f,l,d):_e(r,e,t,u,f,l,d)}));var Pe="complex64",ze="complex128",Le={complex64:j,complex128:w};function Ne(r,e,n){return n===ze?e===Pe||e===ze?r[ze]:D(r.default,1,Le[n]):n===Pe?e===Pe?r[Pe]:e===ze?r[ze]:D(r.default,1,Le[n]):"generic"===n?e===ze?r[ze]:e===Pe?r[Pe]:r.default:r.default}function Ye(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i.set(s(e.get(u)),f),u+=n,f+=a;return i}function qe(r,e,n,t,i,a){return Ye(r,e,n,Y(r,n),t,i,Y(r,i),a)}e(qe,"ndarray",Ye);var Ge={};function He(r,e,n,t,i,a){var o,s,f,l,d,m;if(u(r))m=r;else if(!z(r))throw new TypeError(g("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!L(e))throw new TypeError(g("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));if(!L(n)&&null!==n)throw new TypeError(g("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",n));if(!C(t))throw new TypeError(g("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",t));if(!h(i))throw new TypeError(g("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!h(a))throw new TypeError(g("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",a));if(0===(f=i+a))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(m){if(l=e.length/f,!P(l))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(l=r.length,e.length!==l*f)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(n&&n.length!==l)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*f+1===t)s=!1;else{if(4*f+1!==t)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");s=!0}return d=i*(o=s?4:3)+1,function(){var u,p,c,v,y,b,j,w,x,E,T,V;if(b=arguments.length,b!==t){if(b<t)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(w=arguments[0],!P(w))throw new TypeError(g("invalid argument. First argument must be an integer. Value: `%s`.",w));for(y=[w],v=[],T=1;T<t;T+=o)v.push(arguments[T]);for(u=[],T=3;T<t;T+=o){if(!P(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array stride must be an integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array stride must be an integer. Value: `%s`.",x));u.push(x)}if(s)for(p=[],T=4;T<t;T+=o){if(!h(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",x));p.push(x)}for(c=[],T=2;T<t;T+=o){if(!L(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array must be an array-like object. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array must be an array-like object. Value: `%s`.",x));if(V=(T-2)/o,s){if(j=p[V]+(w-1)*u[V],w>0&&(j<0||j>=x.length))throw T<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((w-1)*N(u[V])>=x.length)throw T<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");c.push(x)}if(j=function(r,e,n,t,i,a,o,s,u){var f,l,d,m;for(f=a,d=0;d<r;d++){for(l=u,m=0;m<e&&n[f+m*i]===o[l];m++)l+=s;if(m===e)return d;f+=t}return-1}(l,f,e,f,1,0,v,1,0),j<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");E=m||r[j];n?s?E(c,y,u,p,n[j]):E(c,y,u,n[j]):s?E(c,y,u,p):E(c,y,u);if(1===a)return c[f-1];if(0===a)return;return c.slice(i)}}r(Ge,"binary",H),r(Ge,"binaryAddonDispatch",ur),r(Ge,"binaryDtypeSignatures",(function(r,e,n,t){var i,a,o,s,u,f,l,d,m,p,c,v,g,h,j,w,x;if(o=arguments.length>3?t:{},(f=gr(r))instanceof Error)throw f;if(e===r)l=f;else if((l=gr(e))instanceof Error)throw l;if(n===r)d=f;else if(n===e)d=l;else if((d=gr(n))instanceof Error)throw d;for(d.sort(),i={},g=f.length,h=l.length,u=[],j=0;j<g;j++)for(m=f[j],w=0;w<h;w++)if(p=l[w],-1!==(c=y(m,p))&&null!==c)for(hr(d,c)&&u.push(m,p,c),void 0===(a=i[c])&&(a=vr(d,(a=b(c)).sort()),i[c]=a),x=0;x<a.length;x++)(v=a[x])!==c&&u.push(m,p,v);if(o.enums){for(s=[],j=0;j<u.length;j++)s.push(er(u[j]));u=s}return u})),r(Ge,"binarySignatureCallbacks",(function(r,e){var n,t,i,a,o;for(n=[],o=0;o<e.length;o+=3)t=cr(e[o]),i=cr(e[o+1]),a=cr(e[o+2]),n.push(wr(r,t,i,a));return n})),r(Ge,"cmap",Er),r(Ge,"dmap",Vr),r(Ge,"dmap2",kr),r(Ge,"dmskmap",Ur),r(Ge,"dmskmap2",Br),r(Ge,"dtypeEnum2Str",Z),r(Ge,"dtypeResolveEnum",er),r(Ge,"dtypeResolveStr",cr),r(Ge,"dtypeStr2Enum",rr),r(Ge,"mapBy",_r),r(Ge,"mapBy2",Ar),r(Ge,"maxViewBufferIndex",(function(r,e,n){return r>0&&e>0&&(n+=(r-1)*e),n})),r(Ge,"metaDataProps",(function(r,n,t,i){return e(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),e(t,"nin",r.nin),e(t,"nout",r.nout),U(t,"types",(function(){return O(n,r.nin,r.nout)})),t})),r(Ge,"minViewBufferIndex",lr),r(Ge,"mskunary",zr),r(Ge,"mskunaryAddonDispatch",qr),r(Ge,"mskunaryDtypeSignatures",(function(r,e,n){var t,i,a,o,s,u,f,l,d,m;if(i=arguments.length>2?n:{},(s=Qr(r))instanceof Error)throw s;if(e===r)u=s;else if((u=Qr(e))instanceof Error)throw u;for(u.sort(),l=s.length,o=[],d=0;d<l;d++)if(f=s[d],null!==(t=I(f)))for(t=Kr(u,t.sort()),m=0;m<t.length;m++)o.push(f,"uint8",t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(er(o[d]));o=a}return o})),r(Ge,"mskunarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=3)t=cr(e[a]),i=cr(e[a+2]),n.push($r(r,t,i));return n})),r(Ge,"nullary",ne),r(Ge,"nullaryAddonDispatch",oe),r(Ge,"offsetView",fr),r(Ge,"quaternary",de),r(Ge,"quinary",pe),r(Ge,"reinterpretBoolean",ir),r(Ge,"reinterpretComplex",(function(r,e){if(M(r))return tr(r,e);if(A(r))return nr(r,e);throw new TypeError(g("invalid argument. First argument must be a complex-valued floating-point array. Value: `%s`.",r))})),r(Ge,"reinterpretComplex64",nr),r(Ge,"reinterpretComplex128",tr),r(Ge,"smap",ve),r(Ge,"smap2",he),r(Ge,"smskmap",be),r(Ge,"smskmap2",we),r(Ge,"stride2offset",Y),r(Ge,"ternary",Ee),r(Ge,"unary",Se),r(Ge,"unaryAddonDispatch",Oe),r(Ge,"unaryBy",Me),r(Ge,"unaryDtypeSignatures",(function(r,e,n){var t,i,a,o,s,u,f,l,d,m;if(i=arguments.length>2?n:{},(s=Ce(r))instanceof Error)throw s;if(e===r)u=s;else if((u=Ce(e))instanceof Error)throw u;for(u.sort(),l=s.length,o=[],d=0;d<l;d++)if(f=s[d],null!==(t=I(f)))for(t=Ae(u,t.sort()),m=0;m<t.length;m++)o.push(f,t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(er(o[d]));o=a}return o})),r(Ge,"unarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=2)t=cr(e[a]),i=cr(e[a+1]),n.push(Ne(r,t,i));return n})),r(Ge,"zmap",qe);var Je={};r(Je,"base",Ge),r(Je,"dispatch",He),r(Je,"dtypes",K);export{Ge as base,Je as default,He as dispatch,K as dtypes};
//# sourceMappingURL=index.mjs.map
