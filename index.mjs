// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@v0.2.1-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@v0.2.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.1-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint8@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.2.1-esm/index.mjs";import{isPrimitive as y}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32-ctor@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64-ctor@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@esm/index.mjs";import U from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-cast-return@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex128array@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex64array@esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.1-esm/index.mjs";import{isPrimitive as M}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.1-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@v0.2.1-esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.1-esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.2.1-esm/index.mjs";function z(r,e){return e>0?0:(1-r)*e}function L(r,e,n,t,i){var a,o,u,s,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(s=t[0],f=t[1],l=t[2],a=n[0],o=n[1],u=n[2],d=r[0],m=r[1],p=r[2],v=0;v<c;v++)p[l]=i(d[s],m[f]),s+=a,f+=o,l+=u}function N(r,e,n,t,i,a){var o,u,s,f,l,d,m,p,c,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],p=t[1],c=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],u=i[1],s=i[2],b=0;b<y;b++)s(h,c,a(o(v,m),u(g,p))),m+=f,p+=l,c+=d}function Y(r,e,s,f){var l,d,m,p,c,v;return p=r[0],n(p)&&(l=t(u(p))),c=r[1],n(c)&&(d=t(u(c))),v=r[2],n(v)&&(m=i(u(v))),l||d||m?function(r,e,n,t,i){var a;return N(r,e,n,[z(a=e[0],n[0]),z(a,n[1]),z(a,n[2])],t,i)}(r,e,s,[l=l||a(u(p)),d=d||a(u(c)),m=m||o(u(v))],f):function(r,e,n,t){var i;return L(r,e,n,[z(i=e[0],n[0]),z(i,n[1]),z(i,n[2])],t)}(r,e,s,f)}e(Y,"ndarray",(function(r,e,s,f,l){var d,m,p,c,v,g;return c=r[0],n(c)&&(d=t(u(c))),v=r[1],n(v)&&(m=t(u(v))),g=r[2],n(g)&&(p=i(u(g))),d||m||p?N(r,e,s,f,[d=d||a(u(c)),m=m||a(u(v)),p=p||o(u(g))],l):L(r,e,s,f,l)}));var q=["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function G(){return q.slice()}var H=d();function J(){return{bool:H.bool,int8:H.int8,uint8:H.uint8,uint8c:H.uint8c,int16:H.int16,uint16:H.uint16,int32:H.int32,uint32:H.uint32,int64:H.int64,uint64:H.uint64,float32:H.float32,float64:H.float64,complex64:H.complex64,complex128:H.complex128,binary:H.binary,generic:H.generic,notype:H.notype,userdefined_type:H.userdefined_type}}e(G,"enum",J),function(e,n){var t,i,a;for(t=m(n),a=0;a<t.length;a++)i=t[a],r(e,i,n[i])}(G,J());var K=l(J(),{duplicates:!1});function Q(r){var e=K[r];return"string"==typeof e?e:null}var W=J();function X(r){var e=W[r];return"number"==typeof e?e:null}function Z(r){var e=typeof r;return"number"===e?Q(r)?r:null:"string"===e?X(r):null}function $(r,e){return new p(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function rr(r,e){return new c(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function er(r,e){return new v(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}var nr=Z("complex64"),tr=Z("complex128"),ir=Z("bool");function ar(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s,l,d,m){var p,c,v;if(!f(i)||!f(u)||!f(d))return e(n,t,i,a,o,u,s,l,d,m),d;if(t=Z(t),o=Z(o),l=Z(l),null===t||null===o||null===l)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");p=t===nr?$(i,0):t===tr?rr(i,0):t===ir?er(i,0):i;c=o===nr?$(u,0):o===tr?rr(u,0):o===ir?er(u,0):u;v=l===nr?$(d,0):l===tr?rr(d,0):l===ir?er(d,0):d;return r(n,t,p,a,o,c,s,l,v,m),d}}function or(r,e){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}function ur(r,e,n){return r>0&&e<0&&(n+=(r-1)*e),n}var sr=Z("complex64"),fr=Z("complex128"),lr=Z("bool");function dr(r){var e=typeof r;return"string"===e?null===X(r)?null:r:"number"===e?Q(r):null}function mr(r,e){var n,t,i,a,o,u,s;for(t=r.length,i=e.length,n=[],s=0,o=0;o<t&&!(s>=i);o++)for(a=r[o],u=s;u<i;u++)if(a===e[u]){s=u+1,n.push(a);break}return n}function pr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=dr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}function cr(r,e){var n;for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1}e(ar,"ndarray",(function(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s,f,l,d,m,p,c){var v,b,w;if(!h(i)||!h(s)||!h(m))return e(n,t,i,a,o,u,s,f,l,d,m,p,c),m;if(t=Z(t),u=Z(u),d=Z(d),null===t||null===u||null===d)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!y(o))throw new TypeError(g("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",o));if(!y(l))throw new TypeError(g("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",l));if(!y(c))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",c));o=ur(n,a,o),l=ur(n,f,l),c=ur(n,p,c),v=t===sr?$(i,o):t===fr?rr(i,o):t===lr?er(i,o):or(i,o);b=u===sr?$(s,l):u===fr?rr(s,l):u===lr?er(s,l):or(s,l);w=d===sr?$(m,c):d===fr?rr(m,c):d===lr?er(m,c):or(m,c);return r(n,t,v,a,u,b,f,d,w,p),m}}));var vr="complex64",gr="complex128",hr={complex64:j,complex128:x};function yr(r,e,n,t){return t===gr?e===vr?n===gr||n===vr?r[gr]:E(r[gr],2,hr[gr]):e===gr&&(n===gr||n===vr)?r[gr]:E(r[gr],2,hr[gr]):t===vr?e===gr?n===vr||n===gr?r[gr]:E(r[gr],2,hr[gr]):e===vr?n===gr?r[gr]:n===vr?r[vr]:E(r[vr],2,hr[vr]):n===gr?E(r[gr],2,hr[gr]):E(r[vr],2,hr[vr]):"generic"===t?e===gr?n===gr||n===vr?r[gr]:E(r[gr],2,hr[gr]):e===vr?n===vr?r[vr]:n===gr?r[gr]:E(r[vr],2,hr[vr]):n===gr?E(r[gr],2,hr[gr]):n===vr?E(r[vr],2,hr[vr]):r.default:r.default}function br(r,e,n,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i.set(u(e.get(s)),f),s+=n,f+=a;return i}function wr(r,e,n,t,i,a){return br(r,e,n,z(r,n),t,i,z(r,i),a)}function jr(r,e,n,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i[f]=u(e[s]),s+=n,f+=a;return i}function xr(r,e,n,t,i,a){return jr(r,e,n,z(r,n),t,i,z(r,i),a)}function Er(r,e,n,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)u[p]=l(e[d],i[m]),d+=n,m+=a,p+=s;return u}function Tr(r,e,n,t,i,a,o,u){return Er(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u)}function Vr(r,e,n,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(u[p]=l(e[d])),d+=n,m+=a,p+=s;return u}function Sr(r,e,n,t,i,a,o,u){return Vr(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u)}function kr(r,e,n,t,i,a,o,u,s,f,l,d,m,p){var c,v,g,h,y;if(r<=0)return l;for(c=t,v=o,g=m,h=f,y=0;y<r;y++)0===u[h]&&(l[g]=p(e[c],i[v])),c+=n,v+=a,g+=d,h+=s;return l}function Fr(r,e,n,t,i,a,o,u,s,f){return kr(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u,s,z(r,s),f)}function Ur(r,e,n,t,i,a,o,u,s,f){var l,d,m,p;if(r<=0)return i;for(l=t,d=o,p=0;p<r;p++)void 0!==(m=s.call(f,e[l],p,[l,d],[e,i]))&&(i[d]=u(m)),l+=n,d+=a;return i}function Or(r,e,n,t,i,a,o,u,s,f,l,d){var m,p,c,v;if(r<=0)return a;for(m=t,p=u,v=0;v<r;v++)void 0!==(c=l.call(d,i(e,m),v,[m,p],[e,a]))&&s(a,p,f(c)),m+=n,p+=o;return a}function Br(r,e,n,t,i,a,o,u){var s,f;return T(e)&&(s=V(U(e))),T(t)&&(f=S(U(t))),s||f?function(r,e,n,t,i,a,o,u,s,f){return Or(r,e,n,z(r,n),t,i,a,z(r,a),o,u,s,f)}(r,e,n,s=s||k(U(e)),t,i,f=f||F(U(t)),a,o,u):function(r,e,n,t,i,a,o,u){return Ur(r,e,n,z(r,n),t,i,z(r,i),a,o,u)}(r,e,n,t,i,a,o,u)}function Ir(r,e,n,t,i,a,o,u,s,f,l,d,m){var p,c,v,g,h;if(r<=0)return u;for(c=[t,o,f],v=[e,i,u],p=[0,0],h=0;h<r;h++)p[0]=e[c[0]],p[1]=i[c[1]],void 0!==(g=d.call(m,p,h,c,v))&&(u[c[2]]=l(g[0],g[1])),c[0]+=n,c[1]+=a,c[2]+=s;return u}function Rr(r,e,n,t,i,a,o,u,s,f,l,d,m,p,c,v){var g,h,y,b,w;if(r<=0)return f;for(h=[t,u,d],y=[e,a,f],g=[0,0],w=0;w<r;w++)g[0]=i(e,h[0]),g[1]=s(a,h[1]),void 0!==(b=c.call(v,g,w,h,y))&&m(f,h[2],p(b[0],b[1])),h[0]+=n,h[1]+=o,h[2]+=l;return f}function _r(r,e,a,s,f,l,d,m,p,c){var v,g,h;return n(e)&&(v=t(u(e))),n(s)&&(g=t(u(s))),n(l)&&(h=i(u(l))),v||g||h?function(r,e,n,t,i,a,o,u,s,f,l,d,m){return Rr(r,e,n,z(r,n),t,i,a,z(r,a),o,u,s,z(r,s),f,l,d,m)}(r,e,a,v=v||k(u(e)),s,f,g=g||k(u(s)),l,d,h=h||o(u(l)),m,p,c):function(r,e,n,t,i,a,o,u,s,f){return Ir(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u,s,f)}(r,e,a,s,f,l,d,m,p,c)}function Dr(r,e,n,t,i){var a,o,u,s,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(s=t[0],f=t[1],l=t[2],a=n[0],o=n[1],u=n[2],d=r[0],m=r[1],p=r[2],v=0;v<c;v++)0===m[f]&&(p[l]=i(d[s])),s+=a,f+=o,l+=u}function Mr(r,e,n,t,i,a){var o,u,s,f,l,d,m,p,c,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],p=t[1],c=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],u=i[1],s=i[2],b=0;b<y;b++)0===u(g,p)&&s(h,c,a(o(v,m))),m+=f,p+=l,c+=d}function Ar(r,e,a,s){var f,l,d,m,p,c;return m=r[0],n(m)&&(f=t(u(m))),p=r[1],n(p)&&(l=t(u(p))),c=r[2],n(c)&&(d=i(u(c))),f||l||d?function(r,e,n,t,i){var a;return Mr(r,e,n,[z(a=e[0],n[0]),z(a,n[1]),z(a,n[2])],t,i)}(r,e,a,[f=f||k(u(m)),l=l||k(u(p)),d=d||o(u(c))],s):function(r,e,n,t){var i;return Dr(r,e,n,[z(i=e[0],n[0]),z(i,n[1]),z(i,n[2])],t)}(r,e,a,s)}e(wr,"ndarray",br),e(xr,"ndarray",jr),e(Tr,"ndarray",Er),e(Sr,"ndarray",Vr),e(Fr,"ndarray",kr),e(Br,"ndarray",(function(r,e,n,t,i,a,o,s,f,l){var d,m;return T(e)&&(d=V(u(e))),T(i)&&(m=S(u(i))),d||m?Or(r,e,n,t,d=d||k(u(e)),i,a,o,m=m||F(u(i)),s,f,l):Ur(r,e,n,t,i,a,o,s,f,l)})),e(_r,"ndarray",(function(r,e,a,s,f,l,d,m,p,c,v,g,h){var y,b,w;return n(e)&&(y=t(u(e))),n(f)&&(b=t(u(f))),n(m)&&(w=i(u(m))),y||b||w?Rr(r,e,a,s,y=y||k(u(e)),f,l,d,b=b||k(u(f)),m,p,c,w=w||o(u(m)),v,g,h):Ir(r,e,a,s,f,l,d,m,p,c,v,g,h)})),e(Ar,"ndarray",(function(r,e,a,s,f){var l,d,m,p,c,v;return p=r[0],n(p)&&(l=t(u(p))),c=r[1],n(c)&&(d=t(u(c))),v=r[2],n(v)&&(m=i(u(v))),l||d||m?Mr(r,e,a,s,[l=l||k(u(p)),d=d||k(u(c)),m=m||o(u(v))],f):Dr(r,e,a,s,f)}));var Cr=Z("complex64"),Pr=Z("complex128"),zr=Z("bool");function Lr(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s,f,l,d){var m,p;if(!h(i)||!h(l)||!h(u))return e(n,t,i,a,o,u,s,f,l,d),l;if(t=Z(t),f=Z(f),o=Z(o),null===t||null===f||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");m=t===Cr?$(i,0):t===Pr?rr(i,0):t===zr?er(i,0):i;p=f===Cr?$(l,0):f===Pr?rr(l,0):f===zr?er(l,0):l;return r(n,t,m,a,o,u,s,f,p,d),l}}var Nr=Z("complex64"),Yr=Z("complex128"),qr=Z("bool");function Gr(r,e){var n,t,i,a,o,u,s;for(t=r.length,i=e.length,n=[],s=0,o=0;o<t&&!(s>=i);o++)for(a=r[o],u=s;u<i;u++)if(a===e[u]){s=u+1,n.push(a);break}return n}function Hr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=dr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(Lr,"ndarray",(function(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s,l,d,m,p,c,v){var h,b,w;if(!f(i)||!f(p)||!f(s))return e(n,t,i,a,o,u,s,l,d,m,p,c,v),p;if(t=Z(t),m=Z(m),u=Z(u),null===t||null===m||null===u)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!y(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!y(v))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",v));if(!y(d))throw new TypeError(g("invalid argument. Mask array offset must be a nonnegative integer. Value: `%s`.",d));o=ur(n,a,o),v=ur(n,c,v),d=ur(n,l,d),b=t===Nr?$(i,o):t===Yr?rr(i,o):t===qr?er(i,o):or(i,o);w=m===Nr?$(p,v):m===Yr?rr(p,v):m===qr?er(p,v):or(p,v);return h=or(s,d),r(n,t,b,a,u,h,l,m,w,c),p}}));var Jr="complex64",Kr="complex128",Qr={complex64:j,complex128:x};function Wr(r,e,n){return n===Kr?e===Jr||e===Kr?r[Kr]:I(r.default,1,Qr[n]):n===Jr?e===Jr?r[Jr]:e===Kr?r[Kr]:I(r.default,1,Qr[n]):"generic"===n?e===Kr?r[Kr]:e===Jr?r[Jr]:r.default:r.default}function Xr(r,e,n,t,i){var a,o,u,s,f;if(!((s=e[0])<=0))for(o=t[0],a=n[0],u=r[0],f=0;f<s;f++)u[o]=i(),o+=a}function Zr(r,e,n,t,i,a){var o,u,s,f,l,d;if(!((l=e[0])<=0))for(s=t[0],u=n[0],f=r[0],o=i[0],d=0;d<l;d++)o(f,s,a()),s+=u}function $r(r,e,t,a){var s,f;return f=r[0],n(f)&&(s=i(u(f))),s?function(r,e,n,t,i){return Zr(r,e,n,[z(e[0],n[0])],t,i)}(r,e,t,[s=s||o(u(f))],a):function(r,e,n,t){return Xr(r,e,n,[z(e[0],n[0])],t)}(r,e,t,a)}e($r,"ndarray",(function(r,e,t,a,s){var f,l;return l=r[0],n(l)&&(f=i(u(l))),f?Zr(r,e,t,a,[f=f||o(u(l))],s):Xr(r,e,t,a,s)}));var re=Z("complex64"),ee=Z("complex128"),ne=Z("bool");function te(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a){var o;if(!h(i))return e(n,t,i,a),i;if(null===(t=Z(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");o=t===re?$(i,0):t===ee?rr(i,0):t===ne?er(i,0):i;return r(n,t,o,a),i}}var ie=Z("complex64"),ae=Z("complex128"),oe=Z("bool");function ue(r,e,n,t,i){var a,o,u,s,f,l,d,m,p,c,v,g,h,y,b,w,j;if(!((w=e[0])<=0))for(l=t[0],d=t[1],m=t[2],p=t[3],c=t[4],a=n[0],o=n[1],u=n[2],s=n[3],f=n[4],v=r[0],g=r[1],h=r[2],y=r[3],b=r[4],j=0;j<w;j++)b[c]=i(v[l],g[d],h[m],y[p]),l+=a,d+=o,m+=u,p+=s,c+=f}function se(r,e,n,t){var i;return ue(r,e,n,[z(i=e[0],n[0]),z(i,n[1]),z(i,n[2]),z(i,n[3]),z(i,n[4])],t)}function fe(r,e,n,t,i){var a,o,u,s,f,l,d,m,p,c,v,g,h,y,b,w,j,x,E,T;if(!((E=e[0])<=0))for(d=t[0],m=t[1],p=t[2],c=t[3],v=t[4],g=t[5],a=n[0],o=n[1],u=n[2],s=n[3],f=n[4],l=n[5],h=r[0],y=r[1],b=r[2],w=r[3],j=r[4],x=r[5],T=0;T<E;T++)x[g]=i(h[d],y[m],b[p],w[c],j[v]),d+=a,m+=o,p+=u,c+=s,v+=f,g+=l}function le(r,e,n,t){var i;return fe(r,e,n,[z(i=e[0],n[0]),z(i,n[1]),z(i,n[2]),z(i,n[3]),z(i,n[4]),z(i,n[5])],t)}function de(r,e,n,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i[f]=u(e[s]),s+=n,f+=a;return i}function me(r,e,n,t,i,a){return de(r,e,n,z(r,n),t,i,z(r,i),a)}function pe(r,e,n,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)u[p]=l(e[d],i[m]),d+=n,m+=a,p+=s;return u}function ce(r,e,n,t,i,a,o,u){return pe(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u)}function ve(r,e,n,t,i,a,o,u,s,f,l){var d,m,p,c;if(r<=0)return u;for(d=t,m=o,p=f,c=0;c<r;c++)0===i[m]&&(u[p]=l(e[d])),d+=n,m+=a,p+=s;return u}function ge(r,e,n,t,i,a,o,u){return ve(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u)}function he(r,e,n,t,i,a,o,u,s,f,l,d,m,p){var c,v,g,h,y;if(r<=0)return l;for(c=t,v=o,g=m,h=f,y=0;y<r;y++)0===u[h]&&(l[g]=p(e[c],i[v])),c+=n,v+=a,g+=d,h+=s;return l}function ye(r,e,n,t,i,a,o,u,s,f){return he(r,e,n,z(r,n),t,i,z(r,i),a,o,z(r,o),u,s,z(r,s),f)}function be(r,e,n,t,i){var a,o,u,s,f,l,d,m,p,c,v,g,h,y;if(!((h=e[0])<=0))for(f=t[0],l=t[1],d=t[2],m=t[3],a=n[0],o=n[1],u=n[2],s=n[3],p=r[0],c=r[1],v=r[2],g=r[3],y=0;y<h;y++)g[m]=i(p[f],c[l],v[d]),f+=a,l+=o,d+=u,m+=s}function we(r,e,n,t){var i;return be(r,e,n,[z(i=e[0],n[0]),z(i,n[1]),z(i,n[2]),z(i,n[3])],t)}function je(r,e,n,t,i){var a,o,u,s,f,l,d,m;if(!((d=e[0])<=0))for(u=t[0],s=t[1],a=n[0],o=n[1],f=r[0],l=r[1],m=0;m<d;m++)l[s]=i(f[u]),u+=a,s+=o}function xe(r,e,n,t,i,a){var o,u,s,f,l,d,m,p,c,v;if(!((c=e[0])<=0))for(l=t[0],d=t[1],s=n[0],f=n[1],m=r[0],p=r[1],o=i[0],u=i[1],v=0;v<c;v++)u(p,d,a(o(m,l))),l+=s,d+=f}function Ee(r,e,t,a){var s,f,l,d;return l=r[0],n(l)&&(s=V(u(l))),d=r[1],n(d)&&(f=i(u(d))),s||f?function(r,e,n,t,i){var a;return xe(r,e,n,[z(a=e[0],n[0]),z(a,n[1])],t,i)}(r,e,t,[s=s||k(u(l)),f=f||o(u(d))],a):function(r,e,n,t){var i;return je(r,e,n,[z(i=e[0],n[0]),z(i,n[1])],t)}(r,e,t,a)}e(te,"ndarray",(function(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o){var u;if(!f(i))return e(n,t,i,a,o),i;if(null===(t=Z(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!y(o))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",o));o=ur(n,a,o),u=t===ie?$(i,o):t===ae?rr(i,o):t===oe?er(i,o):or(i,o);return r(n,t,u,a),i}})),e(se,"ndarray",ue),e(le,"ndarray",fe),e(me,"ndarray",de),e(ce,"ndarray",pe),e(ge,"ndarray",ve),e(ye,"ndarray",he),e(we,"ndarray",be),e(Ee,"ndarray",(function(r,e,t,a,s){var f,l,d,m;return d=r[0],n(d)&&(f=V(u(d))),m=r[1],n(m)&&(l=i(u(m))),f||l?xe(r,e,t,a,[f=f||k(u(d)),l=l||o(u(m))],s):je(r,e,t,a,s)}));var Te=Z("complex64"),Ve=Z("complex128"),Se=Z("bool");function ke(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s){var f,l;if(!h(i)||!h(u))return e(n,t,i,a,o,u,s),u;if(t=Z(t),o=Z(o),null===t||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");f=t===Te?$(i,0):t===Ve?rr(i,0):t===Se?er(i,0):i;l=o===Te?$(u,0):o===Ve?rr(u,0):o===Se?er(u,0):u;return r(n,t,f,a,o,l,s),u}}var Fe=Z("complex64"),Ue=Z("complex128"),Oe=Z("bool");function Be(r,e,n,t,i,a,o){var u,s,f,l,d,m,p,c,v;if(!((p=e[0])<=0))for(f=t[0],l=t[1],u=n[0],s=n[1],d=r[0],m=r[1],v=0;v<p;v++)void 0!==(c=a.call(o,d[f],v,[f,l],[d,m]))&&(m[l]=i(c)),f+=u,l+=s}function Ie(r,e,n,t,i,a,o,u){var s,f,l,d,m,p,c,v,g,h,y;if(!((g=e[0])<=0))for(m=t[0],p=t[1],l=n[0],d=n[1],c=r[0],v=r[1],s=i[0],f=i[1],y=0;y<g;y++)void 0!==(h=o.call(u,s(c,m),y,[m,p],[c,v]))&&f(v,p,a(h)),m+=l,p+=d}function Re(r,e,a,s,f){var l,d,m,p,c;return arguments.length>5&&(l=arguments[5]),p=r[0],n(p)&&(d=t(u(p))),c=r[1],n(c)&&(m=i(u(c))),d||m?function(r,e,n,t,i,a,o){var u;return Ie(r,e,n,[z(u=e[0],n[0]),z(u,n[1])],t,i,a,o)}(r,e,a,[d=d||k(u(p)),m=m||o(u(c))],s,f,l):function(r,e,n,t,i,a){var o;return Be(r,e,n,[z(o=e[0],n[0]),z(o,n[1])],t,i,a)}(r,e,a,s,f,l)}function _e(r,e){var n,t,i,a,o,u,s;for(t=r.length,i=e.length,n=[],s=0,o=0;o<t&&!(s>=i);o++)for(a=r[o],u=s;u<i;u++)if(a===e[u]){s=u+1,n.push(a);break}return n}function De(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=dr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(ke,"ndarray",(function(r,e){if(!s(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!s(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,u,s,f,l){var d,m;if(!h(i)||!h(s))return e(n,t,i,a,o,u,s,f,l),s;if(t=Z(t),u=Z(u),null===t||null===u)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!y(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!y(l))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",l));o=ur(n,a,o),l=ur(n,f,l),d=t===Fe?$(i,o):t===Ue?rr(i,o):t===Oe?er(i,o):or(i,o);m=u===Fe?$(s,l):u===Ue?rr(s,l):u===Oe?er(s,l):or(s,l);return r(n,t,d,a,u,m,f),s}})),e(Re,"ndarray",(function(r,e,a,s,f,l){var d,m,p,c,v;return arguments.length>6&&(d=arguments[6]),c=r[0],n(c)&&(m=t(u(c))),v=r[1],n(v)&&(p=i(u(v))),m||p?Ie(r,e,a,s,[m=m||k(u(c)),p=p||o(u(v))],f,l,d):Be(r,e,a,s,f,l,d)}));var Me="complex64",Ae="complex128",Ce={complex64:j,complex128:x};function Pe(r,e,n){return n===Ae?e===Me||e===Ae?r[Ae]:I(r.default,1,Ce[n]):n===Me?e===Me?r[Me]:e===Ae?r[Ae]:I(r.default,1,Ce[n]):"generic"===n?e===Ae?r[Ae]:e===Me?r[Me]:r.default:r.default}function ze(r,e,n,t,i,a,o,u){var s,f,l;if(r<=0)return i;for(s=t,f=o,l=0;l<r;l++)i.set(u(e.get(s)),f),s+=n,f+=a;return i}function Le(r,e,n,t,i,a){return ze(r,e,n,z(r,n),t,i,z(r,i),a)}e(Le,"ndarray",ze);var Ne={};function Ye(r,e,n,t,i,a){var o,u,f,l,d,m;if(s(r))m=r;else if(!A(r))throw new TypeError(g("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!C(e))throw new TypeError(g("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));if(!C(n)&&null!==n)throw new TypeError(g("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",n));if(!D(t))throw new TypeError(g("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",t));if(!y(i))throw new TypeError(g("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!y(a))throw new TypeError(g("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",a));if(0===(f=i+a))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(m){if(l=e.length/f,!M(l))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(l=r.length,e.length!==l*f)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(n&&n.length!==l)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*f+1===t)u=!1;else{if(4*f+1!==t)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");u=!0}return d=i*(o=u?4:3)+1,function(){var s,p,c,v,h,b,w,j,x,E,T,V;if(b=arguments.length,b!==t){if(b<t)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(j=arguments[0],!M(j))throw new TypeError(g("invalid argument. First argument must be an integer. Value: `%s`.",j));for(h=[j],v=[],T=1;T<t;T+=o)v.push(arguments[T]);for(s=[],T=3;T<t;T+=o){if(!M(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array stride must be an integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array stride must be an integer. Value: `%s`.",x));s.push(x)}if(u)for(p=[],T=4;T<t;T+=o){if(!y(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",x));p.push(x)}for(c=[],T=2;T<t;T+=o){if(!C(x=arguments[T]))throw T<d?new TypeError(g("invalid argument. Input array must be an array-like object. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array must be an array-like object. Value: `%s`.",x));if(V=(T-2)/o,u){if(w=p[V]+(j-1)*s[V],j>0&&(w<0||w>=x.length))throw T<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((j-1)*P(s[V])>=x.length)throw T<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");c.push(x)}if(w=function(r,e,n,t,i,a,o,u,s){var f,l,d,m;for(f=a,d=0;d<r;d++){for(l=s,m=0;m<e&&n[f+m*i]===o[l];m++)l+=u;if(m===e)return d;f+=t}return-1}(l,f,e,f,1,0,v,1,0),w<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");E=m||r[w];n?u?E(c,h,s,p,n[w]):E(c,h,s,n[w]):u?E(c,h,s,p):E(c,h,s);if(1===a)return c[f-1];if(0===a)return;return c.slice(i)}}r(Ne,"binary",Y),r(Ne,"binaryAddonDispatch",ar),r(Ne,"binaryDtypeSignatures",(function(r,e,n,t){var i,a,o,u,s,f,l,d,m,p,c,v,g,h,y,j,x;if(o=arguments.length>3?t:{},(f=pr(r))instanceof Error)throw f;if(e===r)l=f;else if((l=pr(e))instanceof Error)throw l;if(n===r)d=f;else if(n===e)d=l;else if((d=pr(n))instanceof Error)throw d;for(d.sort(),i={},g=f.length,h=l.length,s=[],y=0;y<g;y++)for(m=f[y],j=0;j<h;j++)if(p=l[j],-1!==(c=b(m,p))&&null!==c)for(cr(d,c)&&s.push(m,p,c),void 0===(a=i[c])&&(a=mr(d,(a=w(c)).sort()),i[c]=a),x=0;x<a.length;x++)(v=a[x])!==c&&s.push(m,p,v);if(o.enums){for(u=[],y=0;y<s.length;y++)u.push(Z(s[y]));s=u}return s})),r(Ne,"binarySignatureCallbacks",(function(r,e){var n,t,i,a,o;for(n=[],o=0;o<e.length;o+=3)t=dr(e[o]),i=dr(e[o+1]),a=dr(e[o+2]),n.push(yr(r,t,i,a));return n})),r(Ne,"cmap",wr),r(Ne,"dmap",xr),r(Ne,"dmap2",Tr),r(Ne,"dmskmap",Sr),r(Ne,"dmskmap2",Fr),r(Ne,"dtypeEnum2Str",Q),r(Ne,"dtypeResolveEnum",Z),r(Ne,"dtypeResolveStr",dr),r(Ne,"dtypeStr2Enum",X),r(Ne,"mapBy",Br),r(Ne,"mapBy2",_r),r(Ne,"maxViewBufferIndex",(function(r,e,n){return r>0&&e>0&&(n+=(r-1)*e),n})),r(Ne,"metaDataProps",(function(r,n,t,i){return e(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),e(t,"nin",r.nin),e(t,"nout",r.nout),O(t,"types",(function(){return B(n,r.nin,r.nout)})),t})),r(Ne,"minViewBufferIndex",ur),r(Ne,"mskunary",Ar),r(Ne,"mskunaryAddonDispatch",Lr),r(Ne,"mskunaryDtypeSignatures",(function(r,e,n){var t,i,a,o,u,s,f,l,d,m;if(i=arguments.length>2?n:{},(u=Hr(r))instanceof Error)throw u;if(e===r)s=u;else if((s=Hr(e))instanceof Error)throw s;for(s.sort(),l=u.length,o=[],d=0;d<l;d++)if(f=u[d],null!==(t=w(f)))for(t=Gr(s,t.sort()),m=0;m<t.length;m++)o.push(f,"uint8",t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(Z(o[d]));o=a}return o})),r(Ne,"mskunarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=3)t=dr(e[a]),i=dr(e[a+2]),n.push(Wr(r,t,i));return n})),r(Ne,"nullary",$r),r(Ne,"nullaryAddonDispatch",te),r(Ne,"offsetView",or),r(Ne,"quaternary",se),r(Ne,"quinary",le),r(Ne,"reinterpretBoolean",er),r(Ne,"reinterpretComplex",(function(r,e){if(R(r))return rr(r,e);if(_(r))return $(r,e);throw new TypeError(g("invalid argument. First argument must be a complex-valued floating-point array. Value: `%s`.",r))})),r(Ne,"reinterpretComplex64",$),r(Ne,"reinterpretComplex128",rr),r(Ne,"smap",me),r(Ne,"smap2",ce),r(Ne,"smskmap",ge),r(Ne,"smskmap2",ye),r(Ne,"stride2offset",z),r(Ne,"ternary",we),r(Ne,"unary",Ee),r(Ne,"unaryAddonDispatch",ke),r(Ne,"unaryBy",Re),r(Ne,"unaryDtypeSignatures",(function(r,e,n){var t,i,a,o,u,s,f,l,d,m;if(i=arguments.length>2?n:{},(u=De(r))instanceof Error)throw u;if(e===r)s=u;else if((s=De(e))instanceof Error)throw s;for(s.sort(),l=u.length,o=[],d=0;d<l;d++)if(f=u[d],null!==(t=w(f)))for(t=_e(s,t.sort()),m=0;m<t.length;m++)o.push(f,t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(Z(o[d]));o=a}return o})),r(Ne,"unarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=2)t=dr(e[a]),i=dr(e[a+1]),n.push(Pe(r,t,i));return n})),r(Ne,"zmap",Le);var qe={};r(qe,"base",Ne),r(qe,"dispatch",Ye),r(qe,"dtypes",G);export{Ne as base,qe as default,Ye as dispatch,G as dtypes};
//# sourceMappingURL=index.mjs.map
