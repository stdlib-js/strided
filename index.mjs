// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.3.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@v0.3.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint8@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.2.2-esm/index.mjs";import{isPrimitive as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32-ctor@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64-ctor@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@esm/index.mjs";import U from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-cast-return@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex128array@esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex64array@esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-booleanarray@esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-arraylike2object@esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-bytes-per-element@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.2-esm/index.mjs";import{isPrimitive as z}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import Y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.2.2-esm/index.mjs";function q(r,e){return e>0?0:(1-r)*e}function G(r,e,n,t,i){var a,o,s,u,f,l,d,m,c,p,v;if(!((p=e[0])<=0))for(u=t[0],f=t[1],l=t[2],a=n[0],o=n[1],s=n[2],d=r[0],m=r[1],c=r[2],v=0;v<p;v++)c[l]=i(d[u],m[f]),u+=a,f+=o,l+=s}function H(r,e,n,t,i,a){var o,s,u,f,l,d,m,c,p,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],c=t[1],p=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],s=i[1],u=i[2],b=0;b<y;b++)u(h,p,a(o(v,m),s(g,c))),m+=f,c+=l,p+=d}function J(r,e,u,f){var l,d,m,c,p,v;return c=r[0],n(c)&&(l=t(s(c))),p=r[1],n(p)&&(d=t(s(p))),v=r[2],n(v)&&(m=i(s(v))),l||d||m?function(r,e,n,t,i){var a;return H(r,e,n,[q(a=e[0],n[0]),q(a,n[1]),q(a,n[2])],t,i)}(r,e,u,[l=l||a(s(c)),d=d||a(s(p)),m=m||o(s(v))],f):function(r,e,n,t){var i;return G(r,e,n,[q(i=e[0],n[0]),q(i,n[1]),q(i,n[2])],t)}(r,e,u,f)}e(J,"ndarray",(function(r,e,u,f,l){var d,m,c,p,v,g;return p=r[0],n(p)&&(d=t(s(p))),v=r[1],n(v)&&(m=t(s(v))),g=r[2],n(g)&&(c=i(s(g))),d||m||c?H(r,e,u,f,[d=d||a(s(p)),m=m||a(s(v)),c=c||o(s(g))],l):G(r,e,u,f,l)}));var K=["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function Q(){return K.slice()}var W=d();function X(){return{bool:W.bool,int8:W.int8,uint8:W.uint8,uint8c:W.uint8c,int16:W.int16,uint16:W.uint16,int32:W.int32,uint32:W.uint32,int64:W.int64,uint64:W.uint64,float32:W.float32,float64:W.float64,complex64:W.complex64,complex128:W.complex128,binary:W.binary,generic:W.generic,notype:W.notype,userdefined_type:W.userdefined_type}}e(Q,"enum",X),function(e,n){var t,i,a;for(t=m(n),a=0;a<t.length;a++)i=t[a],r(e,i,n[i])}(Q,X());var Z=l(X(),{duplicates:!1});function $(r){var e=Z[r];return"string"==typeof e?e:null}var rr=X();function er(r){var e=rr[r];return"number"==typeof e?e:null}function nr(r){var e=typeof r;return"number"===e?$(r)?r:null:"string"===e?er(r):null}function tr(r,e){return new c(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function ir(r,e){return new p(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,2*(r.length-e))}function ar(r,e){return new v(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}var or=nr("complex64"),sr=nr("complex128"),ur=nr("bool");function fr(r,e){if(!u(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!u(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m){var c,p,v;if(!f(i)||!f(s)||!f(d))return e(n,t,i,a,o,s,u,l,d,m),d;if(t=nr(t),o=nr(o),l=nr(l),null===t||null===o||null===l)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");c=t===or?tr(i,0):t===sr?ir(i,0):t===ur?ar(i,0):i;p=o===or?tr(s,0):o===sr?ir(s,0):o===ur?ar(s,0):s;v=l===or?tr(d,0):l===sr?ir(d,0):l===ur?ar(d,0):d;return r(n,t,c,a,o,p,u,l,v,m),d}}function lr(r,e){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*e,r.length-e)}function dr(r,e,n){return r>0&&e<0&&(n+=(r-1)*e),n}var mr=nr("complex64"),cr=nr("complex128"),pr=nr("bool");function vr(r){var e=typeof r;return"string"===e?null===er(r)?null:r:"number"===e?$(r):null}function gr(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function hr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=vr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}function yr(r,e){var n;for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1}e(fr,"ndarray",(function(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,f,l,d,m,c,p){var v,h,j;if(!y(i)||!y(u)||!y(m))return e(n,t,i,a,o,s,u,f,l,d,m,c,p),m;if(t=nr(t),s=nr(s),d=nr(d),null===t||null===s||null===d)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!b(o))throw new TypeError(g("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",o));if(!b(l))throw new TypeError(g("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",l));if(!b(p))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",p));o=dr(n,a,o),l=dr(n,f,l),p=dr(n,c,p),v=t===mr?tr(i,o):t===cr?ir(i,o):t===pr?ar(i,o):lr(i,o);h=s===mr?tr(u,l):s===cr?ir(u,l):s===pr?ar(u,l):lr(u,l);j=d===mr?tr(m,p):d===cr?ir(m,p):d===pr?ar(m,p):lr(m,p);return r(n,t,v,a,s,h,f,d,j,c),m}}));var br="complex64",jr="complex128",wr={complex64:x,complex128:E};function xr(r,e,n,t){return t===jr?e===br?n===jr||n===br?r[jr]:T(r[jr],2,wr[jr]):e===jr&&(n===jr||n===br)?r[jr]:T(r[jr],2,wr[jr]):t===br?e===jr?n===br||n===jr?r[jr]:T(r[jr],2,wr[jr]):e===br?n===jr?r[jr]:n===br?r[br]:T(r[br],2,wr[br]):n===jr?T(r[jr],2,wr[jr]):T(r[br],2,wr[br]):"generic"===t?e===jr?n===jr||n===br?r[jr]:T(r[jr],2,wr[jr]):e===br?n===br?r[br]:n===jr?r[jr]:T(r[br],2,wr[br]):n===jr?T(r[jr],2,wr[jr]):n===br?T(r[br],2,wr[br]):r.default:r.default}function Er(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i.set(s(e.get(u)),f),u+=n,f+=a;return i}function Tr(r,e,n,t,i,a){return Er(r,e,n,q(r,n),t,i,q(r,i),a)}function Vr(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i[f]=s(e[u]),u+=n,f+=a;return i}function Sr(r,e,n,t,i,a){return Vr(r,e,n,q(r,n),t,i,q(r,i),a)}function kr(r,e,n,t,i,a,o,s,u,f,l){var d,m,c,p;if(r<=0)return s;for(d=t,m=o,c=f,p=0;p<r;p++)s[c]=l(e[d],i[m]),d+=n,m+=a,c+=u;return s}function Fr(r,e,n,t,i,a,o,s){return kr(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s)}function Ur(r,e,n,t,i,a,o,s,u,f,l){var d,m,c,p;if(r<=0)return s;for(d=t,m=o,c=f,p=0;p<r;p++)0===i[m]&&(s[c]=l(e[d])),d+=n,m+=a,c+=u;return s}function Ir(r,e,n,t,i,a,o,s){return Ur(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s)}function Br(r,e,n,t,i,a,o,s,u,f,l,d,m,c){var p,v,g,h,y;if(r<=0)return l;for(p=t,v=o,g=m,h=f,y=0;y<r;y++)0===s[h]&&(l[g]=c(e[p],i[v])),p+=n,v+=a,g+=d,h+=u;return l}function Or(r,e,n,t,i,a,o,s,u,f){return Br(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s,u,q(r,u),f)}function Rr(r,e,n,t,i,a,o,s,u,f){var l,d,m,c;if(r<=0)return i;for(l=t,d=o,c=0;c<r;c++)void 0!==(m=u.call(f,e[l],c,[l,d],[e,i]))&&(i[d]=s(m)),l+=n,d+=a;return i}function _r(r,e,n,t,i,a,o,s,u,f,l,d){var m,c,p,v;if(r<=0)return a;for(m=t,c=s,v=0;v<r;v++)void 0!==(p=l.call(d,i(e,m),v,[m,c],[e,a]))&&u(a,c,f(p)),m+=n,c+=o;return a}function Dr(r,e,n,t,i,a,u,f){var l,d;return V(e)&&(l=S(s(e))),V(t)&&(d=k(s(t))),l||d?function(r,e,n,t,i,a,o,s,u,f){return _r(r,e,n,q(r,n),t,i,a,q(r,a),o,s,u,f)}(r,e,n,l=l||F(s(e)),t,i,d=d||o(s(t)),a,u,f):function(r,e,n,t,i,a,o,s){return Rr(r,e,n,q(r,n),t,i,q(r,i),a,o,s)}(r,e,n,t,i,a,u,f)}function Mr(r,e,n,t,i,a,o,s,u,f,l,d,m){var c,p,v,g,h;if(r<=0)return s;for(p=[t,o,f],v=[e,i,s],c=[0,0],h=0;h<r;h++)c[0]=e[p[0]],c[1]=i[p[1]],void 0!==(g=d.call(m,c,h,p,v))&&(s[p[2]]=l(g[0],g[1])),p[0]+=n,p[1]+=a,p[2]+=u;return s}function Pr(r,e,n,t,i,a,o,s,u,f,l,d,m,c,p,v){var g,h,y,b,j;if(r<=0)return f;for(h=[t,s,d],y=[e,a,f],g=[0,0],j=0;j<r;j++)g[0]=i(e,h[0]),g[1]=u(a,h[1]),void 0!==(b=p.call(v,g,j,h,y))&&m(f,h[2],c(b[0],b[1])),h[0]+=n,h[1]+=o,h[2]+=l;return f}function Ar(r,e,i,u,f,l,d,m,c,p){var v,g,h;return n(e)&&(v=t(s(e))),n(u)&&(g=t(s(u))),n(l)&&(h=k(s(l))),v||g||h?function(r,e,n,t,i,a,o,s,u,f,l,d,m){return Pr(r,e,n,q(r,n),t,i,a,q(r,a),o,s,u,q(r,u),f,l,d,m)}(r,e,i,v=v||a(s(e)),u,f,g=g||a(s(u)),l,d,h=h||o(s(l)),m,c,p):function(r,e,n,t,i,a,o,s,u,f){return Mr(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s,u,f)}(r,e,i,u,f,l,d,m,c,p)}function Cr(r,e,n,t,i){var a,o,s,u,f,l,d,m,c,p,v;if(!((p=e[0])<=0))for(u=t[0],f=t[1],l=t[2],a=n[0],o=n[1],s=n[2],d=r[0],m=r[1],c=r[2],v=0;v<p;v++)0===m[f]&&(c[l]=i(d[u])),u+=a,f+=o,l+=s}function zr(r,e,n,t,i,a){var o,s,u,f,l,d,m,c,p,v,g,h,y,b;if(!((y=e[0])<=0))for(m=t[0],c=t[1],p=t[2],f=n[0],l=n[1],d=n[2],v=r[0],g=r[1],h=r[2],o=i[0],s=i[1],u=i[2],b=0;b<y;b++)0===s(g,c)&&u(h,p,a(o(v,m))),m+=f,c+=l,p+=d}function Lr(r,e,i,u){var f,l,d,m,c,p;return m=r[0],n(m)&&(f=t(s(m))),c=r[1],n(c)&&(l=t(s(c))),p=r[2],n(p)&&(d=k(s(p))),f||l||d?function(r,e,n,t,i){var a;return zr(r,e,n,[q(a=e[0],n[0]),q(a,n[1]),q(a,n[2])],t,i)}(r,e,i,[f=f||a(s(m)),l=l||a(s(c)),d=d||o(s(p))],u):function(r,e,n,t){var i;return Cr(r,e,n,[q(i=e[0],n[0]),q(i,n[1]),q(i,n[2])],t)}(r,e,i,u)}e(Tr,"ndarray",Er),e(Sr,"ndarray",Vr),e(Fr,"ndarray",kr),e(Ir,"ndarray",Ur),e(Or,"ndarray",Br),e(Dr,"ndarray",(function(r,e,n,t,i,a,o,s,u,f){var l,d;return V(e)&&(l=S(I(e))),V(i)&&(d=k(I(i))),l||d?_r(r,e,n,t,l=l||F(I(e)),i,a,o,d=d||U(I(i)),s,u,f):Rr(r,e,n,t,i,a,o,s,u,f)})),e(Ar,"ndarray",(function(r,e,i,u,f,l,d,m,c,p,v,g,h){var y,b,j;return n(e)&&(y=t(s(e))),n(f)&&(b=t(s(f))),n(m)&&(j=k(s(m))),y||b||j?Pr(r,e,i,u,y=y||a(s(e)),f,l,d,b=b||a(s(f)),m,c,p,j=j||o(s(m)),v,g,h):Mr(r,e,i,u,f,l,d,m,c,p,v,g,h)})),e(Lr,"ndarray",(function(r,e,i,u,f){var l,d,m,c,p,v;return c=r[0],n(c)&&(l=t(s(c))),p=r[1],n(p)&&(d=t(s(p))),v=r[2],n(v)&&(m=k(s(v))),l||d||m?zr(r,e,i,u,[l=l||a(s(c)),d=d||a(s(p)),m=m||o(s(v))],f):Cr(r,e,i,u,f)}));var Nr=nr("complex64"),Yr=nr("complex128"),qr=nr("bool");function Gr(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m){var c,p;if(!f(i)||!f(d)||!f(s))return e(n,t,i,a,o,s,u,l,d,m),d;if(t=nr(t),l=nr(l),o=nr(o),null===t||null===l||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");c=t===Nr?tr(i,0):t===Yr?ir(i,0):t===qr?ar(i,0):i;p=l===Nr?tr(d,0):l===Yr?ir(d,0):l===qr?ar(d,0):d;return r(n,t,c,a,o,s,u,l,p,m),d}}var Hr=nr("complex64"),Jr=nr("complex128"),Kr=nr("bool");function Qr(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function Wr(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=vr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(Gr,"ndarray",(function(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d,m,c,p,v){var h,y,j;if(!f(i)||!f(c)||!f(u))return e(n,t,i,a,o,s,u,l,d,m,c,p,v),c;if(t=nr(t),m=nr(m),s=nr(s),null===t||null===m||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!b(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!b(v))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",v));if(!b(d))throw new TypeError(g("invalid argument. Mask array offset must be a nonnegative integer. Value: `%s`.",d));o=dr(n,a,o),v=dr(n,p,v),d=dr(n,l,d),y=t===Hr?tr(i,o):t===Jr?ir(i,o):t===Kr?ar(i,o):lr(i,o);j=m===Hr?tr(c,v):m===Jr?ir(c,v):m===Kr?ar(c,v):lr(c,v);return h=lr(u,d),r(n,t,y,a,s,h,l,m,j,p),c}}));var Xr="complex64",Zr="complex128",$r={complex64:x,complex128:E};function re(r,e,n){return n===Zr?e===Xr||e===Zr?r[Zr]:R(r.default,1,$r[n]):n===Xr?e===Xr?r[Xr]:e===Zr?r[Zr]:R(r.default,1,$r[n]):"generic"===n?e===Zr?r[Zr]:e===Xr?r[Xr]:r.default:r.default}function ee(r,e,n,t,i){var a,o,s,u,f;if(!((u=e[0])<=0))for(o=t[0],a=n[0],s=r[0],f=0;f<u;f++)s[o]=i(),o+=a}function ne(r,e,n,t,i,a){var o,s,u,f,l,d;if(!((l=e[0])<=0))for(u=t[0],s=n[0],f=r[0],o=i[0],d=0;d<l;d++)o(f,u,a()),u+=s}function te(r,e,t,i){var a,u;return u=r[0],n(u)&&(a=k(s(u))),a?function(r,e,n,t,i){return ne(r,e,n,[q(e[0],n[0])],t,i)}(r,e,t,[a=a||o(s(u))],i):function(r,e,n,t){return ee(r,e,n,[q(e[0],n[0])],t)}(r,e,t,i)}e(te,"ndarray",(function(r,e,t,i,a){var u,f;return f=r[0],n(f)&&(u=k(s(f))),u?ne(r,e,t,i,[u=u||o(s(f))],a):ee(r,e,t,i,a)}));var ie=nr("complex64"),ae=nr("complex128"),oe=nr("bool");function se(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a){var o;if(!f(i))return e(n,t,i,a),i;if(null===(t=nr(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");o=t===ie?tr(i,0):t===ae?ir(i,0):t===oe?ar(i,0):i;return r(n,t,o,a),i}}var ue=nr("complex64"),fe=nr("complex128"),le=nr("bool");function de(r,e,n,t,i){var a,o,s,u,f,l,d,m,c,p,v,g,h,y,b,j,w;if(!((j=e[0])<=0))for(l=t[0],d=t[1],m=t[2],c=t[3],p=t[4],a=n[0],o=n[1],s=n[2],u=n[3],f=n[4],v=r[0],g=r[1],h=r[2],y=r[3],b=r[4],w=0;w<j;w++)b[p]=i(v[l],g[d],h[m],y[c]),l+=a,d+=o,m+=s,c+=u,p+=f}function me(r,e,n,t){var i;return de(r,e,n,[q(i=e[0],n[0]),q(i,n[1]),q(i,n[2]),q(i,n[3]),q(i,n[4])],t)}function ce(r,e,n,t,i){var a,o,s,u,f,l,d,m,c,p,v,g,h,y,b,j,w,x,E,T;if(!((E=e[0])<=0))for(d=t[0],m=t[1],c=t[2],p=t[3],v=t[4],g=t[5],a=n[0],o=n[1],s=n[2],u=n[3],f=n[4],l=n[5],h=r[0],y=r[1],b=r[2],j=r[3],w=r[4],x=r[5],T=0;T<E;T++)x[g]=i(h[d],y[m],b[c],j[p],w[v]),d+=a,m+=o,c+=s,p+=u,v+=f,g+=l}function pe(r,e,n,t){var i;return ce(r,e,n,[q(i=e[0],n[0]),q(i,n[1]),q(i,n[2]),q(i,n[3]),q(i,n[4]),q(i,n[5])],t)}function ve(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i[f]=s(e[u]),u+=n,f+=a;return i}function ge(r,e,n,t,i,a){return ve(r,e,n,q(r,n),t,i,q(r,i),a)}function he(r,e,n,t,i,a,o,s,u,f,l){var d,m,c,p;if(r<=0)return s;for(d=t,m=o,c=f,p=0;p<r;p++)s[c]=l(e[d],i[m]),d+=n,m+=a,c+=u;return s}function ye(r,e,n,t,i,a,o,s){return he(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s)}function be(r,e,n,t,i,a,o,s,u,f,l){var d,m,c,p;if(r<=0)return s;for(d=t,m=o,c=f,p=0;p<r;p++)0===i[m]&&(s[c]=l(e[d])),d+=n,m+=a,c+=u;return s}function je(r,e,n,t,i,a,o,s){return be(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s)}function we(r,e,n,t,i,a,o,s,u,f,l,d,m,c){var p,v,g,h,y;if(r<=0)return l;for(p=t,v=o,g=m,h=f,y=0;y<r;y++)0===s[h]&&(l[g]=c(e[p],i[v])),p+=n,v+=a,g+=d,h+=u;return l}function xe(r,e,n,t,i,a,o,s,u,f){return we(r,e,n,q(r,n),t,i,q(r,i),a,o,q(r,o),s,u,q(r,u),f)}function Ee(r,e,n,t,i){var a,o,s,u,f,l,d,m,c,p,v,g,h,y;if(!((h=e[0])<=0))for(f=t[0],l=t[1],d=t[2],m=t[3],a=n[0],o=n[1],s=n[2],u=n[3],c=r[0],p=r[1],v=r[2],g=r[3],y=0;y<h;y++)g[m]=i(c[f],p[l],v[d]),f+=a,l+=o,d+=s,m+=u}function Te(r,e,n,t){var i;return Ee(r,e,n,[q(i=e[0],n[0]),q(i,n[1]),q(i,n[2]),q(i,n[3])],t)}function Ve(r,e,n,t,i){var a,o,s,u,f,l,d,m;if(!((d=e[0])<=0))for(s=t[0],u=t[1],a=n[0],o=n[1],f=r[0],l=r[1],m=0;m<d;m++)l[u]=i(f[s]),s+=a,u+=o}function Se(r,e,n,t,i,a){var o,s,u,f,l,d,m,c,p,v;if(!((p=e[0])<=0))for(l=t[0],d=t[1],u=n[0],f=n[1],m=r[0],c=r[1],o=i[0],s=i[1],v=0;v<p;v++)s(c,d,a(o(m,l))),l+=u,d+=f}function ke(r,e,n,t){var i,a,o,s;return o=r[0],V(o)&&(i=S(I(o))),s=r[1],V(s)&&(a=k(I(s))),i||a?function(r,e,n,t,i){var a;return Se(r,e,n,[q(a=e[0],n[0]),q(a,n[1])],t,i)}(r,e,n,[i=i||F(I(o)),a=a||U(I(s))],t):function(r,e,n,t){var i;return Ve(r,e,n,[q(i=e[0],n[0]),q(i,n[1])],t)}(r,e,n,t)}e(se,"ndarray",(function(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o){var s;if(!f(i))return e(n,t,i,a,o),i;if(null===(t=nr(t)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!b(o))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",o));o=dr(n,a,o),s=t===ue?tr(i,o):t===fe?ir(i,o):t===le?ar(i,o):lr(i,o);return r(n,t,s,a),i}})),e(me,"ndarray",de),e(pe,"ndarray",ce),e(ge,"ndarray",ve),e(ye,"ndarray",he),e(je,"ndarray",be),e(xe,"ndarray",we),e(Te,"ndarray",Ee),e(ke,"ndarray",(function(r,e,i,u,f){var l,d,m,c;return m=r[0],n(m)&&(l=t(s(m))),c=r[1],n(c)&&(d=k(s(c))),l||d?Se(r,e,i,u,[l=l||a(s(m)),d=d||o(s(c))],f):Ve(r,e,i,u,f)}));var Fe=nr("complex64"),Ue=nr("complex128"),Ie=nr("bool");function Be(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u){var l,d;if(!f(i)||!f(s))return e(n,t,i,a,o,s,u),s;if(t=nr(t),o=nr(o),null===t||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");l=t===Fe?tr(i,0):t===Ue?ir(i,0):t===Ie?ar(i,0):i;d=o===Fe?tr(s,0):o===Ue?ir(s,0):o===Ie?ar(s,0):s;return r(n,t,l,a,o,d,u),s}}var Oe=nr("complex64"),Re=nr("complex128"),_e=nr("bool");function De(r,e,n,t,i,a,o){var s,u,f,l,d,m,c,p,v;if(!((c=e[0])<=0))for(f=t[0],l=t[1],s=n[0],u=n[1],d=r[0],m=r[1],v=0;v<c;v++)void 0!==(p=a.call(o,d[f],v,[f,l],[d,m]))&&(m[l]=i(p)),f+=s,l+=u}function Me(r,e,n,t,i,a,o,s){var u,f,l,d,m,c,p,v,g,h,y;if(!((g=e[0])<=0))for(m=t[0],c=t[1],l=n[0],d=n[1],p=r[0],v=r[1],u=i[0],f=i[1],y=0;y<g;y++)void 0!==(h=o.call(s,u(p,m),y,[m,c],[p,v]))&&f(v,c,a(h)),m+=l,c+=d}function Pe(r,e,i,u,f){var l,d,m,c,p;return arguments.length>5&&(l=arguments[5]),c=r[0],n(c)&&(d=t(s(c))),p=r[1],n(p)&&(m=k(s(p))),d||m?function(r,e,n,t,i,a,o){var s;return Me(r,e,n,[q(s=e[0],n[0]),q(s,n[1])],t,i,a,o)}(r,e,i,[d=d||a(s(c)),m=m||o(s(p))],u,f,l):function(r,e,n,t,i,a){var o;return De(r,e,n,[q(o=e[0],n[0]),q(o,n[1])],t,i,a)}(r,e,i,u,f,l)}function Ae(r,e){var n,t,i,a,o,s,u;for(t=r.length,i=e.length,n=[],u=0,o=0;o<t&&!(u>=i);o++)for(a=r[o],s=u;s<i;s++)if(a===e[s]){u=s+1,n.push(a);break}return n}function Ce(r){var e,n,t;for(e=[],t=0;t<r.length;t++){if(null===(n=vr(r[t])))return new TypeError(g("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));e.push(n)}return e}e(Be,"ndarray",(function(r,e){if(!h(r))throw new TypeError(g("invalid argument. First argument must be a function. Value: `%s`.",r));if(!h(e))throw new TypeError(g("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(n,t,i,a,o,s,u,l,d){var m,c;if(!f(i)||!f(u))return e(n,t,i,a,o,s,u,l,d),u;if(t=nr(t),s=nr(s),null===t||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!b(o))throw new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!b(d))throw new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",d));o=dr(n,a,o),d=dr(n,l,d),m=t===Oe?tr(i,o):t===Re?ir(i,o):t===_e?ar(i,o):lr(i,o);c=s===Oe?tr(u,d):s===Re?ir(u,d):s===_e?ar(u,d):lr(u,d);return r(n,t,m,a,s,c,l),u}})),e(Pe,"ndarray",(function(r,e,i,u,f,l){var d,m,c,p,v;return arguments.length>6&&(d=arguments[6]),p=r[0],n(p)&&(m=t(s(p))),v=r[1],n(v)&&(c=k(s(v))),m||c?Me(r,e,i,u,[m=m||a(s(p)),c=c||o(s(v))],f,l,d):De(r,e,i,u,f,l,d)}));var ze="complex64",Le="complex128",Ne={complex64:x,complex128:E};function Ye(r,e,n){return n===Le?e===ze||e===Le?r[Le]:R(r.default,1,Ne[n]):n===ze?e===ze?r[ze]:e===Le?r[Le]:R(r.default,1,Ne[n]):"generic"===n?e===Le?r[Le]:e===ze?r[ze]:r.default:r.default}var qe={float64:"setFloat64",float32:"setFloat32",float16:"setFloat16",int64:"setBigInt64",int32:"setInt32",int16:"setInt16",int8:"setInt8",uint64:"setBigUint64",uint32:"setUint32",uint16:"setUint16",uint8:"setUint8"};function Ge(r,e,n,t,i,a,o,s,u){var f,l,d,m,c;for(m=qe[r],f=n.data,l=i,d=s,c=0;c<e;c++)a[m](d,f[l],u),l+=t,d+=o;return a}function He(r,e,n,t,i,a,o,s,u){var f,l,d,m,c,p;for(c=qe[r],f=A(r),l=n.data,t*=2,d=i*=2,m=s,p=0;p<e;p++)a[c](m,l[d],u),a[c](m+f,l[d+1],u),d+=t,m+=o;return a}function Je(r,e,n,t,i,a,o,s){var u;return r<=0?i:(u=P(e)).accessorProtocol?_(e)?(u.data=ir(e,0),He("float64",r,u,n,t,i,a,o,s)):D(e)?(u.data=tr(e,0),He("float32",r,u,n,t,i,a,o,s)):M(e)?(u.data=ar(e,0),Ge("uint8",r,u,n,t,i,a,o,s)):function(r,e,n,t,i,a,o,s,u){var f,l,d,m,c,p;for(c=qe[r],f=n.data,l=n.accessors[0],d=i,m=s,p=0;p<e;p++)a[c](m,l(f,d),u),d+=t,m+=o;return a}("float64",r,u,n,t,i,a,o,s):Ge(null===u.dtype||"generic"===u.dtype?"float64":u.dtype,r,u,n,t,i,a,o,s)}function Ke(r,e,n,t,i,a){return Je(r,e,n,q(r,n),t,i,q(r,i),a)}function Qe(r,e,n,t,i,a,o,s){var u,f,l;if(r<=0)return i;for(u=t,f=o,l=0;l<r;l++)i.set(s(e.get(u)),f),u+=n,f+=a;return i}function We(r,e,n,t,i,a){return Qe(r,e,n,q(r,n),t,i,q(r,i),a)}e(Ke,"ndarray",Je),e(We,"ndarray",Qe);var Xe={};function Ze(r,e,n,t,i,a){var o,s,u,f,l,d;if(h(r))d=r;else if(!L(r))throw new TypeError(g("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!N(e))throw new TypeError(g("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));if(!N(n)&&null!==n)throw new TypeError(g("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",n));if(!C(t))throw new TypeError(g("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",t));if(!b(i))throw new TypeError(g("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!b(a))throw new TypeError(g("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",a));if(0===(u=i+a))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(d){if(f=e.length/u,!z(f))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(f=r.length,e.length!==f*u)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(n&&n.length!==f)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*u+1===t)s=!1;else{if(4*u+1!==t)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");s=!0}return l=i*(o=s?4:3)+1,function(){var m,c,p,v,h,y,j,w,x,E,T,V;if(y=arguments.length,y!==t){if(y<t)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(w=arguments[0],!z(w))throw new TypeError(g("invalid argument. First argument must be an integer. Value: `%s`.",w));for(h=[w],v=[],T=1;T<t;T+=o)v.push(arguments[T]);for(m=[],T=3;T<t;T+=o){if(!z(x=arguments[T]))throw T<l?new TypeError(g("invalid argument. Input array stride must be an integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array stride must be an integer. Value: `%s`.",x));m.push(x)}if(s)for(c=[],T=4;T<t;T+=o){if(!b(x=arguments[T]))throw T<l?new TypeError(g("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",x));c.push(x)}for(p=[],T=2;T<t;T+=o){if(!N(x=arguments[T]))throw T<l?new TypeError(g("invalid argument. Input array must be an array-like object. Value: `%s`.",x)):new TypeError(g("invalid argument. Output array must be an array-like object. Value: `%s`.",x));if(V=(T-2)/o,s){if(j=c[V]+(w-1)*m[V],w>0&&(j<0||j>=x.length))throw T<l?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((w-1)*Y(m[V])>=x.length)throw T<l?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");p.push(x)}if(j=function(r,e,n,t,i,a,o,s,u){var f,l,d,m;for(f=a,d=0;d<r;d++){for(l=u,m=0;m<e&&n[f+m*i]===o[l];m++)l+=s;if(m===e)return d;f+=t}return-1}(f,u,e,u,1,0,v,1,0),j<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");E=d||r[j];n?s?E(p,h,m,c,n[j]):E(p,h,m,n[j]):s?E(p,h,m,c):E(p,h,m);if(1===a)return p[u-1];if(0===a)return;return p.slice(i)}}r(Xe,"binary",J),r(Xe,"binaryAddonDispatch",fr),r(Xe,"binaryDtypeSignatures",(function(r,e,n,t){var i,a,o,s,u,f,l,d,m,c,p,v,g,h,y,b,x;if(o=arguments.length>3?t:{},(f=hr(r))instanceof Error)throw f;if(e===r)l=f;else if((l=hr(e))instanceof Error)throw l;if(n===r)d=f;else if(n===e)d=l;else if((d=hr(n))instanceof Error)throw d;for(d.sort(),i={},g=f.length,h=l.length,u=[],y=0;y<g;y++)for(m=f[y],b=0;b<h;b++)if(c=l[b],-1!==(p=j(m,c))&&null!==p)for(yr(d,p)&&u.push(m,c,p),void 0===(a=i[p])&&(a=gr(d,(a=w(p)).sort()),i[p]=a),x=0;x<a.length;x++)(v=a[x])!==p&&u.push(m,c,v);if(o.enums){for(s=[],y=0;y<u.length;y++)s.push(nr(u[y]));u=s}return u})),r(Xe,"binarySignatureCallbacks",(function(r,e){var n,t,i,a,o;for(n=[],o=0;o<e.length;o+=3)t=vr(e[o]),i=vr(e[o+1]),a=vr(e[o+2]),n.push(xr(r,t,i,a));return n})),r(Xe,"cmap",Tr),r(Xe,"dmap",Sr),r(Xe,"dmap2",Fr),r(Xe,"dmskmap",Ir),r(Xe,"dmskmap2",Or),r(Xe,"dtypeEnum2Str",$),r(Xe,"dtypeResolveEnum",nr),r(Xe,"dtypeResolveStr",vr),r(Xe,"dtypeStr2Enum",er),r(Xe,"mapBy",Dr),r(Xe,"mapBy2",Ar),r(Xe,"maxViewBufferIndex",(function(r,e,n){return r>0&&e>0&&(n+=(r-1)*e),n})),r(Xe,"metaDataProps",(function(r,n,t,i){return e(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),e(t,"nin",r.nin),e(t,"nout",r.nout),B(t,"types",(function(){return O(n,r.nin,r.nout)})),t})),r(Xe,"minViewBufferIndex",dr),r(Xe,"mskunary",Lr),r(Xe,"mskunaryAddonDispatch",Gr),r(Xe,"mskunaryDtypeSignatures",(function(r,e,n){var t,i,a,o,s,u,f,l,d,m;if(i=arguments.length>2?n:{},(s=Wr(r))instanceof Error)throw s;if(e===r)u=s;else if((u=Wr(e))instanceof Error)throw u;for(u.sort(),l=s.length,o=[],d=0;d<l;d++)if(f=s[d],null!==(t=w(f)))for(t=Qr(u,t.sort()),m=0;m<t.length;m++)o.push(f,"uint8",t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(nr(o[d]));o=a}return o})),r(Xe,"mskunarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=3)t=vr(e[a]),i=vr(e[a+2]),n.push(re(r,t,i));return n})),r(Xe,"nullary",te),r(Xe,"nullaryAddonDispatch",se),r(Xe,"offsetView",lr),r(Xe,"quaternary",me),r(Xe,"quinary",pe),r(Xe,"reinterpretBoolean",ar),r(Xe,"reinterpretComplex",(function(r,e){if(_(r))return ir(r,e);if(D(r))return tr(r,e);throw new TypeError(g("invalid argument. First argument must be a complex-valued floating-point array. Value: `%s`.",r))})),r(Xe,"reinterpretComplex64",tr),r(Xe,"reinterpretComplex128",ir),r(Xe,"smap",ge),r(Xe,"smap2",ye),r(Xe,"smskmap",je),r(Xe,"smskmap2",xe),r(Xe,"stride2offset",q),r(Xe,"ternary",Te),r(Xe,"unary",ke),r(Xe,"unaryAddonDispatch",Be),r(Xe,"unaryBy",Pe),r(Xe,"unaryDtypeSignatures",(function(r,e,n){var t,i,a,o,s,u,f,l,d,m;if(i=arguments.length>2?n:{},(s=Ce(r))instanceof Error)throw s;if(e===r)u=s;else if((u=Ce(e))instanceof Error)throw u;for(u.sort(),l=s.length,o=[],d=0;d<l;d++)if(f=s[d],null!==(t=w(f)))for(t=Ae(u,t.sort()),m=0;m<t.length;m++)o.push(f,t[m]);if(i.enums){for(a=[],d=0;d<o.length;d++)a.push(nr(o[d]));o=a}return o})),r(Xe,"unarySignatureCallbacks",(function(r,e){var n,t,i,a;for(n=[],a=0;a<e.length;a+=2)t=vr(e[a]),i=vr(e[a+1]),n.push(Ye(r,t,i));return n})),r(Xe,"writeDataView",Ke),r(Xe,"zmap",We);var $e={};r($e,"base",Xe),r($e,"dispatch",Ze),r($e,"dtypes",Q);export{Xe as base,$e as default,Ze as dispatch,Q as dtypes};
//# sourceMappingURL=index.mjs.map
