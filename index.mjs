// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";var x=function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c,g,h,y;if(!((h=n[0])<=0))for(m=(s=e[0])<0?(1-h)*s:0,l=(f=e[1])<0?(1-h)*f:0,v=(d=e[2])<0?(1-h)*d:0,p=r[0],c=r[1],g=r[2],a=t[0],u=t[1],o=t[2],y=0;y<h;y++)o(g,v,i(a(p,m),u(c,l))),m+=s,l+=f,v+=d};var T=function(r,n){return r[n]};var V=function(r,n){return r.get(n)};var S=function(r,n,e){r[n]=e};var k=function(r,n,e){r.set(e,n)},F=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p;if(!((v=n[0])<=0))for(o=(i=e[0])<0?(1-v)*i:0,s=(a=e[1])<0?(1-v)*a:0,f=(u=e[2])<0?(1-v)*u:0,d=r[0],m=r[1],l=r[2],p=0;p<v;p++)l[f]=t(d[o],m[s]),o+=i,s+=a,f+=u},I=x,O=T,R=V,B=S,P=k;var U=function(r,n,e,t,i,a){var u,o,s,f,d,m,l,v,p,c,g,h,y,b;if(!((y=n[0])<=0))for(l=t[0],v=t[1],p=t[2],f=e[0],d=e[1],m=e[2],c=r[0],g=r[1],h=r[2],u=i[0],o=i[1],s=i[2],b=0;b<y;b++)s(h,p,a(u(c,l),o(g,v))),l+=f,v+=d,p+=m},_=function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c;if(!((p=n[0])<=0))for(s=t[0],f=t[1],d=t[2],a=e[0],u=e[1],o=e[2],m=r[0],l=r[1],v=r[2],c=0;c<p;c++)v[d]=i(m[s],l[f]),s+=a,f+=u,d+=o},A=U,D=T,M=V,q=S,C=k;var L=function(r,n,e,t){var i,a,u,o,s,f;return(o=r[0]).get&&o.set&&(i=R),(s=r[1]).get&&s.set&&(a=R),(f=r[2]).get&&f.set&&(u=P),i||a||u?I(r,n,e,[i=i||O,a=a||O,u=u||B],t):F(r,n,e,t)};n(L,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d;return(s=r[0]).get&&s.set&&(a=M),(f=r[1]).get&&f.set&&(u=M),(d=r[2]).get&&d.set&&(o=C),a||u||o?A(r,n,e,t,[a=a||D,u=u||D,o=o||q],i):_(r,n,e,t,i)}));var N=L,Y=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var z=function(){return Y.slice()},G=(0,a.enum)();var H=r,J=u;var K=z,Q=function(){return{bool:G.bool,int8:G.int8,uint8:G.uint8,uint8c:G.uint8c,int16:G.int16,uint16:G.uint16,int32:G.int32,uint32:G.uint32,int64:G.int64,uint64:G.uint64,float32:G.float32,float64:G.float64,complex64:G.complex64,complex128:G.complex128,binary:G.binary,generic:G.generic,notype:G.notype,userdefined_type:G.userdefined_type}},W=function(r,n){var e,t,i;for(e=J(n),i=0;i<e.length;i++)t=e[i],H(r,t,n[t]);return r};n(K,"enum",Q),W(K,Q());var X=K,Z=i((0,X.enum)(),{duplicates:!1});var $=function(r){var n=Z[r];return"string"==typeof n?n:null},rr=(0,X.enum)();var nr=function(r){var n=rr[r];return"number"==typeof n?n:null},er=$,tr=nr;var ir=function(r){var n=typeof r;return"number"===n?er(r)?r:null:"string"===n?tr(r):null},ar=o;var ur=function(r,n){return new ar(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))},or=s;var sr=function(r,n){return new or(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))},fr=e,dr=t,mr=ir,lr=ur,vr=sr,pr=f,cr=mr("complex64"),gr=mr("complex128");var hr=function(r,n){if(!fr(r))throw new TypeError(pr("invalid argument. First argument must be a function. Value: `%s`.",r));if(!fr(n))throw new TypeError(pr("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,t,i,a,u,o,s,f,d,m){var l,v,p;if(!dr(i)||!dr(o)||!dr(d))return n(e,t,i,a,u,o,s,f,d,m),d;if(t=mr(t),u=mr(u),f=mr(f),null===t||null===u||null===f)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");l=t===cr?lr(i,0):t===gr?vr(i,0):i;v=u===cr?lr(o,0):u===gr?vr(o,0):o;p=f===cr?lr(d,0):f===gr?vr(d,0):d;return r(e,t,l,a,u,v,s,f,p,m),d}};var yr=function(r,n){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)};var br=function(r,n,e){return r>0&&n<0&&(e+=(r-1)*n),e},wr=e,jr=t,Er=d.isPrimitive,xr=ir,Tr=ur,Vr=sr,Sr=yr,kr=br,Fr=f,Ir=xr("complex64"),Or=xr("complex128");var Rr=hr;n(Rr,"ndarray",(function(r,n){if(!wr(r))throw new TypeError(Fr("invalid argument. First argument must be a function. Value: `%s`.",r));if(!wr(n))throw new TypeError(Fr("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,t,i,a,u,o,s,f,d,m,l,v,p){var c,g,h;if(!jr(i)||!jr(s)||!jr(l))return n(e,t,i,a,u,o,s,f,d,m,l,v,p),l;if(t=xr(t),o=xr(o),m=xr(m),null===t||null===o||null===m)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!Er(u))throw new TypeError(Fr("invalid argument. First input array offset argument must be a nonnegative integer. Value: `%s`",u));if(!Er(d))throw new TypeError(Fr("invalid argument. Second input array offset argument must be a nonnegative integer. Value: `%s`.",d));if(!Er(p))throw new TypeError(Fr("invalid argument. Output array offset argument must be a nonnegative integer. Value: `%s`.",p));u=kr(e,a,u),d=kr(e,f,d),p=kr(e,v,p),c=t===Ir?Tr(i,u):t===Or?Vr(i,u):Sr(i,u);g=o===Ir?Tr(s,d):o===Or?Vr(s,d):Sr(s,d);h=m===Ir?Tr(l,p):m===Or?Vr(l,p):Sr(l,p);return r(e,t,c,a,o,g,f,m,h,v),l}}));var Br=Rr,Pr=$,Ur=nr;var _r=function(r){var n=typeof r;return"string"===n?Ur(r)?r:null:"number"===n?Pr(r):null},Ar=m,Dr=l,Mr=ir,qr=_r,Cr=f;function Lr(r,n){var e,t,i,a,u,o,s;for(t=r.length,i=n.length,e=[],s=0,u=0;u<t&&!(s>=i);u++)for(a=r[u],o=s;o<i;o++)if(a===n[o]){s=o+1,e.push(a);break}return e}function Nr(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=qr(r[t])))return new TypeError(Cr("invalid argument. Must provided recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}var Yr=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p,c,g,h,y,b,w;if(u=arguments.length>3?t:{},(f=Nr(r))instanceof Error)throw f;if(n===r)d=f;else if((d=Nr(n))instanceof Error)throw d;if(e===r)m=f;else if(e===n)m=d;else if((m=Nr(e))instanceof Error)throw m;for(m.sort(),i={},g=f.length,h=d.length,s=[],y=0;y<g;y++)for(l=f[y],b=0;b<h;b++)if(v=d[b],-1!==(p=Ar(l,v))&&null!==p)for(s.push(l,v,p),void 0===(a=i[p])&&(a=Lr(m,(a=Dr(p)).sort()),i[p]=a),w=0;w<a.length;w++)(c=a[w])!==p&&s.push(l,v,c);if(u.enums){for(o=[],y=0;y<s.length;y++)o.push(Mr(s[y]));s=o}return s},zr=_r,Gr=c,Hr="complex64",Jr="complex128",Kr={complex64:v,complex128:p};function Qr(r,n,e,t){if(t===Hr||t===Jr)return n===e&&e===t?r[t]:Gr(r[t],2,Kr[t]);if("generic"===t){if(n===Jr||e===Jr)return n===e?r[n]:Gr(r[Jr],2,Kr[Jr]);if(n===Hr||e===Hr)return n===e?r[n]:Gr(r[Hr],2,Kr[Hr])}return r.default}var Wr=function(r,n){var e,t,i,a,u;for(e=[],u=0;u<n.length;u+=3)t=zr(n[u]),i=zr(n[u+1]),a=zr(n[u+2]),e.push(Qr(r,t,i,a));return e},Xr=Wr;var Zr=function(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t};n(Zr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i.set(o(n.get(s)),f),s+=e,f+=a;return i}));var $r=Zr;var rn=function(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t};n(rn,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i[f]=o(n[s]),s+=e,f+=a;return i}));var nn=rn;var en=function(r,n,e,t,i,a,u,o){var s,f,d,m;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,m=0;m<r;m++)a[d]=o(n[s],t[f]),s+=e,f+=i,d+=u;return a};n(en,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var m,l,v,p;if(r<=0)return o;for(m=t,l=u,v=f,p=0;p<r;p++)o[v]=d(n[m],i[l]),m+=e,l+=a,v+=s;return o}));var tn=en;var an=function(r,n,e,t,i,a,u,o){var s,f,d,m;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,m=0;m<r;m++)0===t[f]&&(a[d]=o(n[s])),s+=e,f+=i,d+=u;return a};n(an,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var m,l,v,p;if(r<=0)return o;for(m=t,l=u,v=f,p=0;p<r;p++)0===i[l]&&(o[v]=d(n[m])),m+=e,l+=a,v+=s;return o}));var un=an;var on=function(r,n,e,t,i,a,u,o,s,f){var d,m,l,v,p;if(r<=0)return o;for(d=e<0?(1-r)*e:0,m=i<0?(1-r)*i:0,l=s<0?(1-r)*s:0,v=u<0?(1-r)*u:0,p=0;p<r;p++)0===a[v]&&(o[l]=f(n[d],t[m])),d+=e,m+=i,l+=s,v+=u;return o};n(on,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,m,l,v){var p,c,g,h,y;if(r<=0)return d;for(p=t,c=u,g=l,h=f,y=0;y<r;y++)0===o[h]&&(d[g]=v(n[p],i[c])),p+=e,c+=a,g+=m,h+=s;return d}));var sn=on;var fn=function(r,n,e,t,i,a,u,o){var s,f,d,m;if(r<=0)return t;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,m=0;m<r;m++)void 0!==(d=u.call(o,n[s],m,s,f,n,t))&&(t[f]=a(d)),s+=e,f+=i;return t};n(fn,"ndarray",(function(r,n,e,t,i,a,u,o,s,f){var d,m,l,v;if(r<=0)return i;for(d=t,m=u,v=0;v<r;v++)void 0!==(l=s.call(f,n[d],v,d,m,n,i))&&(i[m]=o(l)),d+=e,m+=a;return i}));var dn=fn;var mn=function(r,n,e,t,i,a,u,o,s,f){var d,m,l,v,p;if(r<=0)return a;for(d=e<0?(1-r)*e:0,m=i<0?(1-r)*i:0,l=u<0?(1-r)*u:0,p=0;p<r;p++)void 0!==(v=s.call(f,n[d],t[m],p,d,m,l,n,t,a))&&(a[l]=o(v[0],v[1])),d+=e,m+=i,l+=u;return a};n(mn,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,m,l){var v,p,c,g,h;if(r<=0)return o;for(v=t,p=u,c=f,h=0;h<r;h++)void 0!==(g=m.call(l,n[v],i[p],h,v,p,c,n,i,o))&&(o[c]=d(g[0],g[1])),v+=e,p+=a,c+=s;return o}));var ln=mn;var vn=function(r,n,e){return r>0&&n>0&&(e+=(r-1)*n),e},pn=n,cn=g,gn=h;var hn=function(r,n,e,t){return pn(e,"nargs",t?r.nargs+r.nin+r.nout:r.nargs),pn(e,"nin",r.nin),pn(e,"nout",r.nout),cn(e,"types",(function(){return gn(n,r.nin,r.nout)})),e},yn=hn;var bn=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p;if(!((v=n[0])<=0))for(o=(i=e[0])<0?(1-v)*i:0,s=(a=e[1])<0?(1-v)*a:0,f=(u=e[2])<0?(1-v)*u:0,d=r[0],m=r[1],l=r[2],p=0;p<v;p++)0===m[s]&&(l[f]=t(d[o])),o+=i,s+=a,f+=u};n(bn,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c;if(!((p=n[0])<=0))for(s=t[0],f=t[1],d=t[2],a=e[0],u=e[1],o=e[2],m=r[0],l=r[1],v=r[2],c=0;c<p;c++)0===l[f]&&(v[d]=i(m[s])),s+=a,f+=u,d+=o}));var wn=bn;var jn=function(r,n,e,t){var i,a,u,o,s;if(!((o=n[0])<=0))for(a=(i=e[0])<0?(1-o)*i:0,u=r[0],s=0;s<o;s++)u[a]=t(),a+=i};n(jn,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f;if(!((s=n[0])<=0))for(u=t[0],a=e[0],o=r[0],f=0;f<s;f++)o[u]=i(),u+=a}));var En=jn;var xn=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p,c,g,h,y,b,w;if(!((b=n[0])<=0))for(f=(i=e[0])<0?(1-b)*i:0,d=(a=e[1])<0?(1-b)*a:0,m=(u=e[2])<0?(1-b)*u:0,l=(o=e[3])<0?(1-b)*o:0,v=(s=e[4])<0?(1-b)*s:0,p=r[0],c=r[1],g=r[2],h=r[3],y=r[4],w=0;w<b;w++)y[v]=t(p[f],c[d],g[m],h[l]),f+=i,d+=a,m+=u,l+=o,v+=s};n(xn,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c,g,h,y,b,w,j;if(!((w=n[0])<=0))for(d=t[0],m=t[1],l=t[2],v=t[3],p=t[4],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],c=r[0],g=r[1],h=r[2],y=r[3],b=r[4],j=0;j<w;j++)b[p]=i(c[d],g[m],h[l],y[v]),d+=a,m+=u,l+=o,v+=s,p+=f}));var Tn=xn;var Vn=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p,c,g,h,y,b,w,j,E,x;if(!((E=n[0])<=0))for(d=(i=e[0])<0?(1-E)*i:0,m=(a=e[1])<0?(1-E)*a:0,l=(u=e[2])<0?(1-E)*u:0,v=(o=e[3])<0?(1-E)*o:0,p=(s=e[4])<0?(1-E)*s:0,c=(f=e[5])<0?(1-E)*f:0,g=r[0],h=r[1],y=r[2],b=r[3],w=r[4],j=r[5],x=0;x<E;x++)j[c]=t(g[d],h[m],y[l],b[v],w[p]),d+=i,m+=a,l+=u,v+=o,p+=s,c+=f};n(Vn,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c,g,h,y,b,w,j,E,x,T;if(!((x=n[0])<=0))for(m=t[0],l=t[1],v=t[2],p=t[3],c=t[4],g=t[5],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],d=e[5],h=r[0],y=r[1],b=r[2],w=r[3],j=r[4],E=r[5],T=0;T<x;T++)E[g]=i(h[m],y[l],b[v],w[p],j[c]),m+=a,l+=u,v+=o,p+=s,c+=f,g+=d}));var Sn=Vn;var kn=function(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t};n(kn,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i[f]=o(n[s]),s+=e,f+=a;return i}));var Fn=kn;var In=function(r,n,e,t,i,a,u,o){var s,f,d,m;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,m=0;m<r;m++)a[d]=o(n[s],t[f]),s+=e,f+=i,d+=u;return a};n(In,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var m,l,v,p;if(r<=0)return o;for(m=t,l=u,v=f,p=0;p<r;p++)o[v]=d(n[m],i[l]),m+=e,l+=a,v+=s;return o}));var On=In;var Rn=function(r,n,e,t,i,a,u,o){var s,f,d,m;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,m=0;m<r;m++)0===t[f]&&(a[d]=o(n[s])),s+=e,f+=i,d+=u;return a};n(Rn,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var m,l,v,p;if(r<=0)return o;for(m=t,l=u,v=f,p=0;p<r;p++)0===i[l]&&(o[v]=d(n[m])),m+=e,l+=a,v+=s;return o}));var Bn=Rn;var Pn=function(r,n,e,t,i,a,u,o,s,f){var d,m,l,v,p;if(r<=0)return o;for(d=e<0?(1-r)*e:0,m=i<0?(1-r)*i:0,l=s<0?(1-r)*s:0,v=u<0?(1-r)*u:0,p=0;p<r;p++)0===a[v]&&(o[l]=f(n[d],t[m])),d+=e,m+=i,l+=s,v+=u;return o};n(Pn,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,m,l,v){var p,c,g,h,y;if(r<=0)return d;for(p=t,c=u,g=l,h=f,y=0;y<r;y++)0===o[h]&&(d[g]=v(n[p],i[c])),p+=e,c+=a,g+=m,h+=s;return d}));var Un=Pn;var _n=function(r,n,e,t){var i,a,u,o,s,f,d,m,l,v,p,c,g,h;if(!((g=n[0])<=0))for(s=(i=e[0])<0?(1-g)*i:0,f=(a=e[1])<0?(1-g)*a:0,d=(u=e[2])<0?(1-g)*u:0,m=(o=e[3])<0?(1-g)*o:0,l=r[0],v=r[1],p=r[2],c=r[3],h=0;h<g;h++)c[m]=t(l[s],v[f],p[d]),s+=i,f+=a,d+=u,m+=o};n(_n,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p,c,g,h,y;if(!((h=n[0])<=0))for(f=t[0],d=t[1],m=t[2],l=t[3],a=e[0],u=e[1],o=e[2],s=e[3],v=r[0],p=r[1],c=r[2],g=r[3],y=0;y<h;y++)g[l]=i(v[f],p[d],c[m]),f+=a,d+=u,m+=o,l+=s}));var An=_n;var Dn=function(r,n,e,t,i){var a,u,o,s,f,d,m,l,v,p;if(!((v=n[0])<=0))for(f=(o=e[0])<0?(1-v)*o:0,d=(s=e[1])<0?(1-v)*s:0,m=r[0],l=r[1],a=t[0],u=t[1],p=0;p<v;p++)u(l,d,i(a(m,f))),f+=o,d+=s};var Mn=function(r,n){return r[n]};var qn=function(r,n){return r.get(n)};var Cn=function(r,n,e){r[n]=e};var Ln=function(r,n,e){r.set(e,n)},Nn=function(r,n,e,t){var i,a,u,o,s,f,d,m;if(!((d=n[0])<=0))for(u=(i=e[0])<0?(1-d)*i:0,o=(a=e[1])<0?(1-d)*a:0,s=r[0],f=r[1],m=0;m<d;m++)f[o]=t(s[u]),u+=i,o+=a},Yn=Dn,zn=Mn,Gn=qn,Hn=Cn,Jn=Ln;var Kn=function(r,n,e,t,i,a){var u,o,s,f,d,m,l,v,p,c;if(!((p=n[0])<=0))for(d=t[0],m=t[1],s=e[0],f=e[1],l=r[0],v=r[1],u=i[0],o=i[1],c=0;c<p;c++)o(v,m,a(u(l,d))),d+=s,m+=f},Qn=function(r,n,e,t,i){var a,u,o,s,f,d,m,l;if(!((m=n[0])<=0))for(o=t[0],s=t[1],a=e[0],u=e[1],f=r[0],d=r[1],l=0;l<m;l++)d[s]=i(f[o]),o+=a,s+=u},Wn=Kn,Xn=Mn,Zn=qn,$n=Cn,re=Ln;var ne=function(r,n,e,t){var i,a,u,o;return(u=r[0]).get&&u.set&&(i=Gn),(o=r[1]).get&&o.set&&(a=Jn),i||a?Yn(r,n,e,[i=i||zn,a=a||Hn],t):Nn(r,n,e,t)};n(ne,"ndarray",(function(r,n,e,t,i){var a,u,o,s;return(o=r[0]).get&&o.set&&(a=Zn),(s=r[1]).get&&s.set&&(u=re),a||u?Wn(r,n,e,t,[a=a||Xn,u=u||$n],i):Qn(r,n,e,t,i)}));var ee=ne,te=e,ie=t,ae=ir,ue=ur,oe=sr,se=f,fe=ae("complex64"),de=ae("complex128");var me=function(r,n){if(!te(r))throw new TypeError(se("invalid argument. First argument must be a function. Value: `%s`.",r));if(!te(n))throw new TypeError(se("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,t,i,a,u,o,s){var f,d;if(!ie(i)||!ie(o))return n(e,t,i,a,u,o,s),o;if(t=ae(t),u=ae(u),null===t||null===u)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");f=t===fe?ue(i,0):t===de?oe(i,0):i;d=u===fe?ue(o,0):u===de?oe(o,0):o;return r(e,t,f,a,u,d,s),o}},le=e,ve=t,pe=d.isPrimitive,ce=ir,ge=ur,he=sr,ye=yr,be=br,we=f,je=ce("complex64"),Ee=ce("complex128");var xe=me;n(xe,"ndarray",(function(r,n){if(!le(r))throw new TypeError(we("invalid argument. First argument must be a function. Value: `%s`.",r));if(!le(n))throw new TypeError(we("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,t,i,a,u,o,s,f,d){var m,l;if(!ve(i)||!ve(s))return n(e,t,i,a,u,o,s,f,d),s;if(t=ce(t),o=ce(o),null===t||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!pe(u))throw new TypeError("invalid argument. Input array offset argument must be a nonnegative integer.");if(!pe(d))throw new TypeError("invalid argument. Output array offset argument must be a nonnegative integer.");u=be(e,a,u),d=be(e,f,d),m=t===je?ge(i,u):t===Ee?he(i,u):ye(i,u);l=o===je?ge(s,d):o===Ee?he(s,d):ye(s,d);return r(e,t,m,a,o,l,f),s}}));var Te=xe;var Ve=function(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t};n(Ve,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i.set(o(n.get(s)),f),s+=e,f+=a;return i}));var Se=Ve,ke=r,Fe={};ke(Fe,"binary",N),ke(Fe,"binaryAddonDispatch",Br),ke(Fe,"binaryDtypeSignatures",Yr),ke(Fe,"binarySignatureCallbacks",Xr),ke(Fe,"cmap",$r),ke(Fe,"dmap",nn),ke(Fe,"dmap2",tn),ke(Fe,"dmskmap",un),ke(Fe,"dmskmap2",sn),ke(Fe,"dtypeEnum2Str",$),ke(Fe,"dtypeResolveEnum",ir),ke(Fe,"dtypeResolveStr",_r),ke(Fe,"dtypeStr2Enum",nr),ke(Fe,"mapBy",dn),ke(Fe,"mapBy2",ln),ke(Fe,"maxViewBufferIndex",vn),ke(Fe,"metaDataProps",yn),ke(Fe,"minViewBufferIndex",br),ke(Fe,"mskunary",wn),ke(Fe,"nullary",En),ke(Fe,"offsetView",yr),ke(Fe,"quaternary",Tn),ke(Fe,"quinary",Sn),ke(Fe,"reinterpretComplex64",ur),ke(Fe,"reinterpretComplex128",sr),ke(Fe,"smap",Fn),ke(Fe,"smap2",On),ke(Fe,"smskmap",Bn),ke(Fe,"smskmap2",Un),ke(Fe,"ternary",An),ke(Fe,"unary",ee),ke(Fe,"unaryAddonDispatch",Te),ke(Fe,"zmap",Se);var Ie=Fe;var Oe=function(r,n,e,t,i,a,u,o,s){var f,d,m,l;for(f=a,m=0;m<r;m++){for(d=s,l=0;l<n&&e[f+l*i]===u[d];l++)d+=o;if(l===n)return m;f+=t}return-1},Re=d.isPrimitive,Be=y,Pe=b.isPrimitive,Ue=w,_e=e,Ae=j,De=f,Me=E,qe=Oe;var Ce=function(r,n,e,t,i,a){var u,o,s,f,d,m;if(_e(r))m=r;else if(!Ue(r))throw new TypeError(De("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!Ae(n))throw new TypeError(De("invalid argument. Second argument must be an array-like object. Value: `%s`.",n));if(!Ae(e)&&null!==e)throw new TypeError(De("invalid argument. Third argument must be an array-like object or `null`. Value: `%s`.",e));if(!Be(t))throw new TypeError(De("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",t));if(!Re(i))throw new TypeError(De("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!Re(a))throw new TypeError(De("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",a));if(0===(s=i+a))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(m){if(f=n.length/s,!Pe(f))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(f=r.length,n.length!==f*s)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(e&&e.length!==f)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*s+1===t)o=!1;else{if(4*s+1!==t)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");o=!0}return d=i*(u=o?4:3)+1,function(){var l,v,p,c,g,h,y,b,w,j,E,x;if((h=arguments.length)!==t){if(h<t)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(!Pe(b=arguments[0]))throw new TypeError(De("invalid argument. First argument must be an integer. Value: `%s`.",b));for(g=[b],c=[],E=1;E<t;E+=u)c.push(arguments[E]);for(l=[],E=3;E<t;E+=u){if(!Pe(w=arguments[E]))throw E<d?new TypeError("invalid argument. Input array stride argument must be an integer."):new TypeError("invalid argument. Output array stride argument must be an integer.");l.push(w)}if(o)for(v=[],E=4;E<t;E+=u){if(!Re(w=arguments[E]))throw E<d?new TypeError("invalid argument. Input array offset argument must be a nonnegative integer."):new TypeError("invalid argument. Output array offset argument must be a nonnegative integer.");v.push(w)}for(p=[],E=2;E<t;E+=u){if(!Ae(w=arguments[E]))throw E<d?new TypeError("invalid argument. Input array argument must be an array-like object."):new TypeError("invalid argument. Output array argument must be an array-like object.");if(x=(E-2)/u,o){if(y=v[x]+(b-1)*l[x],b>0&&(y<0||y>=w.length))throw E<d?new RangeError("invalid argument. Input array argument has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array argument has insufficient elements based on the associated stride and the number of indexed elements.")}else if((b-1)*Me(l[x])>=w.length)throw E<d?new RangeError("invalid argument. Input array argument has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array argument has insufficient elements based on the associated stride and the number of indexed elements.");p.push(w)}if((y=qe(f,s,n,s,1,0,c,1,0))<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");j=m||r[y];e?o?j(p,g,l,v,e[y]):j(p,g,l,e[y]):o?j(p,g,l,v):j(p,g,l);if(1===a)return p[s-1];if(0===a)return;return p.slice(i)}},Le=Ce,Ne=r,Ye={};Ne(Ye,"base",Ie),Ne(Ye,"dispatch",Le),Ne(Ye,"dtypes",X);var ze=Ye;export{Ie as base,ze as default,Le as dispatch,X as dtypes};
//# sourceMappingURL=index.mjs.map
