// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as a}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.0.3-esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-cast-return@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as w}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";function T(r,n){return r[n]}function V(r,n){return r.get(n)}function S(r,n,e){r[n]=e}function k(r,n,e){r.set(e,n)}function F(r,n,e,t){var i,a,u,o,s,f;return(o=r[0]).get&&o.set&&(i=V),(s=r[1]).get&&s.set&&(a=V),(f=r[2]).get&&f.set&&(u=k),i||a||u?function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g,v,h,y;if(!((h=n[0])<=0))for(d=(s=e[0])<0?(1-h)*s:0,m=(f=e[1])<0?(1-h)*f:0,c=(l=e[2])<0?(1-h)*l:0,p=r[0],g=r[1],v=r[2],a=t[0],u=t[1],o=t[2],y=0;y<h;y++)o(v,c,i(a(p,d),u(g,m))),d+=s,m+=f,c+=l}(r,n,e,[i=i||T,a=a||T,u=u||S],t):function(r,n,e,t){var i,a,u,o,s,f,l,d,m,c,p;if(!((c=n[0])<=0))for(o=(i=e[0])<0?(1-c)*i:0,s=(a=e[1])<0?(1-c)*a:0,f=(u=e[2])<0?(1-c)*u:0,l=r[0],d=r[1],m=r[2],p=0;p<c;p++)m[f]=t(l[o],d[s]),o+=i,s+=a,f+=u}(r,n,e,t)}n(F,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,l;return(s=r[0]).get&&s.set&&(a=V),(f=r[1]).get&&f.set&&(u=V),(l=r[2]).get&&l.set&&(o=k),a||u||o?function(r,n,e,t,i,a){var u,o,s,f,l,d,m,c,p,g,v,h,y,b;if(!((y=n[0])<=0))for(m=t[0],c=t[1],p=t[2],f=e[0],l=e[1],d=e[2],g=r[0],v=r[1],h=r[2],u=i[0],o=i[1],s=i[2],b=0;b<y;b++)s(h,p,a(u(g,m),o(v,c))),m+=f,c+=l,p+=d}(r,n,e,t,[a=a||T,u=u||T,o=o||S],i):function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g;if(!((p=n[0])<=0))for(s=t[0],f=t[1],l=t[2],a=e[0],u=e[1],o=e[2],d=r[0],m=r[1],c=r[2],g=0;g<p;g++)c[l]=i(d[s],m[f]),s+=a,f+=u,l+=o}(r,n,e,t,i)}));var O=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function U(){return O.slice()}var I=a();function R(){return{bool:I.bool,int8:I.int8,uint8:I.uint8,uint8c:I.uint8c,int16:I.int16,uint16:I.uint16,int32:I.int32,uint32:I.uint32,int64:I.int64,uint64:I.uint64,float32:I.float32,float64:I.float64,complex64:I.complex64,complex128:I.complex128,binary:I.binary,generic:I.generic,notype:I.notype,userdefined_type:I.userdefined_type}}n(U,"enum",R),function(n,e){var t,i,a;for(t=u(e),a=0;a<t.length;a++)i=t[a],r(n,i,e[i])}(U,R());var B=i(R(),{duplicates:!1});function _(r){var n=B[r];return"string"==typeof n?n:null}var D=R();function A(r){var n=D[r];return"number"==typeof n?n:null}function M(r){var n=typeof r;return"number"===n?_(r)?r:null:"string"===n?A(r):null}function P(r,n){return new o(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function C(r,n){return new s(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}var q=M("complex64"),z=M("complex128");function L(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,f,l,d,m){var c,p,g;if(!t(a)||!t(s)||!t(d))return n(e,i,a,u,o,s,f,l,d,m),d;if(i=M(i),o=M(o),l=M(l),null===i||null===o||null===l)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");c=i===q?P(a,0):i===z?C(a,0):a;p=o===q?P(s,0):o===z?C(s,0):s;g=l===q?P(d,0):l===z?C(d,0):d;return r(e,i,c,u,o,p,f,l,g,m),d}}function N(r,n){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)}function Y(r,n,e){return r>0&&n<0&&(e+=(r-1)*n),e}var G=M("complex64"),H=M("complex128");function J(r){var n=typeof r;return"string"===n?A(r)?r:null:"number"===n?_(r):null}function K(r,n){var e,t,i,a,u,o,s;for(t=r.length,i=n.length,e=[],s=0,u=0;u<t&&!(s>=i);u++)for(a=r[u],o=s;o<i;o++)if(a===n[o]){s=o+1,e.push(a);break}return e}function Q(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=J(r[t])))return new TypeError(f("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}function W(r,n){var e;for(e=0;e<r.length;e++)if(r[e]===n)return!0;return!1}n(L,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,d,m,c,p,g,v,h){var y,b,w;if(!t(a)||!t(d)||!t(g))return n(e,i,a,u,o,s,d,m,c,p,g,v,h),g;if(i=M(i),s=M(s),p=M(p),null===i||null===s||null===p)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(o))throw new TypeError(f("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",o));if(!l(c))throw new TypeError(f("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",c));if(!l(h))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",h));o=Y(e,u,o),c=Y(e,m,c),h=Y(e,v,h),y=i===G?P(a,o):i===H?C(a,o):N(a,o);b=s===G?P(d,c):s===H?C(d,c):N(d,c);w=p===G?P(g,h):p===H?C(g,h):N(g,h);return r(e,i,y,u,s,b,m,p,w,v),g}}));var X="complex64",Z="complex128",$={complex64:c,complex128:p};function rr(r,n,e,t){return t===Z?n===X?e===Z||e===X?r[Z]:g(r[Z],2,$[Z]):n===Z&&(e===Z||e===X)?r[Z]:g(r[Z],2,$[Z]):t===X?n===Z?e===X||e===Z?r[Z]:g(r[Z],2,$[Z]):n===X?e===Z?r[Z]:e===X?r[X]:g(r[X],2,$[X]):e===Z?g(r[Z],2,$[Z]):g(r[X],2,$[X]):"generic"===t?n===Z?e===Z||e===X?r[Z]:g(r[Z],2,$[Z]):n===X?e===X?r[X]:e===Z?r[Z]:g(r[X],2,$[X]):e===Z?g(r[Z],2,$[Z]):e===X?g(r[X],2,$[X]):r.default:r.default}function nr(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t}function er(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t}function tr(r,n,e,t,i,a,u,o){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=u<0?(1-r)*u:0,d=0;d<r;d++)a[l]=o(n[s],t[f]),s+=e,f+=i,l+=u;return a}function ir(r,n,e,t,i,a,u,o){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=u<0?(1-r)*u:0,d=0;d<r;d++)0===t[f]&&(a[l]=o(n[s])),s+=e,f+=i,l+=u;return a}function ar(r,n,e,t,i,a,u,o,s,f){var l,d,m,c,p;if(r<=0)return o;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,c=u<0?(1-r)*u:0,p=0;p<r;p++)0===a[c]&&(o[m]=f(n[l],t[d])),l+=e,d+=i,m+=s,c+=u;return o}function ur(r,n,e,t,i,a,u,o){var s,f,l,d;if(r<=0)return t;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=0;d<r;d++)void 0!==(l=u.call(o,n[s],d,s,f,n,t))&&(t[f]=a(l)),s+=e,f+=i;return t}function or(r,n,e,t,i,a,u,o,s,f){var l,d,m,c,p;if(r<=0)return a;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=u<0?(1-r)*u:0,p=0;p<r;p++)void 0!==(c=s.call(f,n[l],t[d],p,l,d,m,n,t,a))&&(a[m]=o(c[0],c[1])),l+=e,d+=i,m+=u;return a}function sr(r,n){return r[n]}function fr(r,n){return r.get(n)}function lr(r,n,e){r[n]=e}function dr(r,n,e){r.set(e,n)}function mr(r,n,e,t){var i,a,u,o,s,f;return(o=r[0]).get&&o.set&&(i=fr),(s=r[1]).get&&s.set&&(a=fr),(f=r[2]).get&&f.set&&(u=dr),i||a||u?function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g,v,h,y;if(!((h=n[0])<=0))for(d=(s=e[0])<0?(1-h)*s:0,m=(f=e[1])<0?(1-h)*f:0,c=(l=e[2])<0?(1-h)*l:0,p=r[0],g=r[1],v=r[2],a=t[0],u=t[1],o=t[2],y=0;y<h;y++)0===u(g,m)&&o(v,c,i(a(p,d))),d+=s,m+=f,c+=l}(r,n,e,[i=i||sr,a=a||sr,u=u||lr],t):function(r,n,e,t){var i,a,u,o,s,f,l,d,m,c,p;if(!((c=n[0])<=0))for(o=(i=e[0])<0?(1-c)*i:0,s=(a=e[1])<0?(1-c)*a:0,f=(u=e[2])<0?(1-c)*u:0,l=r[0],d=r[1],m=r[2],p=0;p<c;p++)0===d[s]&&(m[f]=t(l[o])),o+=i,s+=a,f+=u}(r,n,e,t)}function cr(r,n,e,t){var i,a,u,o,s;if(!((o=n[0])<=0))for(a=(i=e[0])<0?(1-o)*i:0,u=r[0],s=0;s<o;s++)u[a]=t(),a+=i}n(nr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,l;if(r<=0)return i;for(s=t,f=u,l=0;l<r;l++)i.set(o(n.get(s)),f),s+=e,f+=a;return i})),n(er,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,l;if(r<=0)return i;for(s=t,f=u,l=0;l<r;l++)i[f]=o(n[s]),s+=e,f+=a;return i})),n(tr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l){var d,m,c,p;if(r<=0)return o;for(d=t,m=u,c=f,p=0;p<r;p++)o[c]=l(n[d],i[m]),d+=e,m+=a,c+=s;return o})),n(ir,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l){var d,m,c,p;if(r<=0)return o;for(d=t,m=u,c=f,p=0;p<r;p++)0===i[m]&&(o[c]=l(n[d])),d+=e,m+=a,c+=s;return o})),n(ar,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l,d,m,c){var p,g,v,h,y;if(r<=0)return l;for(p=t,g=u,v=m,h=f,y=0;y<r;y++)0===o[h]&&(l[v]=c(n[p],i[g])),p+=e,g+=a,v+=d,h+=s;return l})),n(ur,"ndarray",(function(r,n,e,t,i,a,u,o,s,f){var l,d,m,c;if(r<=0)return i;for(l=t,d=u,c=0;c<r;c++)void 0!==(m=s.call(f,n[l],c,l,d,n,i))&&(i[d]=o(m)),l+=e,d+=a;return i})),n(or,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l,d,m){var c,p,g,v,h;if(r<=0)return o;for(c=t,p=u,g=f,h=0;h<r;h++)void 0!==(v=d.call(m,n[c],i[p],h,c,p,g,n,i,o))&&(o[g]=l(v[0],v[1])),c+=e,p+=a,g+=s;return o})),n(mr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,l;return(s=r[0]).get&&s.set&&(a=fr),(f=r[1]).get&&f.set&&(u=fr),(l=r[2]).get&&l.set&&(o=dr),a||u||o?function(r,n,e,t,i,a){var u,o,s,f,l,d,m,c,p,g,v,h,y,b;if(!((y=n[0])<=0))for(m=t[0],c=t[1],p=t[2],f=e[0],l=e[1],d=e[2],g=r[0],v=r[1],h=r[2],u=i[0],o=i[1],s=i[2],b=0;b<y;b++)0===o(v,c)&&s(h,p,a(u(g,m))),m+=f,c+=l,p+=d}(r,n,e,t,[a=a||sr,u=u||sr,o=o||lr],i):function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g;if(!((p=n[0])<=0))for(s=t[0],f=t[1],l=t[2],a=e[0],u=e[1],o=e[2],d=r[0],m=r[1],c=r[2],g=0;g<p;g++)0===m[f]&&(c[l]=i(d[s])),s+=a,f+=u,l+=o}(r,n,e,t,i)})),n(cr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f;if(!((s=n[0])<=0))for(u=t[0],a=e[0],o=r[0],f=0;f<s;f++)o[u]=i(),u+=a}));var pr=M("complex64"),gr=M("complex128");function vr(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u){var o;if(!t(a))return n(e,i,a,u),a;if(null===(i=M(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");o=i===pr?P(a,0):i===gr?C(a,0):a;return r(e,i,o,u),a}}var hr=M("complex64"),yr=M("complex128");function br(r,n,e,t){var i,a,u,o,s,f,l,d,m,c,p,g,v,h,y,b,w;if(!((b=n[0])<=0))for(f=(i=e[0])<0?(1-b)*i:0,l=(a=e[1])<0?(1-b)*a:0,d=(u=e[2])<0?(1-b)*u:0,m=(o=e[3])<0?(1-b)*o:0,c=(s=e[4])<0?(1-b)*s:0,p=r[0],g=r[1],v=r[2],h=r[3],y=r[4],w=0;w<b;w++)y[c]=t(p[f],g[l],v[d],h[m]),f+=i,l+=a,d+=u,m+=o,c+=s}function wr(r,n,e,t){var i,a,u,o,s,f,l,d,m,c,p,g,v,h,y,b,w,j,E,x;if(!((E=n[0])<=0))for(l=(i=e[0])<0?(1-E)*i:0,d=(a=e[1])<0?(1-E)*a:0,m=(u=e[2])<0?(1-E)*u:0,c=(o=e[3])<0?(1-E)*o:0,p=(s=e[4])<0?(1-E)*s:0,g=(f=e[5])<0?(1-E)*f:0,v=r[0],h=r[1],y=r[2],b=r[3],w=r[4],j=r[5],x=0;x<E;x++)j[g]=t(v[l],h[d],y[m],b[c],w[p]),l+=i,d+=a,m+=u,c+=o,p+=s,g+=f}function jr(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t}function Er(r,n,e,t,i,a,u,o){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=u<0?(1-r)*u:0,d=0;d<r;d++)a[l]=o(n[s],t[f]),s+=e,f+=i,l+=u;return a}function xr(r,n,e,t,i,a,u,o){var s,f,l,d;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=u<0?(1-r)*u:0,d=0;d<r;d++)0===t[f]&&(a[l]=o(n[s])),s+=e,f+=i,l+=u;return a}function Tr(r,n,e,t,i,a,u,o,s,f){var l,d,m,c,p;if(r<=0)return o;for(l=e<0?(1-r)*e:0,d=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,c=u<0?(1-r)*u:0,p=0;p<r;p++)0===a[c]&&(o[m]=f(n[l],t[d])),l+=e,d+=i,m+=s,c+=u;return o}function Vr(r,n,e,t){var i,a,u,o,s,f,l,d,m,c,p,g,v,h;if(!((v=n[0])<=0))for(s=(i=e[0])<0?(1-v)*i:0,f=(a=e[1])<0?(1-v)*a:0,l=(u=e[2])<0?(1-v)*u:0,d=(o=e[3])<0?(1-v)*o:0,m=r[0],c=r[1],p=r[2],g=r[3],h=0;h<v;h++)g[d]=t(m[s],c[f],p[l]),s+=i,f+=a,l+=u,d+=o}function Sr(r,n){return r[n]}function kr(r,n){return r.get(n)}function Fr(r,n,e){r[n]=e}function Or(r,n,e){r.set(e,n)}function Ur(r,n,e,t){var i,a,u,o;return(u=r[0]).get&&u.set&&(i=kr),(o=r[1]).get&&o.set&&(a=Or),i||a?function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p;if(!((c=n[0])<=0))for(f=(o=e[0])<0?(1-c)*o:0,l=(s=e[1])<0?(1-c)*s:0,d=r[0],m=r[1],a=t[0],u=t[1],p=0;p<c;p++)u(m,l,i(a(d,f))),f+=o,l+=s}(r,n,e,[i=i||Sr,a=a||Fr],t):function(r,n,e,t){var i,a,u,o,s,f,l,d;if(!((l=n[0])<=0))for(u=(i=e[0])<0?(1-l)*i:0,o=(a=e[1])<0?(1-l)*a:0,s=r[0],f=r[1],d=0;d<l;d++)f[o]=t(s[u]),u+=i,o+=a}(r,n,e,t)}n(vr,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o){var s;if(!t(a))return n(e,i,a,u,o),a;if(null===(i=M(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(o))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",o));o=Y(e,u,o),s=i===hr?P(a,o):i===yr?C(a,o):N(a,o);return r(e,i,s,u),a}})),n(br,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g,v,h,y,b,w,j;if(!((w=n[0])<=0))for(l=t[0],d=t[1],m=t[2],c=t[3],p=t[4],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],g=r[0],v=r[1],h=r[2],y=r[3],b=r[4],j=0;j<w;j++)b[p]=i(g[l],v[d],h[m],y[c]),l+=a,d+=u,m+=o,c+=s,p+=f})),n(wr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g,v,h,y,b,w,j,E,x,T;if(!((x=n[0])<=0))for(d=t[0],m=t[1],c=t[2],p=t[3],g=t[4],v=t[5],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],l=e[5],h=r[0],y=r[1],b=r[2],w=r[3],j=r[4],E=r[5],T=0;T<x;T++)E[v]=i(h[d],y[m],b[c],w[p],j[g]),d+=a,m+=u,c+=o,p+=s,g+=f,v+=l})),n(jr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,l;if(r<=0)return i;for(s=t,f=u,l=0;l<r;l++)i[f]=o(n[s]),s+=e,f+=a;return i})),n(Er,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l){var d,m,c,p;if(r<=0)return o;for(d=t,m=u,c=f,p=0;p<r;p++)o[c]=l(n[d],i[m]),d+=e,m+=a,c+=s;return o})),n(xr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l){var d,m,c,p;if(r<=0)return o;for(d=t,m=u,c=f,p=0;p<r;p++)0===i[m]&&(o[c]=l(n[d])),d+=e,m+=a,c+=s;return o})),n(Tr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,l,d,m,c){var p,g,v,h,y;if(r<=0)return l;for(p=t,g=u,v=m,h=f,y=0;y<r;y++)0===o[h]&&(l[v]=c(n[p],i[g])),p+=e,g+=a,v+=d,h+=s;return l})),n(Vr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,l,d,m,c,p,g,v,h,y;if(!((h=n[0])<=0))for(f=t[0],l=t[1],d=t[2],m=t[3],a=e[0],u=e[1],o=e[2],s=e[3],c=r[0],p=r[1],g=r[2],v=r[3],y=0;y<h;y++)v[m]=i(c[f],p[l],g[d]),f+=a,l+=u,d+=o,m+=s})),n(Ur,"ndarray",(function(r,n,e,t,i){var a,u,o,s;return(o=r[0]).get&&o.set&&(a=kr),(s=r[1]).get&&s.set&&(u=Or),a||u?function(r,n,e,t,i,a){var u,o,s,f,l,d,m,c,p,g;if(!((p=n[0])<=0))for(l=t[0],d=t[1],s=e[0],f=e[1],m=r[0],c=r[1],u=i[0],o=i[1],g=0;g<p;g++)o(c,d,a(u(m,l))),l+=s,d+=f}(r,n,e,t,[a=a||Sr,u=u||Fr],i):function(r,n,e,t,i){var a,u,o,s,f,l,d,m;if(!((d=n[0])<=0))for(o=t[0],s=t[1],a=e[0],u=e[1],f=r[0],l=r[1],m=0;m<d;m++)l[s]=i(f[o]),o+=a,s+=u}(r,n,e,t,i)}));var Ir=M("complex64"),Rr=M("complex128");function Br(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,f){var l,d;if(!t(a)||!t(s))return n(e,i,a,u,o,s,f),s;if(i=M(i),o=M(o),null===i||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");l=i===Ir?P(a,0):i===Rr?C(a,0):a;d=o===Ir?P(s,0):o===Rr?C(s,0):s;return r(e,i,l,u,o,d,f),s}}var _r=M("complex64"),Dr=M("complex128");function Ar(r,n){var e,t,i,a,u,o,s;for(t=r.length,i=n.length,e=[],s=0,u=0;u<t&&!(s>=i);u++)for(a=r[u],o=s;o<i;o++)if(a===n[o]){s=o+1,e.push(a);break}return e}function Mr(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=J(r[t])))return new TypeError(f("invalid argument. Must provide recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}n(Br,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,d,m,c){var p,g;if(!t(a)||!t(d))return n(e,i,a,u,o,s,d,m,c),d;if(i=M(i),s=M(s),null===i||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!l(o))throw new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!l(c))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`."));o=Y(e,u,o),c=Y(e,m,c),p=i===_r?P(a,o):i===Dr?C(a,o):N(a,o);g=s===_r?P(d,c):s===Dr?C(d,c):N(d,c);return r(e,i,p,u,s,g,m),d}}));var Pr="complex64",Cr="complex128",qr={complex64:c,complex128:p};function zr(r,n,e){return e===Cr?n===Pr||n===Cr?r[Cr]:y(r.default,1,qr[e]):e===Pr?n===Pr?r[Pr]:n===Cr?r[Cr]:y(r.default,1,qr[e]):"generic"===e?n===Cr?r[Cr]:n===Pr?r[Pr]:r.default:r.default}function Lr(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t}n(Lr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,l;if(r<=0)return i;for(s=t,f=u,l=0;l<r;l++)i.set(o(n.get(s)),f),s+=e,f+=a;return i}));var Nr={};function Yr(r,n,e,t,i,a,u,o,s){var f,l,d,m;for(f=a,d=0;d<r;d++){for(l=s,m=0;m<n&&e[f+m*i]===u[l];m++)l+=o;if(m===n)return d;f+=t}return-1}function Gr(r,n,t,i,a,u){var o,s,d,m,c,p;if(e(r))p=r;else if(!j(r))throw new TypeError(f("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!E(n))throw new TypeError(f("invalid argument. Second argument must be an array-like object. Value: `%s`.",n));if(!E(t)&&null!==t)throw new TypeError(f("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",t));if(!b(i))throw new TypeError(f("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",i));if(!l(a))throw new TypeError(f("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",a));if(!l(u))throw new TypeError(f("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",u));if(0===(d=a+u))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(p){if(m=n.length/d,!w(m))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(m=r.length,n.length!==m*d)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(t&&t.length!==m)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*d+1===i)s=!1;else{if(4*d+1!==i)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");s=!0}return c=a*(o=s?4:3)+1,function(){var e,g,v,h,y,b,j,T,V,S,k,F;if((b=arguments.length)!==i){if(b<i)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(!w(T=arguments[0]))throw new TypeError(f("invalid argument. First argument must be an integer. Value: `%s`.",T));for(y=[T],h=[],k=1;k<i;k+=o)h.push(arguments[k]);for(e=[],k=3;k<i;k+=o){if(!w(V=arguments[k]))throw k<c?new TypeError(f("invalid argument. Input array stride must be an integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array stride must be an integer. Value: `%s`.",V));e.push(V)}if(s)for(g=[],k=4;k<i;k+=o){if(!l(V=arguments[k]))throw k<c?new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",V));g.push(V)}for(v=[],k=2;k<i;k+=o){if(!E(V=arguments[k]))throw k<c?new TypeError(f("invalid argument. Input array must be an array-like object. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array must be an array-like object. Value: `%s`.",V));if(F=(k-2)/o,s){if(j=g[F]+(T-1)*e[F],T>0&&(j<0||j>=V.length))throw k<c?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((T-1)*x(e[F])>=V.length)throw k<c?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");v.push(V)}if((j=Yr(m,d,n,d,1,0,h,1,0))<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");S=p||r[j];t?s?S(v,y,e,g,t[j]):S(v,y,e,t[j]):s?S(v,y,e,g):S(v,y,e);if(1===u)return v[d-1];if(0===u)return;return v.slice(a)}}r(Nr,"binary",F),r(Nr,"binaryAddonDispatch",L),r(Nr,"binaryDtypeSignatures",(function(r,n,e,t){var i,a,u,o,s,f,l,c,p,g,v,h,y,b,w,j,E;if(u=arguments.length>3?t:{},(f=Q(r))instanceof Error)throw f;if(n===r)l=f;else if((l=Q(n))instanceof Error)throw l;if(e===r)c=f;else if(e===n)c=l;else if((c=Q(e))instanceof Error)throw c;for(c.sort(),i={},y=f.length,b=l.length,s=[],w=0;w<y;w++)for(p=f[w],j=0;j<b;j++)if(g=l[j],-1!==(v=d(p,g))&&null!==v)for(W(c,v)&&s.push(p,g,v),void 0===(a=i[v])&&(a=K(c,(a=m(v)).sort()),i[v]=a),E=0;E<a.length;E++)(h=a[E])!==v&&s.push(p,g,h);if(u.enums){for(o=[],w=0;w<s.length;w++)o.push(M(s[w]));s=o}return s})),r(Nr,"binarySignatureCallbacks",(function(r,n){var e,t,i,a,u;for(e=[],u=0;u<n.length;u+=3)t=J(n[u]),i=J(n[u+1]),a=J(n[u+2]),e.push(rr(r,t,i,a));return e})),r(Nr,"cmap",nr),r(Nr,"dmap",er),r(Nr,"dmap2",tr),r(Nr,"dmskmap",ir),r(Nr,"dmskmap2",ar),r(Nr,"dtypeEnum2Str",_),r(Nr,"dtypeResolveEnum",M),r(Nr,"dtypeResolveStr",J),r(Nr,"dtypeStr2Enum",A),r(Nr,"mapBy",ur),r(Nr,"mapBy2",or),r(Nr,"maxViewBufferIndex",(function(r,n,e){return r>0&&n>0&&(e+=(r-1)*n),e})),r(Nr,"metaDataProps",(function(r,e,t,i){return n(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),n(t,"nin",r.nin),n(t,"nout",r.nout),v(t,"types",(function(){return h(e,r.nin,r.nout)})),t})),r(Nr,"minViewBufferIndex",Y),r(Nr,"mskunary",mr),r(Nr,"nullary",cr),r(Nr,"nullaryAddonDispatch",vr),r(Nr,"offsetView",N),r(Nr,"quaternary",br),r(Nr,"quinary",wr),r(Nr,"reinterpretComplex64",P),r(Nr,"reinterpretComplex128",C),r(Nr,"smap",jr),r(Nr,"smap2",Er),r(Nr,"smskmap",xr),r(Nr,"smskmap2",Tr),r(Nr,"ternary",Vr),r(Nr,"unary",Ur),r(Nr,"unaryAddonDispatch",Br),r(Nr,"unaryDtypeSignatures",(function(r,n,e){var t,i,a,u,o,s,f,l,d,c;if(i=arguments.length>2?e:{},(o=Mr(r))instanceof Error)throw o;if(n===r)s=o;else if((s=Mr(n))instanceof Error)throw s;for(s.sort(),l=o.length,u=[],d=0;d<l;d++)if(f=o[d],null!==(t=m(f)))for(t=Ar(s,t.sort()),c=0;c<t.length;c++)u.push(f,t[c]);if(i.enums){for(a=[],d=0;d<u.length;d++)a.push(M(u[d]));u=a}return u})),r(Nr,"unarySignatureCallbacks",(function(r,n){var e,t,i,a;for(e=[],a=0;a<n.length;a+=2)t=J(n[a]),i=J(n[a+1]),e.push(zr(r,t,i));return e})),r(Nr,"zmap",Lr);var Hr={};r(Hr,"base",Nr),r(Hr,"dispatch",Gr),r(Hr,"dtypes",U);export{Nr as base,Hr as default,Gr as dispatch,U as dtypes};
//# sourceMappingURL=index.mjs.map
