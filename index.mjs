// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.0.3-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";var x,T,V,S,k,F,I,O,R,B,P,U,_,A,D,M,q,C,L,N,Y,z;function G(){if(F)return k;return F=1,k=function(r,n){return r[n]}}function H(){if(O)return I;return O=1,I=function(r,n){return r.get(n)}}function J(){if(B)return R;return B=1,R=function(r,n,t){r[n]=t}}function K(){if(U)return P;return U=1,P=function(r,n,t){r.set(t,n)}}function Q(){if(A)return _;A=1;var r=T?x:(T=1,x=function(r,n,t,e){var i,u,a,o,f,s,d,l,c,m,v;if(!((m=n[0])<=0))for(o=(i=t[0])<0?(1-m)*i:0,f=(u=t[1])<0?(1-m)*u:0,s=(a=t[2])<0?(1-m)*a:0,d=r[0],l=r[1],c=r[2],v=0;v<m;v++)c[s]=e(d[o],l[f]),o+=i,f+=u,s+=a}),n=(S||(S=1,V=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p,g,h,y;if(!((h=n[0])<=0))for(l=(f=t[0])<0?(1-h)*f:0,c=(s=t[1])<0?(1-h)*s:0,m=(d=t[2])<0?(1-h)*d:0,v=r[0],p=r[1],g=r[2],u=e[0],a=e[1],o=e[2],y=0;y<h;y++)o(g,m,i(u(v,l),a(p,c))),l+=f,c+=s,m+=d}),V),t=G(),e=H(),i=J(),u=K();return _=function(a,o,f,s){var d,l,c,m,v,p;return(m=a[0]).get&&m.set&&(d=e),(v=a[1]).get&&v.set&&(l=e),(p=a[2]).get&&p.set&&(c=u),d||l||c?n(a,o,f,[d=d||t,l=l||t,c=c||i],s):r(a,o,f,s)}}function W(){if(N)return L;N=1;var r=M?D:(M=1,D=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p;if(!((v=n[0])<=0))for(f=e[0],s=e[1],d=e[2],u=t[0],a=t[1],o=t[2],l=r[0],c=r[1],m=r[2],p=0;p<v;p++)m[d]=i(l[f],c[s]),f+=u,s+=a,d+=o}),n=(C||(C=1,q=function(r,n,t,e,i,u){var a,o,f,s,d,l,c,m,v,p,g,h,y,b;if(!((y=n[0])<=0))for(c=e[0],m=e[1],v=e[2],s=t[0],d=t[1],l=t[2],p=r[0],g=r[1],h=r[2],a=i[0],o=i[1],f=i[2],b=0;b<y;b++)f(h,v,u(a(p,c),o(g,m))),c+=s,m+=d,v+=l}),q),t=G(),e=H(),i=J(),u=K();return L=function(a,o,f,s,d){var l,c,m,v,p,g;return(v=a[0]).get&&v.set&&(l=e),(p=a[1]).get&&p.set&&(c=e),(g=a[2]).get&&g.set&&(m=u),l||c||m?n(a,o,f,s,[l=l||t,c=c||t,m=m||i],d):r(a,o,f,s,d)}}var X=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var Z=function(){return X.slice()},$=(0,u.enum)();var rr=r,nr=a;var tr=Z,er=function(){return{bool:$.bool,int8:$.int8,uint8:$.uint8,uint8c:$.uint8c,int16:$.int16,uint16:$.uint16,int32:$.int32,uint32:$.uint32,int64:$.int64,uint64:$.uint64,float32:$.float32,float64:$.float64,complex64:$.complex64,complex128:$.complex128,binary:$.binary,generic:$.generic,notype:$.notype,userdefined_type:$.userdefined_type}},ir=function(r,n){var t,e,i;for(t=nr(n),i=0;i<t.length;i++)e=t[i],rr(r,e,n[e]);return r};n(tr,"enum",er),ir(tr,er());var ur,ar,or,fr,sr,dr,lr,cr,mr,vr,pr,gr,hr,yr,br,wr,jr,Er,xr,Tr,Vr,Sr,kr,Fr,Ir,Or,Rr,Br,Pr,Ur,_r,Ar,Dr,Mr,qr,Cr,Lr,Nr,Yr,zr,Gr,Hr,Jr,Kr,Qr,Wr,Xr,Zr,$r,rn,nn,tn,en,un,an,on,fn,sn,dn,ln,cn,mn,vn,pn,gn,hn,yn,bn,wn,jn,En,xn,Tn,Vn,Sn,kn,Fn,In,On,Rn,Bn,Pn,Un,_n,An,Dn,Mn,qn,Cn,Ln,Nn,Yn,zn,Gn,Hn,Jn,Kn,Qn,Wn,Xn,Zn,$n,rt,nt,tt,et,it,ut,at,ot,ft,st,dt,lt,ct,mt,vt,pt,gt,ht,yt,bt,wt,jt,Et,xt,Tt,Vt,St,kt,Ft,It,Ot,Rt,Bt,Pt,Ut,_t,At,Dt,Mt,qt,Ct,Lt,Nt,Yt,zt,Gt,Ht,Jt,Kt,Qt,Wt,Xt,Zt,$t,re,ne,te,ee,ie,ue,ae,oe,fe,se,de,le,ce,me,ve,pe,ge,he,ye,be,we,je,Ee,xe,Te,Ve,Se,ke,Fe,Ie,Oe,Re,Be=tr;function Pe(){if(fr)return or;fr=1;var r=function(){if(ar)return ur;ar=1;var r=i((0,Be.enum)(),{duplicates:!1});return ur=function(n){var t=r[n];return"string"==typeof t?t:null}}();return or=r}function Ue(){if(cr)return lr;cr=1;var r=function(){if(dr)return sr;dr=1;var r=(0,Be.enum)();return sr=function(n){var t=r[n];return"number"==typeof t?t:null}}();return lr=r}function _e(){if(gr)return pr;gr=1;var r=function(){if(vr)return mr;vr=1;var r=Pe(),n=Ue();return mr=function(t){var e=typeof t;return"number"===e?r(t)?t:null:"string"===e?n(t):null}}();return pr=r}function Ae(){if(wr)return br;wr=1;var r=function(){if(yr)return hr;yr=1;var r=o;return hr=function(n,t){return new r(n.buffer,n.byteOffset+n.BYTES_PER_ELEMENT*t,2*(n.length-t))}}();return br=r}function De(){if(Tr)return xr;Tr=1;var r=function(){if(Er)return jr;Er=1;var r=f;return jr=function(n,t){return new r(n.buffer,n.byteOffset+n.BYTES_PER_ELEMENT*t,2*(n.length-t))}}();return xr=r}function Me(){if(Sr)return Vr;Sr=1;var r=t,n=e,i=_e(),u=Ae(),a=De(),o=s,f=i("complex64"),d=i("complex128");return Vr=function(t,e){if(!r(t))throw new TypeError(o("invalid argument. First argument must be a function. Value: `%s`.",t));if(!r(e))throw new TypeError(o("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(r,o,s,l,c,m,v,p,g,h){var y,b,w;if(!n(s)||!n(m)||!n(g))return e(r,o,s,l,c,m,v,p,g,h),g;if(o=i(o),c=i(c),p=i(p),null===o||null===c||null===p)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");y=o===f?u(s,0):o===d?a(s,0):s;b=c===f?u(m,0):c===d?a(m,0):m;w=p===f?u(g,0):p===d?a(g,0):g;return t(r,o,y,l,c,b,v,p,w,h),g}}}function qe(){if(Or)return Ir;Or=1;var r=Fr?kr:(Fr=1,kr=function(r,n){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)});return Ir=r}function Ce(){if(Ur)return Pr;Ur=1;var r=Br?Rr:(Br=1,Rr=function(r,n,t){return r>0&&n<0&&(t+=(r-1)*n),t});return Pr=r}function Le(){if(Mr)return Dr;Mr=1;var r=n,i=Me(),u=function(){if(Ar)return _r;Ar=1;var r=t,n=e,i=d.isPrimitive,u=_e(),a=Ae(),o=De(),f=qe(),l=Ce(),c=s,m=u("complex64"),v=u("complex128");return _r=function(t,e){if(!r(t))throw new TypeError(c("invalid argument. First argument must be a function. Value: `%s`.",t));if(!r(e))throw new TypeError(c("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(r,s,d,p,g,h,y,b,w,j,E,x,T){var V,S,k;if(!n(d)||!n(y)||!n(E))return e(r,s,d,p,g,h,y,b,w,j,E,x,T),E;if(s=u(s),h=u(h),j=u(j),null===s||null===h||null===j)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!i(g))throw new TypeError(c("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",g));if(!i(w))throw new TypeError(c("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",w));if(!i(T))throw new TypeError(c("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",T));return g=l(r,p,g),w=l(r,b,w),T=l(r,x,T),V=s===m?a(d,g):s===v?o(d,g):f(d,g),S=h===m?a(y,w):h===v?o(y,w):f(y,w),k=j===m?a(E,T):j===v?o(E,T):f(E,T),t(r,s,V,p,h,S,b,j,k,x),E}}}();return r(i,"ndarray",u),Dr=i}function Ne(){if(zr)return Yr;zr=1;var r=function(){if(Nr)return Lr;Nr=1;var r=Pe(),n=Ue();return Lr=function(t){var e=typeof t;return"string"===e?n(t)?t:null:"number"===e?r(t):null}}();return Yr=r}function Ye(){if($t)return Zt;return $t=1,Zt=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v;if(!((m=n[0])<=0))for(s=(o=t[0])<0?(1-m)*o:0,d=(f=t[1])<0?(1-m)*f:0,l=r[0],c=r[1],u=e[0],a=e[1],v=0;v<m;v++)a(c,d,i(u(l,s))),s+=o,d+=f}}function ze(){if(ne)return re;return ne=1,re=function(r,n){return r[n]}}function Ge(){if(ee)return te;return ee=1,te=function(r,n){return r.get(n)}}function He(){if(ue)return ie;return ue=1,ie=function(r,n,t){r[n]=t}}function Je(){if(oe)return ae;return oe=1,ae=function(r,n,t){r.set(t,n)}}function Ke(){if(se)return fe;se=1;var r=Xt?Wt:(Xt=1,Wt=function(r,n,t,e){var i,u,a,o,f,s,d,l;if(!((d=n[0])<=0))for(a=(i=t[0])<0?(1-d)*i:0,o=(u=t[1])<0?(1-d)*u:0,f=r[0],s=r[1],l=0;l<d;l++)s[o]=e(f[a]),a+=i,o+=u}),n=Ye(),t=ze(),e=Ge(),i=He(),u=Je();return fe=function(a,o,f,s){var d,l,c,m;return(c=a[0]).get&&c.set&&(d=e),(m=a[1]).get&&m.set&&(l=u),d||l?n(a,o,f,[d=d||t,l=l||i],s):r(a,o,f,s)}}function Qe(){if(pe)return ve;pe=1;var r=le?de:(le=1,de=function(r,n,t,e,i){var u,a,o,f,s,d,l,c;if(!((l=n[0])<=0))for(o=e[0],f=e[1],u=t[0],a=t[1],s=r[0],d=r[1],c=0;c<l;c++)d[f]=i(s[o]),o+=u,f+=a}),n=(me||(me=1,ce=function(r,n,t,e,i,u){var a,o,f,s,d,l,c,m,v,p;if(!((v=n[0])<=0))for(d=e[0],l=e[1],f=t[0],s=t[1],c=r[0],m=r[1],a=i[0],o=i[1],p=0;p<v;p++)o(m,l,u(a(c,d))),d+=f,l+=s}),ce),t=ze(),e=Ge(),i=He(),u=Je();return ve=function(a,o,f,s,d){var l,c,m,v;return(m=a[0]).get&&m.set&&(l=e),(v=a[1]).get&&v.set&&(c=u),l||c?n(a,o,f,s,[l=l||t,c=c||i],d):r(a,o,f,s,d)}}function We(){if(be)return ye;be=1;var r=t,n=e,i=_e(),u=Ae(),a=De(),o=s,f=i("complex64"),d=i("complex128");return ye=function(t,e){if(!r(t))throw new TypeError(o("invalid argument. First argument must be a function. Value: `%s`.",t));if(!r(e))throw new TypeError(o("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(r,o,s,l,c,m,v){var p,g;if(!n(s)||!n(m))return e(r,o,s,l,c,m,v),m;if(o=i(o),c=i(c),null===o||null===c)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");p=o===f?u(s,0):o===d?a(s,0):s;g=c===f?u(m,0):c===d?a(m,0):m;return t(r,o,p,l,c,g,v),m}}}function Xe(){if(xe)return Ee;xe=1;var r=n,i=We(),u=function(){if(je)return we;je=1;var r=t,n=e,i=d.isPrimitive,u=_e(),a=Ae(),o=De(),f=qe(),l=Ce(),c=s,m=u("complex64"),v=u("complex128");return we=function(t,e){if(!r(t))throw new TypeError(c("invalid argument. First argument must be a function. Value: `%s`.",t));if(!r(e))throw new TypeError(c("invalid argument. Second argument must be a function. Value: `%s`.",e));return function(r,s,d,p,g,h,y,b,w){var j,E;if(!n(d)||!n(y))return e(r,s,d,p,g,h,y,b,w),y;if(s=u(s),h=u(h),null===s||null===h)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!i(g))throw new TypeError(c("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",g));if(!i(w))throw new TypeError(c("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`."));return g=l(r,p,g),w=l(r,b,w),j=s===m?a(d,g):s===v?o(d,g):f(d,g),E=h===m?a(y,w):h===v?o(y,w):f(y,w),t(r,s,j,p,h,E,b),y}}}();return r(i,"ndarray",u),Ee=i}function Ze(){if(Ie)return Fe;return Ie=1,Fe=function(r,n,t,e,i,u,a,o){var f,s,d;if(r<=0)return i;for(f=e,s=a,d=0;d<r;d++)i.set(o(n.get(f)),s),f+=t,s+=u;return i}}var $e=r,ri={};$e(ri,"binary",function(){if(z)return Y;z=1;var r=n,t=Q();return r(t,"ndarray",W()),Y=t}()),$e(ri,"binaryAddonDispatch",function(){if(Cr)return qr;Cr=1;var r=Le();return qr=r}()),$e(ri,"binaryDtypeSignatures",function(){if(Kr)return Jr;Kr=1;var r=function(){if(Hr)return Gr;Hr=1;var r=l,n=c,t=_e(),e=Ne(),i=s;function u(r,n){var t,e,i,u,a,o,f;for(e=r.length,i=n.length,t=[],f=0,a=0;a<e&&!(f>=i);a++)for(u=r[a],o=f;o<i;o++)if(u===n[o]){f=o+1,t.push(u);break}return t}function a(r){var n,t,u;for(n=[],u=0;u<r.length;u++){if(null===(t=e(r[u])))return new TypeError(i("invalid argument. Must provided recognized data types. Unable to resolve a data type string. Value: `%s`.",r[u]));n.push(t)}return n}return Gr=function(e,i,o,f){var s,d,l,c,m,v,p,g,h,y,b,w,j,E,x,T,V;if(l=arguments.length>3?f:{},(v=a(e))instanceof Error)throw v;if(i===e)p=v;else if((p=a(i))instanceof Error)throw p;if(o===e)g=v;else if(o===i)g=p;else if((g=a(o))instanceof Error)throw g;for(g.sort(),s={},j=v.length,E=p.length,m=[],x=0;x<j;x++)for(h=v[x],T=0;T<E;T++)if(y=p[T],-1!==(b=r(h,y))&&null!==b)for(m.push(h,y,b),void 0===(d=s[b])&&(d=u(g,(d=n(b)).sort()),s[b]=d),V=0;V<d.length;V++)(w=d[V])!==b&&m.push(h,y,w);if(l.enums){for(c=[],x=0;x<m.length;x++)c.push(t(m[x]));m=c}return m},Gr}();return Jr=r}()),$e(ri,"binarySignatureCallbacks",function(){if(Zr)return Xr;Zr=1;var r=function(){if(Wr)return Qr;Wr=1;var r=Ne(),n=p,t="complex64",e="complex128",i={complex64:m,complex128:v};function u(r,u,a,o){if(o===t||o===e)return u===a&&a===o?r[o]:n(r[o],2,i[o]);if("generic"===o){if(u===e||a===e)return u===a?r[u]:n(r[e],2,i[e]);if(u===t||a===t)return u===a?r[u]:n(r[t],2,i[t])}return r.default}return Qr=function(n,t){var e,i,a,o,f;for(e=[],f=0;f<t.length;f+=3)i=r(t[f]),a=r(t[f+1]),o=r(t[f+2]),e.push(u(n,i,a,o));return e}}();return Xr=r}()),$e(ri,"cmap",function(){if(un)return en;un=1;var r=rn?$r:(rn=1,$r=function(r,n,t,e,i,u){var a,o,f;if(r<=0)return e;for(a=t<0?(1-r)*t:0,o=i<0?(1-r)*i:0,f=0;f<r;f++)e.set(u(n.get(a)),o),a+=t,o+=i;return e});return n(r,"ndarray",tn?nn:(tn=1,nn=function(r,n,t,e,i,u,a,o){var f,s,d;if(r<=0)return i;for(f=e,s=a,d=0;d<r;d++)i.set(o(n.get(f)),s),f+=t,s+=u;return i})),en=r}()),$e(ri,"dmap",function(){if(ln)return dn;ln=1;var r=on?an:(on=1,an=function(r,n,t,e,i,u){var a,o,f;if(r<=0)return e;for(a=t<0?(1-r)*t:0,o=i<0?(1-r)*i:0,f=0;f<r;f++)e[o]=u(n[a]),a+=t,o+=i;return e});return n(r,"ndarray",sn?fn:(sn=1,fn=function(r,n,t,e,i,u,a,o){var f,s,d;if(r<=0)return i;for(f=e,s=a,d=0;d<r;d++)i[s]=o(n[f]),f+=t,s+=u;return i})),dn=r}()),$e(ri,"dmap2",function(){if(hn)return gn;hn=1;var r=mn?cn:(mn=1,cn=function(r,n,t,e,i,u,a,o){var f,s,d,l;if(r<=0)return u;for(f=t<0?(1-r)*t:0,s=i<0?(1-r)*i:0,d=a<0?(1-r)*a:0,l=0;l<r;l++)u[d]=o(n[f],e[s]),f+=t,s+=i,d+=a;return u});return n(r,"ndarray",pn?vn:(pn=1,vn=function(r,n,t,e,i,u,a,o,f,s,d){var l,c,m,v;if(r<=0)return o;for(l=e,c=a,m=s,v=0;v<r;v++)o[m]=d(n[l],i[c]),l+=t,c+=u,m+=f;return o})),gn=r}()),$e(ri,"dmskmap",function(){if(xn)return En;xn=1;var r=bn?yn:(bn=1,yn=function(r,n,t,e,i,u,a,o){var f,s,d,l;if(r<=0)return u;for(f=t<0?(1-r)*t:0,s=i<0?(1-r)*i:0,d=a<0?(1-r)*a:0,l=0;l<r;l++)0===e[s]&&(u[d]=o(n[f])),f+=t,s+=i,d+=a;return u});return n(r,"ndarray",jn?wn:(jn=1,wn=function(r,n,t,e,i,u,a,o,f,s,d){var l,c,m,v;if(r<=0)return o;for(l=e,c=a,m=s,v=0;v<r;v++)0===i[c]&&(o[m]=d(n[l])),l+=t,c+=u,m+=f;return o})),En=r}()),$e(ri,"dmskmap2",function(){if(In)return Fn;In=1;var r=Vn?Tn:(Vn=1,Tn=function(r,n,t,e,i,u,a,o,f,s){var d,l,c,m,v;if(r<=0)return o;for(d=t<0?(1-r)*t:0,l=i<0?(1-r)*i:0,c=f<0?(1-r)*f:0,m=a<0?(1-r)*a:0,v=0;v<r;v++)0===u[m]&&(o[c]=s(n[d],e[l])),d+=t,l+=i,c+=f,m+=a;return o});return n(r,"ndarray",kn?Sn:(kn=1,Sn=function(r,n,t,e,i,u,a,o,f,s,d,l,c,m){var v,p,g,h,y;if(r<=0)return d;for(v=e,p=a,g=c,h=s,y=0;y<r;y++)0===o[h]&&(d[g]=m(n[v],i[p])),v+=t,p+=u,g+=l,h+=f;return d})),Fn=r}()),$e(ri,"dtypeEnum2Str",Pe()),$e(ri,"dtypeResolveEnum",_e()),$e(ri,"dtypeResolveStr",Ne()),$e(ri,"dtypeStr2Enum",Ue()),$e(ri,"mapBy",function(){if(_n)return Un;_n=1;var r=Rn?On:(Rn=1,On=function(r,n,t,e,i,u,a,o){var f,s,d,l;if(r<=0)return e;for(f=t<0?(1-r)*t:0,s=i<0?(1-r)*i:0,l=0;l<r;l++)void 0!==(d=a.call(o,n[f],l,f,s,n,e))&&(e[s]=u(d)),f+=t,s+=i;return e});return n(r,"ndarray",Pn?Bn:(Pn=1,Bn=function(r,n,t,e,i,u,a,o,f,s){var d,l,c,m;if(r<=0)return i;for(d=e,l=a,m=0;m<r;m++)void 0!==(c=f.call(s,n[d],m,d,l,n,i))&&(i[l]=o(c)),d+=t,l+=u;return i})),Un=r}()),$e(ri,"mapBy2",function(){if(Ln)return Cn;Ln=1;var r=Dn?An:(Dn=1,An=function(r,n,t,e,i,u,a,o,f,s){var d,l,c,m,v;if(r<=0)return u;for(d=t<0?(1-r)*t:0,l=i<0?(1-r)*i:0,c=a<0?(1-r)*a:0,v=0;v<r;v++)void 0!==(m=f.call(s,n[d],e[l],v,d,l,c,n,e,u))&&(u[c]=o(m[0],m[1])),d+=t,l+=i,c+=a;return u});return n(r,"ndarray",qn?Mn:(qn=1,Mn=function(r,n,t,e,i,u,a,o,f,s,d,l,c){var m,v,p,g,h;if(r<=0)return o;for(m=e,v=a,p=s,h=0;h<r;h++)void 0!==(g=l.call(c,n[m],i[v],h,m,v,p,n,i,o))&&(o[p]=d(g[0],g[1])),m+=t,v+=u,p+=f;return o})),Cn=r}()),$e(ri,"maxViewBufferIndex",function(){if(Gn)return zn;Gn=1;var r=Yn?Nn:(Yn=1,Nn=function(r,n,t){return r>0&&n>0&&(t+=(r-1)*n),t});return zn=r}()),$e(ri,"metaDataProps",function(){if(Qn)return Kn;Qn=1;var r=function(){if(Jn)return Hn;Jn=1;var r=n,t=g,e=h;return Hn=function(n,i,u,a){return r(u,"nargs",a?n.nargs+n.nin+n.nout:n.nargs),r(u,"nin",n.nin),r(u,"nout",n.nout),t(u,"types",(function(){return e(i,n.nin,n.nout)})),u},Hn}();return Kn=r}()),$e(ri,"minViewBufferIndex",Ce()),$e(ri,"mskunary",function(){if(nt)return rt;nt=1;var r=Xn?Wn:(Xn=1,Wn=function(r,n,t,e){var i,u,a,o,f,s,d,l,c,m,v;if(!((m=n[0])<=0))for(o=(i=t[0])<0?(1-m)*i:0,f=(u=t[1])<0?(1-m)*u:0,s=(a=t[2])<0?(1-m)*a:0,d=r[0],l=r[1],c=r[2],v=0;v<m;v++)0===l[f]&&(c[s]=e(d[o])),o+=i,f+=u,s+=a});return n(r,"ndarray",$n?Zn:($n=1,Zn=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p;if(!((v=n[0])<=0))for(f=e[0],s=e[1],d=e[2],u=t[0],a=t[1],o=t[2],l=r[0],c=r[1],m=r[2],p=0;p<v;p++)0===c[s]&&(m[d]=i(l[f])),f+=u,s+=a,d+=o})),rt=r}()),$e(ri,"nullary",function(){if(ot)return at;ot=1;var r=et?tt:(et=1,tt=function(r,n,t,e){var i,u,a,o,f;if(!((o=n[0])<=0))for(u=(i=t[0])<0?(1-o)*i:0,a=r[0],f=0;f<o;f++)a[u]=e(),u+=i});return n(r,"ndarray",ut?it:(ut=1,it=function(r,n,t,e,i){var u,a,o,f,s;if(!((f=n[0])<=0))for(a=e[0],u=t[0],o=r[0],s=0;s<f;s++)o[a]=i(),a+=u})),at=r}()),$e(ri,"offsetView",qe()),$e(ri,"quaternary",function(){if(mt)return ct;mt=1;var r=st?ft:(st=1,ft=function(r,n,t,e){var i,u,a,o,f,s,d,l,c,m,v,p,g,h,y,b,w;if(!((b=n[0])<=0))for(s=(i=t[0])<0?(1-b)*i:0,d=(u=t[1])<0?(1-b)*u:0,l=(a=t[2])<0?(1-b)*a:0,c=(o=t[3])<0?(1-b)*o:0,m=(f=t[4])<0?(1-b)*f:0,v=r[0],p=r[1],g=r[2],h=r[3],y=r[4],w=0;w<b;w++)y[m]=e(v[s],p[d],g[l],h[c]),s+=i,d+=u,l+=a,c+=o,m+=f});return n(r,"ndarray",lt?dt:(lt=1,dt=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p,g,h,y,b,w,j;if(!((w=n[0])<=0))for(d=e[0],l=e[1],c=e[2],m=e[3],v=e[4],u=t[0],a=t[1],o=t[2],f=t[3],s=t[4],p=r[0],g=r[1],h=r[2],y=r[3],b=r[4],j=0;j<w;j++)b[v]=i(p[d],g[l],h[c],y[m]),d+=u,l+=a,c+=o,m+=f,v+=s})),ct=r}()),$e(ri,"quinary",function(){if(bt)return yt;bt=1;var r=pt?vt:(pt=1,vt=function(r,n,t,e){var i,u,a,o,f,s,d,l,c,m,v,p,g,h,y,b,w,j,E,x;if(!((E=n[0])<=0))for(d=(i=t[0])<0?(1-E)*i:0,l=(u=t[1])<0?(1-E)*u:0,c=(a=t[2])<0?(1-E)*a:0,m=(o=t[3])<0?(1-E)*o:0,v=(f=t[4])<0?(1-E)*f:0,p=(s=t[5])<0?(1-E)*s:0,g=r[0],h=r[1],y=r[2],b=r[3],w=r[4],j=r[5],x=0;x<E;x++)j[p]=e(g[d],h[l],y[c],b[m],w[v]),d+=i,l+=u,c+=a,m+=o,v+=f,p+=s});return n(r,"ndarray",ht?gt:(ht=1,gt=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p,g,h,y,b,w,j,E,x,T;if(!((x=n[0])<=0))for(l=e[0],c=e[1],m=e[2],v=e[3],p=e[4],g=e[5],u=t[0],a=t[1],o=t[2],f=t[3],s=t[4],d=t[5],h=r[0],y=r[1],b=r[2],w=r[3],j=r[4],E=r[5],T=0;T<x;T++)E[g]=i(h[l],y[c],b[m],w[v],j[p]),l+=u,c+=a,m+=o,v+=f,p+=s,g+=d})),yt=r}()),$e(ri,"reinterpretComplex64",Ae()),$e(ri,"reinterpretComplex128",De()),$e(ri,"smap",function(){if(Vt)return Tt;Vt=1;var r=jt?wt:(jt=1,wt=function(r,n,t,e,i,u){var a,o,f;if(r<=0)return e;for(a=t<0?(1-r)*t:0,o=i<0?(1-r)*i:0,f=0;f<r;f++)e[o]=u(n[a]),a+=t,o+=i;return e});return n(r,"ndarray",xt?Et:(xt=1,Et=function(r,n,t,e,i,u,a,o){var f,s,d;if(r<=0)return i;for(f=e,s=a,d=0;d<r;d++)i[s]=o(n[f]),f+=t,s+=u;return i})),Tt=r}()),$e(ri,"smap2",function(){if(Rt)return Ot;Rt=1;var r=kt?St:(kt=1,St=function(r,n,t,e,i,u,a,o){var f,s,d,l;if(r<=0)return u;for(f=t<0?(1-r)*t:0,s=i<0?(1-r)*i:0,d=a<0?(1-r)*a:0,l=0;l<r;l++)u[d]=o(n[f],e[s]),f+=t,s+=i,d+=a;return u});return n(r,"ndarray",It?Ft:(It=1,Ft=function(r,n,t,e,i,u,a,o,f,s,d){var l,c,m,v;if(r<=0)return o;for(l=e,c=a,m=s,v=0;v<r;v++)o[m]=d(n[l],i[c]),l+=t,c+=u,m+=f;return o})),Ot=r}()),$e(ri,"smskmap",function(){if(Dt)return At;Dt=1;var r=Pt?Bt:(Pt=1,Bt=function(r,n,t,e,i,u,a,o){var f,s,d,l;if(r<=0)return u;for(f=t<0?(1-r)*t:0,s=i<0?(1-r)*i:0,d=a<0?(1-r)*a:0,l=0;l<r;l++)0===e[s]&&(u[d]=o(n[f])),f+=t,s+=i,d+=a;return u});return n(r,"ndarray",_t?Ut:(_t=1,Ut=function(r,n,t,e,i,u,a,o,f,s,d){var l,c,m,v;if(r<=0)return o;for(l=e,c=a,m=s,v=0;v<r;v++)0===i[c]&&(o[m]=d(n[l])),l+=t,c+=u,m+=f;return o})),At=r}()),$e(ri,"smskmap2",function(){if(Yt)return Nt;Yt=1;var r=qt?Mt:(qt=1,Mt=function(r,n,t,e,i,u,a,o,f,s){var d,l,c,m,v;if(r<=0)return o;for(d=t<0?(1-r)*t:0,l=i<0?(1-r)*i:0,c=f<0?(1-r)*f:0,m=a<0?(1-r)*a:0,v=0;v<r;v++)0===u[m]&&(o[c]=s(n[d],e[l])),d+=t,l+=i,c+=f,m+=a;return o});return n(r,"ndarray",Lt?Ct:(Lt=1,Ct=function(r,n,t,e,i,u,a,o,f,s,d,l,c,m){var v,p,g,h,y;if(r<=0)return d;for(v=e,p=a,g=c,h=s,y=0;y<r;y++)0===o[h]&&(d[g]=m(n[v],i[p])),v+=t,p+=u,g+=l,h+=f;return d})),Nt=r}()),$e(ri,"ternary",function(){if(Qt)return Kt;Qt=1;var r=Gt?zt:(Gt=1,zt=function(r,n,t,e){var i,u,a,o,f,s,d,l,c,m,v,p,g,h;if(!((g=n[0])<=0))for(f=(i=t[0])<0?(1-g)*i:0,s=(u=t[1])<0?(1-g)*u:0,d=(a=t[2])<0?(1-g)*a:0,l=(o=t[3])<0?(1-g)*o:0,c=r[0],m=r[1],v=r[2],p=r[3],h=0;h<g;h++)p[l]=e(c[f],m[s],v[d]),f+=i,s+=u,d+=a,l+=o});return n(r,"ndarray",Jt?Ht:(Jt=1,Ht=function(r,n,t,e,i){var u,a,o,f,s,d,l,c,m,v,p,g,h,y;if(!((h=n[0])<=0))for(s=e[0],d=e[1],l=e[2],c=e[3],u=t[0],a=t[1],o=t[2],f=t[3],m=r[0],v=r[1],p=r[2],g=r[3],y=0;y<h;y++)g[c]=i(m[s],v[d],p[l]),s+=u,d+=a,l+=o,c+=f})),Kt=r}()),$e(ri,"unary",function(){if(he)return ge;he=1;var r=n,t=Ke();return r(t,"ndarray",Qe()),ge=t}()),$e(ri,"unaryAddonDispatch",function(){if(Ve)return Te;Ve=1;var r=Xe();return Te=r}()),$e(ri,"zmap",function(){if(Re)return Oe;Re=1;var r=ke?Se:(ke=1,Se=function(r,n,t,e,i,u){var a,o,f;if(r<=0)return e;for(a=t<0?(1-r)*t:0,o=i<0?(1-r)*i:0,f=0;f<r;f++)e.set(u(n.get(a)),o),a+=t,o+=i;return e});return n(r,"ndarray",Ze()),Oe=r}());var ni=ri;var ti=function(r,n,t,e,i,u,a,o,f){var s,d,l,c;for(s=u,l=0;l<r;l++){for(d=f,c=0;c<n&&t[s+c*i]===a[d];c++)d+=o;if(c===n)return l;s+=e}return-1},ei=d.isPrimitive,ii=y,ui=b.isPrimitive,ai=w,oi=t,fi=j,si=s,di=E,li=ti;var ci=function(r,n,t,e,i,u){var a,o,f,s,d,l;if(oi(r))l=r;else if(!ai(r))throw new TypeError(si("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!fi(n))throw new TypeError(si("invalid argument. Second argument must be an array-like object. Value: `%s`.",n));if(!fi(t)&&null!==t)throw new TypeError(si("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",t));if(!ii(e))throw new TypeError(si("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",e));if(!ei(i))throw new TypeError(si("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!ei(u))throw new TypeError(si("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",u));if(0===(f=i+u))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(l){if(s=n.length/f,!ui(s))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(s=r.length,n.length!==s*f)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(t&&t.length!==s)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*f+1===e)o=!1;else{if(4*f+1!==e)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");o=!0}return d=i*(a=o?4:3)+1,function(){var c,m,v,p,g,h,y,b,w,j,E,x;if((h=arguments.length)!==e){if(h<e)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(!ui(b=arguments[0]))throw new TypeError(si("invalid argument. First argument must be an integer. Value: `%s`.",b));for(g=[b],p=[],E=1;E<e;E+=a)p.push(arguments[E]);for(c=[],E=3;E<e;E+=a){if(!ui(w=arguments[E]))throw E<d?new TypeError(si("invalid argument. Input array stride must be an integer. Value: `%s`.",w)):new TypeError(si("invalid argument. Output array stride must be an integer. Value: `%s`.",w));c.push(w)}if(o)for(m=[],E=4;E<e;E+=a){if(!ei(w=arguments[E]))throw E<d?new TypeError(si("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",w)):new TypeError(si("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",w));m.push(w)}for(v=[],E=2;E<e;E+=a){if(!fi(w=arguments[E]))throw E<d?new TypeError(si("invalid argument. Input array must be an array-like object. Value: `%s`.",w)):new TypeError(si("invalid argument. Output array must be an array-like object. Value: `%s`.",w));if(x=(E-2)/a,o){if(y=m[x]+(b-1)*c[x],b>0&&(y<0||y>=w.length))throw E<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((b-1)*di(c[x])>=w.length)throw E<d?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");v.push(w)}if((y=li(s,f,n,f,1,0,p,1,0))<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");j=l||r[y];t?o?j(v,g,c,m,t[y]):j(v,g,c,t[y]):o?j(v,g,c,m):j(v,g,c);if(1===u)return v[f-1];if(0===u)return;return v.slice(i)}},mi=ci,vi={};r(vi,"base",ni),r(vi,"dispatch",mi),r(vi,"dtypes",Be);export{ni as base,vi as default,mi as dispatch,Be as dtypes};
//# sourceMappingURL=index.mjs.map
