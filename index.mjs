// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-object-inverse@esm/index.mjs";import{enum as a}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.0.3-esm/index.mjs";import{isPrimitive as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-promotion-rules@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-safe-casts@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-base-wrap-function@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtypes2signatures@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function-array@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";function x(r,n){return r[n]}function T(r,n){return r.get(n)}function V(r,n,e){r[n]=e}function S(r,n,e){r.set(e,n)}function k(r,n,e,t){var i,a,u,o,s,f;return(o=r[0]).get&&o.set&&(i=T),(s=r[1]).get&&s.set&&(a=T),(f=r[2]).get&&f.set&&(u=S),i||a||u?function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v,g,y,h;if(!((y=n[0])<=0))for(l=(s=e[0])<0?(1-y)*s:0,m=(f=e[1])<0?(1-y)*f:0,p=(d=e[2])<0?(1-y)*d:0,c=r[0],v=r[1],g=r[2],a=t[0],u=t[1],o=t[2],h=0;h<y;h++)o(g,p,i(a(c,l),u(v,m))),l+=s,m+=f,p+=d}(r,n,e,[i=i||x,a=a||x,u=u||V],t):function(r,n,e,t){var i,a,u,o,s,f,d,l,m,p,c;if(!((p=n[0])<=0))for(o=(i=e[0])<0?(1-p)*i:0,s=(a=e[1])<0?(1-p)*a:0,f=(u=e[2])<0?(1-p)*u:0,d=r[0],l=r[1],m=r[2],c=0;c<p;c++)m[f]=t(d[o],l[s]),o+=i,s+=a,f+=u}(r,n,e,t)}n(k,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d;return(s=r[0]).get&&s.set&&(a=T),(f=r[1]).get&&f.set&&(u=T),(d=r[2]).get&&d.set&&(o=S),a||u||o?function(r,n,e,t,i,a){var u,o,s,f,d,l,m,p,c,v,g,y,h,b;if(!((h=n[0])<=0))for(m=t[0],p=t[1],c=t[2],f=e[0],d=e[1],l=e[2],v=r[0],g=r[1],y=r[2],u=i[0],o=i[1],s=i[2],b=0;b<h;b++)s(y,c,a(u(v,m),o(g,p))),m+=f,p+=d,c+=l}(r,n,e,t,[a=a||x,u=u||x,o=o||V],i):function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v;if(!((c=n[0])<=0))for(s=t[0],f=t[1],d=t[2],a=e[0],u=e[1],o=e[2],l=r[0],m=r[1],p=r[2],v=0;v<c;v++)p[d]=i(l[s],m[f]),s+=a,f+=u,d+=o}(r,n,e,t,i)}));var F=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function O(){return F.slice()}var I=a();function U(){return{bool:I.bool,int8:I.int8,uint8:I.uint8,uint8c:I.uint8c,int16:I.int16,uint16:I.uint16,int32:I.int32,uint32:I.uint32,int64:I.int64,uint64:I.uint64,float32:I.float32,float64:I.float64,complex64:I.complex64,complex128:I.complex128,binary:I.binary,generic:I.generic,notype:I.notype,userdefined_type:I.userdefined_type}}n(O,"enum",U),function(n,e){var t,i,a;for(t=u(e),a=0;a<t.length;a++)i=t[a],r(n,i,e[i])}(O,U());var R=i(U(),{duplicates:!1});function B(r){var n=R[r];return"string"==typeof n?n:null}var _=U();function A(r){var n=_[r];return"number"==typeof n?n:null}function D(r){var n=typeof r;return"number"===n?B(r)?r:null:"string"===n?A(r):null}function P(r,n){return new o(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function M(r,n){return new s(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}var q=D("complex64"),C=D("complex128");function L(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,f,d,l,m){var p,c,v;if(!t(a)||!t(s)||!t(l))return n(e,i,a,u,o,s,f,d,l,m),l;if(i=D(i),o=D(o),d=D(d),null===i||null===o||null===d)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");p=i===q?P(a,0):i===C?M(a,0):a;c=o===q?P(s,0):o===C?M(s,0):s;v=d===q?P(l,0):d===C?M(l,0):l;return r(e,i,p,u,o,c,f,d,v,m),l}}function N(r,n){return new r.constructor(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)}function Y(r,n,e){return r>0&&n<0&&(e+=(r-1)*n),e}var z=D("complex64"),G=D("complex128");function H(r){var n=typeof r;return"string"===n?A(r)?r:null:"number"===n?B(r):null}function J(r,n){var e,t,i,a,u,o,s;for(t=r.length,i=n.length,e=[],s=0,u=0;u<t&&!(s>=i);u++)for(a=r[u],o=s;o<i;o++)if(a===n[o]){s=o+1,e.push(a);break}return e}function K(r){var n,e,t;for(n=[],t=0;t<r.length;t++){if(null===(e=H(r[t])))return new TypeError(f("invalid argument. Must provided recognized data types. Unable to resolve a data type string. Value: `%s`.",r[t]));n.push(e)}return n}n(L,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,l,m,p,c,v,g,y){var h,b,w;if(!t(a)||!t(l)||!t(v))return n(e,i,a,u,o,s,l,m,p,c,v,g,y),v;if(i=D(i),s=D(s),c=D(c),null===i||null===s||null===c)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!d(o))throw new TypeError(f("invalid argument. First input array offset must be a nonnegative integer. Value: `%s`.",o));if(!d(p))throw new TypeError(f("invalid argument. Second input array offset must be a nonnegative integer. Value: `%s`.",p));if(!d(y))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",y));o=Y(e,u,o),p=Y(e,m,p),y=Y(e,g,y),h=i===z?P(a,o):i===G?M(a,o):N(a,o);b=s===z?P(l,p):s===G?M(l,p):N(l,p);w=c===z?P(v,y):c===G?M(v,y):N(v,y);return r(e,i,h,u,s,b,m,c,w,g),v}}));var Q="complex64",W="complex128",X={complex64:p,complex128:c};function Z(r,n,e,t){if(t===Q||t===W)return n===e&&e===t?r[t]:v(r[t],2,X[t]);if("generic"===t){if(n===W||e===W)return n===e?r[n]:v(r[W],2,X[W]);if(n===Q||e===Q)return n===e?r[n]:v(r[Q],2,X[Q])}return r.default}function $(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t}function rr(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t}function nr(r,n,e,t,i,a,u,o){var s,f,d,l;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,l=0;l<r;l++)a[d]=o(n[s],t[f]),s+=e,f+=i,d+=u;return a}function er(r,n,e,t,i,a,u,o){var s,f,d,l;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,l=0;l<r;l++)0===t[f]&&(a[d]=o(n[s])),s+=e,f+=i,d+=u;return a}function tr(r,n,e,t,i,a,u,o,s,f){var d,l,m,p,c;if(r<=0)return o;for(d=e<0?(1-r)*e:0,l=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,p=u<0?(1-r)*u:0,c=0;c<r;c++)0===a[p]&&(o[m]=f(n[d],t[l])),d+=e,l+=i,m+=s,p+=u;return o}function ir(r,n,e,t,i,a,u,o){var s,f,d,l;if(r<=0)return t;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,l=0;l<r;l++)void 0!==(d=u.call(o,n[s],l,s,f,n,t))&&(t[f]=a(d)),s+=e,f+=i;return t}function ar(r,n,e,t,i,a,u,o,s,f){var d,l,m,p,c;if(r<=0)return a;for(d=e<0?(1-r)*e:0,l=i<0?(1-r)*i:0,m=u<0?(1-r)*u:0,c=0;c<r;c++)void 0!==(p=s.call(f,n[d],t[l],c,d,l,m,n,t,a))&&(a[m]=o(p[0],p[1])),d+=e,l+=i,m+=u;return a}function ur(r,n,e,t){var i,a,u,o,s,f,d,l,m,p,c;if(!((p=n[0])<=0))for(o=(i=e[0])<0?(1-p)*i:0,s=(a=e[1])<0?(1-p)*a:0,f=(u=e[2])<0?(1-p)*u:0,d=r[0],l=r[1],m=r[2],c=0;c<p;c++)0===l[s]&&(m[f]=t(d[o])),o+=i,s+=a,f+=u}function or(r,n,e,t){var i,a,u,o,s;if(!((o=n[0])<=0))for(a=(i=e[0])<0?(1-o)*i:0,u=r[0],s=0;s<o;s++)u[a]=t(),a+=i}n($,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i.set(o(n.get(s)),f),s+=e,f+=a;return i})),n(rr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i[f]=o(n[s]),s+=e,f+=a;return i})),n(nr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var l,m,p,c;if(r<=0)return o;for(l=t,m=u,p=f,c=0;c<r;c++)o[p]=d(n[l],i[m]),l+=e,m+=a,p+=s;return o})),n(er,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var l,m,p,c;if(r<=0)return o;for(l=t,m=u,p=f,c=0;c<r;c++)0===i[m]&&(o[p]=d(n[l])),l+=e,m+=a,p+=s;return o})),n(tr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,l,m,p){var c,v,g,y,h;if(r<=0)return d;for(c=t,v=u,g=m,y=f,h=0;h<r;h++)0===o[y]&&(d[g]=p(n[c],i[v])),c+=e,v+=a,g+=l,y+=s;return d})),n(ir,"ndarray",(function(r,n,e,t,i,a,u,o,s,f){var d,l,m,p;if(r<=0)return i;for(d=t,l=u,p=0;p<r;p++)void 0!==(m=s.call(f,n[d],p,d,l,n,i))&&(i[l]=o(m)),d+=e,l+=a;return i})),n(ar,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,l,m){var p,c,v,g,y;if(r<=0)return o;for(p=t,c=u,v=f,y=0;y<r;y++)void 0!==(g=l.call(m,n[p],i[c],y,p,c,v,n,i,o))&&(o[v]=d(g[0],g[1])),p+=e,c+=a,v+=s;return o})),n(ur,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v;if(!((c=n[0])<=0))for(s=t[0],f=t[1],d=t[2],a=e[0],u=e[1],o=e[2],l=r[0],m=r[1],p=r[2],v=0;v<c;v++)0===m[f]&&(p[d]=i(l[s])),s+=a,f+=u,d+=o})),n(or,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f;if(!((s=n[0])<=0))for(u=t[0],a=e[0],o=r[0],f=0;f<s;f++)o[u]=i(),u+=a}));var sr=D("complex64"),fr=D("complex128");function dr(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u){var o;if(!t(a))return n(e,i,a,u),a;if(null===(i=D(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");o=i===sr?P(a,0):i===fr?M(a,0):a;return r(e,i,o,u),a}}var lr=D("complex64"),mr=D("complex128");function pr(r,n,e,t){var i,a,u,o,s,f,d,l,m,p,c,v,g,y,h,b,w;if(!((b=n[0])<=0))for(f=(i=e[0])<0?(1-b)*i:0,d=(a=e[1])<0?(1-b)*a:0,l=(u=e[2])<0?(1-b)*u:0,m=(o=e[3])<0?(1-b)*o:0,p=(s=e[4])<0?(1-b)*s:0,c=r[0],v=r[1],g=r[2],y=r[3],h=r[4],w=0;w<b;w++)h[p]=t(c[f],v[d],g[l],y[m]),f+=i,d+=a,l+=u,m+=o,p+=s}function cr(r,n,e,t){var i,a,u,o,s,f,d,l,m,p,c,v,g,y,h,b,w,j,E,x;if(!((E=n[0])<=0))for(d=(i=e[0])<0?(1-E)*i:0,l=(a=e[1])<0?(1-E)*a:0,m=(u=e[2])<0?(1-E)*u:0,p=(o=e[3])<0?(1-E)*o:0,c=(s=e[4])<0?(1-E)*s:0,v=(f=e[5])<0?(1-E)*f:0,g=r[0],y=r[1],h=r[2],b=r[3],w=r[4],j=r[5],x=0;x<E;x++)j[v]=t(g[d],y[l],h[m],b[p],w[c]),d+=i,l+=a,m+=u,p+=o,c+=s,v+=f}function vr(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t[o]=a(n[u]),u+=e,o+=i;return t}function gr(r,n,e,t,i,a,u,o){var s,f,d,l;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,l=0;l<r;l++)a[d]=o(n[s],t[f]),s+=e,f+=i,d+=u;return a}function yr(r,n,e,t,i,a,u,o){var s,f,d,l;if(r<=0)return a;for(s=e<0?(1-r)*e:0,f=i<0?(1-r)*i:0,d=u<0?(1-r)*u:0,l=0;l<r;l++)0===t[f]&&(a[d]=o(n[s])),s+=e,f+=i,d+=u;return a}function hr(r,n,e,t,i,a,u,o,s,f){var d,l,m,p,c;if(r<=0)return o;for(d=e<0?(1-r)*e:0,l=i<0?(1-r)*i:0,m=s<0?(1-r)*s:0,p=u<0?(1-r)*u:0,c=0;c<r;c++)0===a[p]&&(o[m]=f(n[d],t[l])),d+=e,l+=i,m+=s,p+=u;return o}function br(r,n,e,t){var i,a,u,o,s,f,d,l,m,p,c,v,g,y;if(!((g=n[0])<=0))for(s=(i=e[0])<0?(1-g)*i:0,f=(a=e[1])<0?(1-g)*a:0,d=(u=e[2])<0?(1-g)*u:0,l=(o=e[3])<0?(1-g)*o:0,m=r[0],p=r[1],c=r[2],v=r[3],y=0;y<g;y++)v[l]=t(m[s],p[f],c[d]),s+=i,f+=a,d+=u,l+=o}function wr(r,n){return r[n]}function jr(r,n){return r.get(n)}function Er(r,n,e){r[n]=e}function xr(r,n,e){r.set(e,n)}function Tr(r,n,e,t){var i,a,u,o;return(u=r[0]).get&&u.set&&(i=jr),(o=r[1]).get&&o.set&&(a=xr),i||a?function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c;if(!((p=n[0])<=0))for(f=(o=e[0])<0?(1-p)*o:0,d=(s=e[1])<0?(1-p)*s:0,l=r[0],m=r[1],a=t[0],u=t[1],c=0;c<p;c++)u(m,d,i(a(l,f))),f+=o,d+=s}(r,n,e,[i=i||wr,a=a||Er],t):function(r,n,e,t){var i,a,u,o,s,f,d,l;if(!((d=n[0])<=0))for(u=(i=e[0])<0?(1-d)*i:0,o=(a=e[1])<0?(1-d)*a:0,s=r[0],f=r[1],l=0;l<d;l++)f[o]=t(s[u]),u+=i,o+=a}(r,n,e,t)}n(dr,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o){var s;if(!t(a))return n(e,i,a,u,o),a;if(null===(i=D(i)))throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!d(o))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",o));o=Y(e,u,o),s=i===lr?P(a,o):i===mr?M(a,o):N(a,o);return r(e,i,s,u),a}})),n(pr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v,g,y,h,b,w,j;if(!((w=n[0])<=0))for(d=t[0],l=t[1],m=t[2],p=t[3],c=t[4],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],v=r[0],g=r[1],y=r[2],h=r[3],b=r[4],j=0;j<w;j++)b[c]=i(v[d],g[l],y[m],h[p]),d+=a,l+=u,m+=o,p+=s,c+=f})),n(cr,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v,g,y,h,b,w,j,E,x,T;if(!((x=n[0])<=0))for(l=t[0],m=t[1],p=t[2],c=t[3],v=t[4],g=t[5],a=e[0],u=e[1],o=e[2],s=e[3],f=e[4],d=e[5],y=r[0],h=r[1],b=r[2],w=r[3],j=r[4],E=r[5],T=0;T<x;T++)E[g]=i(y[l],h[m],b[p],w[c],j[v]),l+=a,m+=u,p+=o,c+=s,v+=f,g+=d})),n(vr,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i[f]=o(n[s]),s+=e,f+=a;return i})),n(gr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var l,m,p,c;if(r<=0)return o;for(l=t,m=u,p=f,c=0;c<r;c++)o[p]=d(n[l],i[m]),l+=e,m+=a,p+=s;return o})),n(yr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d){var l,m,p,c;if(r<=0)return o;for(l=t,m=u,p=f,c=0;c<r;c++)0===i[m]&&(o[p]=d(n[l])),l+=e,m+=a,p+=s;return o})),n(hr,"ndarray",(function(r,n,e,t,i,a,u,o,s,f,d,l,m,p){var c,v,g,y,h;if(r<=0)return d;for(c=t,v=u,g=m,y=f,h=0;h<r;h++)0===o[y]&&(d[g]=p(n[c],i[v])),c+=e,v+=a,g+=l,y+=s;return d})),n(br,"ndarray",(function(r,n,e,t,i){var a,u,o,s,f,d,l,m,p,c,v,g,y,h;if(!((y=n[0])<=0))for(f=t[0],d=t[1],l=t[2],m=t[3],a=e[0],u=e[1],o=e[2],s=e[3],p=r[0],c=r[1],v=r[2],g=r[3],h=0;h<y;h++)g[m]=i(p[f],c[d],v[l]),f+=a,d+=u,l+=o,m+=s})),n(Tr,"ndarray",(function(r,n,e,t,i){var a,u,o,s;return(o=r[0]).get&&o.set&&(a=jr),(s=r[1]).get&&s.set&&(u=xr),a||u?function(r,n,e,t,i,a){var u,o,s,f,d,l,m,p,c,v;if(!((c=n[0])<=0))for(d=t[0],l=t[1],s=e[0],f=e[1],m=r[0],p=r[1],u=i[0],o=i[1],v=0;v<c;v++)o(p,l,a(u(m,d))),d+=s,l+=f}(r,n,e,t,[a=a||wr,u=u||Er],i):function(r,n,e,t,i){var a,u,o,s,f,d,l,m;if(!((l=n[0])<=0))for(o=t[0],s=t[1],a=e[0],u=e[1],f=r[0],d=r[1],m=0;m<l;m++)d[s]=i(f[o]),o+=a,s+=u}(r,n,e,t,i)}));var Vr=D("complex64"),Sr=D("complex128");function kr(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,f){var d,l;if(!t(a)||!t(s))return n(e,i,a,u,o,s,f),s;if(i=D(i),o=D(o),null===i||null===o)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");d=i===Vr?P(a,0):i===Sr?M(a,0):a;l=o===Vr?P(s,0):o===Sr?M(s,0):s;return r(e,i,d,u,o,l,f),s}}var Fr=D("complex64"),Or=D("complex128");function Ir(r,n,e,t,i,a){var u,o,s;if(r<=0)return t;for(u=e<0?(1-r)*e:0,o=i<0?(1-r)*i:0,s=0;s<r;s++)t.set(a(n.get(u)),o),u+=e,o+=i;return t}n(kr,"ndarray",(function(r,n){if(!e(r))throw new TypeError(f("invalid argument. First argument must be a function. Value: `%s`.",r));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be a function. Value: `%s`.",n));return function(e,i,a,u,o,s,l,m,p){var c,v;if(!t(a)||!t(l))return n(e,i,a,u,o,s,l,m,p),l;if(i=D(i),s=D(s),null===i||null===s)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");if(!d(o))throw new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",o));if(!d(p))throw new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`."));o=Y(e,u,o),p=Y(e,m,p),c=i===Fr?P(a,o):i===Or?M(a,o):N(a,o);v=s===Fr?P(l,p):s===Or?M(l,p):N(l,p);return r(e,i,c,u,s,v,m),l}})),n(Ir,"ndarray",(function(r,n,e,t,i,a,u,o){var s,f,d;if(r<=0)return i;for(s=t,f=u,d=0;d<r;d++)i.set(o(n.get(s)),f),s+=e,f+=a;return i}));var Ur={};function Rr(r,n,e,t,i,a,u,o,s){var f,d,l,m;for(f=a,l=0;l<r;l++){for(d=s,m=0;m<n&&e[f+m*i]===u[d];m++)d+=o;if(m===n)return l;f+=t}return-1}function Br(r,n,t,i,a,u){var o,s,l,m,p,c;if(e(r))c=r;else if(!w(r))throw new TypeError(f("invalid argument. First argument must be either a function or an array of functions. Value: `%s`.",r));if(!j(n))throw new TypeError(f("invalid argument. Second argument must be an array-like object. Value: `%s`.",n));if(!j(t)&&null!==t)throw new TypeError(f("invalid argument. Third argument must be an array-like object or null. Value: `%s`.",t));if(!h(i))throw new TypeError(f("invalid argument. Fourth argument must be a positive integer. Value: `%s`.",i));if(!d(a))throw new TypeError(f("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",a));if(!d(u))throw new TypeError(f("invalid argument. Sixth argument must be a nonnegative integer. Value: `%s`.",u));if(0===(l=a+u))throw new Error("invalid arguments. Interface must accept at least one strided input and/or output array. Based on the provided arguments, `nin+nout` equals `0`.");if(c){if(m=n.length/l,!b(m))throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.")}else if(m=r.length,n.length!==m*l)throw new Error("invalid argument. Unexpected number of types. A type must be specified for each strided input and output array for each provided strided array function.");if(t&&t.length!==m)throw new Error("invalid argument. The third argument must have the same number of elements as the first argument.");if(3*l+1===i)s=!1;else{if(4*l+1!==i)throw new Error("invalid argument. Fourth argument is incompatible with the number of strided input and output arrays.");s=!0}return p=a*(o=s?4:3)+1,function(){var e,v,g,y,h,w,x,T,V,S,k,F;if((w=arguments.length)!==i){if(w<i)throw new Error("invalid invocation. Insufficient arguments.");throw new Error("invalid invocation. Too many arguments.")}if(!b(T=arguments[0]))throw new TypeError(f("invalid argument. First argument must be an integer. Value: `%s`.",T));for(h=[T],y=[],k=1;k<i;k+=o)y.push(arguments[k]);for(e=[],k=3;k<i;k+=o){if(!b(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array stride must be an integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array stride must be an integer. Value: `%s`.",V));e.push(V)}if(s)for(v=[],k=4;k<i;k+=o){if(!d(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array offset must be a nonnegative integer. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array offset must be a nonnegative integer. Value: `%s`.",V));v.push(V)}for(g=[],k=2;k<i;k+=o){if(!j(V=arguments[k]))throw k<p?new TypeError(f("invalid argument. Input array must be an array-like object. Value: `%s`.",V)):new TypeError(f("invalid argument. Output array must be an array-like object. Value: `%s`.",V));if(F=(k-2)/o,s){if(x=v[F]+(T-1)*e[F],T>0&&(x<0||x>=V.length))throw k<p?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.")}else if((T-1)*E(e[F])>=V.length)throw k<p?new RangeError("invalid argument. Input array has insufficient elements based on the associated stride and the number of indexed elements."):new RangeError("invalid argument. Output array has insufficient elements based on the associated stride and the number of indexed elements.");g.push(V)}if((x=Rr(m,l,n,l,1,0,y,1,0))<0)throw new TypeError("invalid arguments. Unable to resolve a strided array function supporting the provided array argument data types.");S=c||r[x];t?s?S(g,h,e,v,t[x]):S(g,h,e,t[x]):s?S(g,h,e,v):S(g,h,e);if(1===u)return g[l-1];if(0===u)return;return g.slice(a)}}r(Ur,"binary",k),r(Ur,"binaryAddonDispatch",L),r(Ur,"binaryDtypeSignatures",(function(r,n,e,t){var i,a,u,o,s,f,d,p,c,v,g,y,h,b,w,j,E;if(u=arguments.length>3?t:{},(f=K(r))instanceof Error)throw f;if(n===r)d=f;else if((d=K(n))instanceof Error)throw d;if(e===r)p=f;else if(e===n)p=d;else if((p=K(e))instanceof Error)throw p;for(p.sort(),i={},h=f.length,b=d.length,s=[],w=0;w<h;w++)for(c=f[w],j=0;j<b;j++)if(v=d[j],-1!==(g=l(c,v))&&null!==g)for(s.push(c,v,g),void 0===(a=i[g])&&(a=J(p,(a=m(g)).sort()),i[g]=a),E=0;E<a.length;E++)(y=a[E])!==g&&s.push(c,v,y);if(u.enums){for(o=[],w=0;w<s.length;w++)o.push(D(s[w]));s=o}return s})),r(Ur,"binarySignatureCallbacks",(function(r,n){var e,t,i,a,u;for(e=[],u=0;u<n.length;u+=3)t=H(n[u]),i=H(n[u+1]),a=H(n[u+2]),e.push(Z(r,t,i,a));return e})),r(Ur,"cmap",$),r(Ur,"dmap",rr),r(Ur,"dmap2",nr),r(Ur,"dmskmap",er),r(Ur,"dmskmap2",tr),r(Ur,"dtypeEnum2Str",B),r(Ur,"dtypeResolveEnum",D),r(Ur,"dtypeResolveStr",H),r(Ur,"dtypeStr2Enum",A),r(Ur,"mapBy",ir),r(Ur,"mapBy2",ar),r(Ur,"maxViewBufferIndex",(function(r,n,e){return r>0&&n>0&&(e+=(r-1)*n),e})),r(Ur,"metaDataProps",(function(r,e,t,i){return n(t,"nargs",i?r.nargs+r.nin+r.nout:r.nargs),n(t,"nin",r.nin),n(t,"nout",r.nout),g(t,"types",(function(){return y(e,r.nin,r.nout)})),t})),r(Ur,"minViewBufferIndex",Y),r(Ur,"mskunary",ur),r(Ur,"nullary",or),r(Ur,"nullaryAddonDispatch",dr),r(Ur,"offsetView",N),r(Ur,"quaternary",pr),r(Ur,"quinary",cr),r(Ur,"reinterpretComplex64",P),r(Ur,"reinterpretComplex128",M),r(Ur,"smap",vr),r(Ur,"smap2",gr),r(Ur,"smskmap",yr),r(Ur,"smskmap2",hr),r(Ur,"ternary",br),r(Ur,"unary",Tr),r(Ur,"unaryAddonDispatch",kr),r(Ur,"zmap",Ir);var _r={};r(_r,"base",Ur),r(_r,"dispatch",Br),r(_r,"dtypes",O);export{Ur as base,_r as default,Br as dispatch,O as dtypes};
//# sourceMappingURL=index.mjs.map
